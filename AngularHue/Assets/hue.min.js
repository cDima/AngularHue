"use strict";function trackEvent(n,t,i,r){ga("send","event",n,t,{nonInteraction:1,label:i,value:r});typeof mixpanel!="undefined"&&mixpanel.track_links!==undefined&&mixpanel.track(i,{category:n,action:t,value:r})}var app=angular.module("app",["ngRoute","ngCookies","ngMaterial","home","signIn","register","ngProgress","LocalStorageModule","todoManager","HueHub","HueWeb"]).config(function(n){n.theme("default").primaryPalette("blue")}),serviceBase="http://localhost:34182/",CanvasImage,ColorThief,pv,MMCQ,config,colors,Palettes,Sequence,Ambient,scenes,sceneCommander,hue,colorUtil,hueCommander;app.constant("ngAuthSettings",{apiServiceBaseUri:serviceBase,clientId:"self"});app.config(["$provide","$routeProvider","$httpProvider",function(n,t,i){i.interceptors.push(["$q","$location",function(n,t){return{responseError:function(i){return i.status===401&&t.url("/signin"),n.reject(i)}}}]);t.when("/home",{templateUrl:"App/Home",controller:"homeCtrl"});t.when("/hueweb",{templateUrl:"App/Home",controller:"homeCtrl"});t.when("/register",{templateUrl:"App/Register",controller:"registerCtrl"});t.when("/signin/:message?",{templateUrl:"App/SignIn",controller:"signInCtrl"});t.when("/todomanager",{templateUrl:"App/TodoManager",controller:"todoManagerCtrl"});t.otherwise({redirectTo:"/home"})}]);app.run(["$http","$cookies","$cookieStore",function(n,t,i){i.get("_Token")!==null&&(n.defaults.headers.common.Authorization="Bearer "+i.get("_Token"));n.defaults.headers.common.RefreshToken=i.get("_RefreshToken")}]);app.run(["$rootScope","$http","$cookies","$cookieStore","ngProgress","authService",function(n,t,i,r,u,f){n.logout=function(){u.start();t.post("/api/Account/Logout").success(function(){u.complete();f.logOut();t.defaults.headers.common.Authorization=null;t.defaults.headers.common.RefreshToken=null;r.remove("_Token");r.remove("_RefreshToken");n.username="";n.loggedIn=!1})};n.login=function(){};n.$on("$locationChangeSuccess",function(){if(!1&&t.defaults.headers.common.RefreshToken!=null){var i="grant_type=refresh_token&refresh_token="+t.defaults.headers.common.RefreshToken;u.start();t({url:"/Token",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:i}).success(function(i){"use strict";u.complete();t.defaults.headers.common.Authorization="Bearer "+i.access_token;t.defaults.headers.common.RefreshToken=i.refresh_token;r.put("_Token",i.access_token);r.put("_RefreshToken",i.refresh_token);u.start();t.get("/api/WS_Account/GetCurrentUserName").success(function(t){u.complete();t!="null"?(n.username=t.replace(/["']{1}/gi,""),n.loggedIn=!0):n.loggedIn=!1}).error(function(){u.complete()})}).error(function(){"use strict";u.complete();n.loggedIn=!1})}})}]);angular.module("home",["ngProgress","HueHub"]).controller("homeCtrl",["$scope","$location","$http","ngProgress","$timeout","$mdSidenav","$log","ngAuthSettings","authService","HueHub",function(n,t,i,r,u,f,e,o,s,h){r.start();n.data={selectedIndex:0,secondLocked:!1,secondLabel:"Item Two"};s.fillAuthData();n.auth=s.authentication;n.alert=function(){alert("WOW")};r.complete();n.toggleLeft=function(){f("left").toggle().then(function(){e.debug("toggle left is done")})};n.toggleRight=function(){var n=f("right"),t=n.toggle();t.then(function(){e.debug("toggle RIGHT is done")})};n.hub=h}]).controller("LeftCtrl",["$scope","$timeout","$mdSidenav","$log",function(n,t,i){n.close=function(){i("left").close().then(function(){return!1})}}]).controller("RightCtrl",["$scope","$timeout","$mdSidenav","$log",function(n,t,i){n.close=function(){i("right").close().then(function(){return!1})}}]);angular.module("todoManager",["ngProgress"]).controller("todoManagerCtrl",["$scope","$http","ngProgress",function(n,t,i){n.getList=function(){i.start();t.get("/api/WS_Todo/GetUserTodoItems").success(function(t){i.complete();n.todoList=t}).error(function(){i.complete()})};n.postItem=function(){item={task:n.newTaskText};n.newTaskText!=""&&(i.start(),t.post("/api/WS_Todo/PostTodoItem",item).success(function(){"use strict";i.complete();n.newTaskText="";n.getList()}).error(function(){"use strict";i.complete()}))};n.complete=function(r){i.start();t.post("/api/WS_Todo/CompleteTodoItem/"+n.todoList[r].id).success(function(){i.complete();n.getList()}).error(function(){i.complete()})};n.delete=function(r){i.start();t.post("/api/WS_Todo/DeleteTodoItem/"+n.todoList[r].id).success(function(){i.complete();n.getList()}).error(function(){i.complete()})};n.getList()}]);angular.module("register",["ngProgress"]).controller("registerCtrl",["$scope","$http","ngProgress",function(n,t,i){i.start();n.register=function(){var r={Email:n.username,Password:n.password1,ConfirmPassword:n.password2};i.start();t.post("/api/Account/Register",r).success(function(){i.complete();n.successMessage="Registration Complete.  Please check your email for account activation instructions.";n.showErrorMessage=!1;n.showSuccessMessage=!0}).error(function(t){i.complete();n.errorMessages=angular.isArray(t)?t:new Array(t.replace(/["']{1}/gi,""));n.showSuccessMessage=!1;n.showErrorMessage=!0})};n.showAlert=!1;n.showSuccess=!1;i.complete()}]);angular.module("signIn",["ngCookies","ngProgress"]).controller("signInCtrl",["$scope","$rootScope","$http","$cookies","$cookieStore","$location","$routeParams","ngProgress","ngAuthSettings","authService",function(n,t,i,r,u,f,e,o,s,h){o.start();n.message=e.message;n.auth===undefined&&(n.auth=h.authentication);n.signIn=function(){n.showMessage=!1;var t="grant_type=password&username="+n.username+"&password="+n.password;o.start();i({url:"/Token",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:t}).success(function(n){o.complete();i.defaults.headers.common.Authorization="Bearer "+n.access_token;i.defaults.headers.common.RefreshToken=n.refresh_token;u.put("_Token",n.access_token);window.location="#/todomanager"}).error(function(t){o.complete();n.message=t.error_description.replace(/["']{1}/gi,"");n.showMessage=!0})};n.authExternalProvider=function(t){var i=location.protocol+"//"+location.host+"/authcomplete.html",r=s.apiServiceBaseUri+"api/Account/ExternalLogin?provider="+t+"&response_type=token&client_id="+s.clientId+"&redirect_uri="+i,u;window.$windowScope=n;u=window.open(r,"Authenticate Account","location=0,status=0,width=600,height=750")};n.authCompletedCB=function(t){n.$apply(function(){if(t.haslocalaccount=="False")h.externalAuthData={provider:t.provider,userName:t.external_user_name,externalAccessToken:t.external_access_token},f.path("/home");else{var i={provider:t.provider,externalAccessToken:t.external_access_token};h.obtainAccessToken(i).then(function(){},function(t){"use strict";n.message=t.error_description})}})};o.complete()}]);app.factory("authService",["$http","$q","localStorageService","ngAuthSettings","$cookieStore",function(n,t,i,r,u){var s=r.apiServiceBaseUri,e={},f={isAuth:!1,userName:"",name:"",email:"",image:"",facebooklink:"",googlelink:"",useRefreshTokens:!1},h=function(n,t){t.name=n.name;t.email=n.email;t.image=n.image;t.facebooklink=n.facebooklink;t.googlelink=n.googlelink},l=function(t){return o(),n.post(s+"api/account/register",t).then(function(n){return n})},a=function(u){var c="grant_type=password&username="+u.userName+"&password="+u.password,e;return u.useRefreshTokens&&(c=c+"&client_id="+r.clientId),e=t.defer(),n.post(s+"token",c,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(n){var t;u.useRefreshTokens?(t={token:n.access_token,userName:u.userName,refreshToken:n.refresh_token,useRefreshTokens:!0},h(u,t),i.set("authorizationData",t)):(t={token:n.access_token,userName:u.userName,refreshToken:"",useRefreshTokens:!1},h(u,t),i.set("authorizationData",t));f.isAuth=!0;f.userName=u.userName;h(u,f);f.useRefreshTokens=u.useRefreshTokens;e.resolve(n)}).error(function(n){o();e.reject(n)}),e.promise},o=function(){i.remove("authorizationData");f.isAuth=!1;f.userName="";f.name="";f.email="";f.image="";f.facebooklink="";f.googlelink="";f.useRefreshTokens=!1},v=function(){var n=i.get("authorizationData");n&&(f.isAuth=!0,f.userName=n.userName,h(n,f),f.useRefreshTokens=n.useRefreshTokens)},c=function(t){f.token=t.access_token;f.userName=t.userName;f.refreshToken=t.refresh_token||"";f.useRefreshTokens=!1;f.isAuth=!0;h(t,f);i.set("authorizationData",f);u.put("_Token",f.token);u.put("_RefreshToken",f.refreshToken);n.defaults.headers.common.Authorization=f.token==""?"":"Bearer "+f.token;n.defaults.headers.common.RefreshToken=f.refreshToken},y=function(){var u=t.defer(),f=i.get("authorizationData"),e;return f&&f.useRefreshTokens&&(e="grant_type=refresh_token&refresh_token="+f.refreshToken+"&client_id="+r.clientId,i.remove("authorizationData"),n.post(s+"token",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(n){c(n);u.resolve(n)}).error(function(n){o();u.reject(n)})),u.promise},p=function(i){var r=t.defer();return n.get(s+"api/account/ObtainLocalAccessToken",{params:{provider:i.provider,externalAccessToken:i.externalAccessToken}}).success(function(n){c(n);r.resolve(n)}).error(function(n){o();r.reject(n)}),r.promise},w=function(i){var r=t.defer();return n.post(s+"api/account/registerexternal",i).success(function(n){c(n);r.resolve(n)}).error(function(n){o();r.reject(n)}),r.promise};return e.saveRegistration=l,e.login=a,e.logOut=o,e.fillAuthData=v,e.authentication=f,e.refreshToken=y,e.obtainAccessToken=p,e.externalAuthData={provider:"",userName:"",name:"",email:"",image:"",facebooklink:"",googlelink:"",externalAccessToken:""},e.registerExternal=w,e}]);angular.module("HueHub",["SignalR"]);app.factory("HueHub",["$rootScope","Hub","authService",function(n,t){var i=this;i.connected=0;var r=new t("HueHub",{rootPath:globals.signalrUrl,listeners:{newConnection:function(t){i.connected=t;n.$apply()},removeConnection:function(t){i.connected=t;n.$apply()}},errorHandler:function(n){console.error(n)}}),u=function(n){r.lock(n.Id)},f=function(n){r.unlock(n.Id)};return i}]);angular.module("HueWeb",[]).constant("$",$).factory("HueSearchColorlovers",function(){function t(u){$("#search-loading").show();$.getJSON("https://colorlovers.herokuapp.com/api/palettes/"+u+"?jsonCallback=?",{keywords:$("#colorsearch").val(),resultOffset:n,numResults:7},function(u){$("#search-loading").hide();i=u;r(i);$('a[href$="#search?back"]').off("click");$('a[href$="#search?back"]').click(function(){n-=7;t("new",n)});$('a[href$="#search?next"]').off("click");$('a[href$="#search?next"]').click(function(){n+=7;t("new",n)})})}function r(n){var t=$(".search-results");t.empty();$.each(n,function(n,i){var r=$('<div class="palette">                       <div class="colors"><\/div>                       <div class="palette-name"><\/div>                      <\/div>');i.colors.forEach(function(n){$(".colors",r).append($("<a><\/a>").addClass("color").attr("href","#"+n).css({backgroundColor:"#"+n}).click(executeCommand))});$(".palette-name",r).text(i.title);$(r).click(function(){scenes.RelaxedRandom.Palette=i.colors.map(function(n){return"#"+n});hueCommander.command("scene:RelaxedRandom");activatedScene("RelaxedRandom")});t.append(r)})}return;var i,n}).factory("HueColorPicker",function(){function n(n){var r=$(n.target).offset(),f=Math.floor(n.pageX-r.left),e=Math.floor(n.pageY-r.top),o=document.getElementById(n.target.id).getContext("2d"),s=o.getImageData(f,e,1,1),t=s.data,h="rgb("+t[0]+", "+t[1]+", "+t[2]+")",u,i;return $(".preview").css("backgroundColor",h),u=t[2]+256*t[1]+65536*t[0],i="#"+("0000"+u.toString(16)).substr(-6),$("#rgbVal").css({backgroundColor:i}),i}return}).controller("HueWeb",["$rootScope",function(){function n(n){console.log(n)}function s(n){$(n).addClass("error");$(n).addClass("shake");$(n).bind("oanimationend animationend webkitAnimationEnd",function(){$(n).removeClass("shake")})}function y(){var n=$("#manualbridgeip input").val();h(n,function(){$("#manualbridgeip").addClass("shake").bind("oanimationend animationend webkitAnimationEnd",function(){$("#manualbridgeip").removeClass("shake")})})}function h(n,t){try{$.ajax({dataType:"json",url:"http://"+n+"/api/123-bogus",success:function(){hue.setIp(n);hue.heartbeat()},error:t,timeout:2e3})}catch(i){}}function r(n,t){$("html").animate({height:n},t);$("body").animate({height:n},t);typeof chrome!="undefined"&&chrome.app.window!==undefined&&setTimeout(function(){var t=chrome.app.window.current();t.innerBounds.height=n;t.innerBounds.width=320},500)}function c(){var i=window.hueCommander.getActorStates(),r=window.hueCommander.getActor(),n=!1,t=0;$("button").removeClass("active");$("button[id="+r+"]").addClass("active");$.each(i,function(i,r){n=n||r.state.on;r.state.bri>t&&(t=r.state.bri)});$("#cmn-toggle-1").prop("checked",n);$("#brightness-control").val(t);$("#brightness-control").change();$("#brightness-control").prop("disabled",!n)}function f(n,t){return $('<button type="button" class="actor"><\/button>').text(t).attr("id",n)}function l(n){var t=n.target.id;$("button").removeClass("active");$("button[id="+t+"]").addClass("active");hueCommander.setActor(t);c()}function e(){var t=window.hue.getState(),i,r,u;if(t.lights!==null){if($("#lamps").empty(),$("#group-add-lamps").empty(),$("#groups").empty(),$("#scenes").empty(),$("#group-remove").empty(),$.each(t.lights,function(t,i){var u,r;n("Lights: "+t+", name: "+i.name+", reachable: "+i.state.reachable+", on: "+i.state.on);u=f(t,i.name);u.click(l);$("#lamps").append(u);r=f(t,i.name);r.addClass("lamp-select");r.click(function(){$(this).toggleClass("active")});$("#group-add-lamps").append(r)}),i=!1,r=[],$.each(t.lights,function(n,t){t.state.reachable&&r.push(t);i=i||t.state.reachable||t.state.on}),Object.keys(t.groups).length===0){u=$.map(t.lights,function(n,t){return t});hue.createGroup("All",u);hue.heartbeat();setTimeout(e,1e3);return}w(i);$.each(t.groups,function(t,i){var u,r;n("Groups: "+t+", name: "+i.name+", # lights: "+i.lights.length);u=f("group-"+t,i.name);u.click(l);$("#groups").append(u);r=f(t+" ",i.name);r.click(function(){hue.removeGroup(t);hue.heartbeat();setTimeout(e,2e3);$(this).hide("slow")});r.append("&nbsp;");t!=="1"&&r.append($('<li class="fa fa-remove"><\/li>'));$("#group-remove").append(r)});$.each(t.scenes,function(t,i){var r,u;n("Scenes: "+t+", name: "+i.name+", # lights: "+i.lights.length);i.name.endsWith(" on 0")&&(r=i.name.substring(0,i.name.length-5),$('#scenes button:contains("'+r+'")').length===0&&(u=$('<button type="button" class="savedscene"><\/button>').text(r).attr("id",t),u.click(function(){hueCommander.command("scene:"+t);o(t)}),$("#scenes").append(u)))});n("Config: "+t.config.name+", version: "+t.config.swversion+", ip: "+t.config.ipaddress+", portal: "+t.config.portalconnection+", zigbeechannel:"+t.config.zigbeechannel);hueCommander.setActor("group-1");c()}}function w(n){if(typeof chrome!="undefined"&&chrome.browserAction!==undefined){var t="../img/lightswitch.logo.on.128.png";t=n?config.app==="ambieye"?"../img/ambieye-ico-on.png":"../img/lightswitch.logo.on.128.png":config.app==="ambieye"?"../img/ambieye-ico.png":"../img/lightswitch.logo.128.png";chrome.browserAction.setIcon({path:t})}}function o(n){$("#scenes button").removeClass("active");$(".scene").removeClass("active");$('#scenes button[id="'+n+'"').addClass("active");$('.scene[data-scene="'+n+'"]').addClass("active")}function b(){$(".tab-content").hide(0);$(".controls").fadeOut(600,a)}function k(){$(".tab-content").hide(0);config.tabs===!0&&$(".controls").fadeIn(600,a)}function a(){$(".tab-content").fadeIn(600)}function d(){var n=$(this).attr("href");return window.hueCommander.command(n),o("none"),!1}function g(){if(typeof chrome!="undefined"&&chrome.extension!==undefined){n("loading as chrome extention popup");var t=chrome.extension.getBackgroundPage();t.hasAllUrlAccess(function(){i.updateImage=!0;$("#toggle-ambientweb").prop("checked",i.on);var n=i.on;n||(n=i.run(),$("#toggle-ambientweb").attr("disabled",!n))})}}var i,v,u,t;return}]);
/*!
 * Bootstrap v3.3.4 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(n){var t=n.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher");}(jQuery);+function(n){function t(){var i=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var t in n)if(void 0!==i.style[t])return{end:n[t]};return!1}n.fn.emulateTransitionEnd=function(t){var i=!1,u=this,r;n(this).one("bsTransitionEnd",function(){i=!0});return r=function(){i||n(u).trigger(n.support.transition.end)},setTimeout(r,t),this};n(function(){n.support.transition=t();n.support.transition&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery);+function(n){function u(i){return this.each(function(){var r=n(this),u=r.data("bs.alert");u||r.data("bs.alert",u=new t(this));"string"==typeof i&&u[i].call(r)})}var i='[data-dismiss="alert"]',t=function(t){n(t).on("click",i,this.close)},r;t.VERSION="3.3.4";t.TRANSITION_DURATION=150;t.prototype.close=function(i){function e(){r.detach().trigger("closed.bs.alert").remove()}var f=n(this),u=f.attr("data-target"),r;u||(u=f.attr("href"),u=u&&u.replace(/.*(?=#[^\s]*$)/,""));r=n(u);i&&i.preventDefault();r.length||(r=f.closest(".alert"));r.trigger(i=n.Event("close.bs.alert"));i.isDefaultPrevented()||(r.removeClass("in"),n.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e())};r=n.fn.alert;n.fn.alert=u;n.fn.alert.Constructor=t;n.fn.alert.noConflict=function(){return n.fn.alert=r,this};n(document).on("click.bs.alert.data-api",i,t.prototype.close)}(jQuery);+function(n){function i(i){return this.each(function(){var u=n(this),r=u.data("bs.button"),f="object"==typeof i&&i;r||u.data("bs.button",r=new t(this,f));"toggle"==i?r.toggle():i&&r.setState(i)})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.isLoading=!1},r;t.VERSION="3.3.4";t.DEFAULTS={loadingText:"loading..."};t.prototype.setState=function(t){var r="disabled",i=this.$element,f=i.is("input")?"val":"html",u=i.data();t+="Text";null==u.resetText&&i.data("resetText",i[f]());setTimeout(n.proxy(function(){i[f](null==u[t]?this.options[t]:u[t]);"loadingText"==t?(this.isLoading=!0,i.addClass(r).attr(r,r)):this.isLoading&&(this.isLoading=!1,i.removeClass(r).removeAttr(r))},this),0)};t.prototype.toggle=function(){var t=!0,i=this.$element.closest('[data-toggle="buttons"]'),n;i.length?(n=this.$element.find("input"),"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:i.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")):this.$element.attr("aria-pressed",!this.$element.hasClass("active"));t&&this.$element.toggleClass("active")};r=n.fn.button;n.fn.button=i;n.fn.button.Constructor=t;n.fn.button.noConflict=function(){return n.fn.button=r,this};n(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var r=n(t.target);r.hasClass("btn")||(r=r.closest(".btn"));i.call(r,"toggle");t.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){n(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery);+function(n){function i(i){return this.each(function(){var u=n(this),r=u.data("bs.carousel"),f=n.extend({},t.DEFAULTS,u.data(),"object"==typeof i&&i),e="string"==typeof i?i:f.slide;r||u.data("bs.carousel",r=new t(this,f));"number"==typeof i?r.to(i):e?r[e]():f.interval&&r.pause().cycle()})}var t=function(t,i){this.$element=n(t);this.$indicators=this.$element.find(".carousel-indicators");this.options=i;this.paused=null;this.sliding=null;this.interval=null;this.$active=null;this.$items=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",n.proxy(this.keydown,this));"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",n.proxy(this.pause,this)).on("mouseleave.bs.carousel",n.proxy(this.cycle,this))},u,r;t.VERSION="3.3.4";t.TRANSITION_DURATION=600;t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0};t.prototype.keydown=function(n){if(!/input|textarea/i.test(n.target.tagName)){switch(n.which){case 37:this.prev();break;case 39:this.next();break;default:return}n.preventDefault()}};t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(n.proxy(this.next,this),this.options.interval)),this};t.prototype.getItemIndex=function(n){return this.$items=n.parent().children(".item"),this.$items.index(n||this.$active)};t.prototype.getItemForDirection=function(n,t){var i=this.getItemIndex(t),f="prev"==n&&0===i||"next"==n&&i==this.$items.length-1,r,u;return f&&!this.options.wrap?t:(r="prev"==n?-1:1,u=(i+r)%this.$items.length,this.$items.eq(u))};t.prototype.to=function(n){var i=this,t=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(n>this.$items.length-1)&&!(0>n))return this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(n)}):t==n?this.pause().cycle():this.slide(n>t?"next":"prev",this.$items.eq(n))};t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&n.support.transition&&(this.$element.trigger(n.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this};t.prototype.next=function(){if(!this.sliding)return this.slide("next")};t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};t.prototype.slide=function(i,r){var e=this.$element.find(".item.active"),u=r||this.getItemForDirection(i,e),l=this.interval,f="next"==i?"left":"right",a=this,o,s,h,c;return u.hasClass("active")?this.sliding=!1:(o=u[0],s=n.Event("slide.bs.carousel",{relatedTarget:o,direction:f}),(this.$element.trigger(s),!s.isDefaultPrevented())?((this.sliding=!0,l&&this.pause(),this.$indicators.length)&&(this.$indicators.find(".active").removeClass("active"),h=n(this.$indicators.children()[this.getItemIndex(u)]),h&&h.addClass("active")),c=n.Event("slid.bs.carousel",{relatedTarget:o,direction:f}),n.support.transition&&this.$element.hasClass("slide")?(u.addClass(i),u[0].offsetWidth,e.addClass(f),u.addClass(f),e.one("bsTransitionEnd",function(){u.removeClass([i,f].join(" ")).addClass("active");e.removeClass(["active",f].join(" "));a.sliding=!1;setTimeout(function(){a.$element.trigger(c)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)):(e.removeClass("active"),u.addClass("active"),this.sliding=!1,this.$element.trigger(c)),l&&this.cycle(),this):void 0)};u=n.fn.carousel;n.fn.carousel=i;n.fn.carousel.Constructor=t;n.fn.carousel.noConflict=function(){return n.fn.carousel=u,this};r=function(t){var o,r=n(this),u=n(r.attr("data-target")||(o=r.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")),e,f;u.hasClass("carousel")&&(e=n.extend({},u.data(),r.data()),f=r.attr("data-slide-to"),f&&(e.interval=!1),i.call(u,e),f&&u.data("bs.carousel").to(f),t.preventDefault())};n(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r);n(window).on("load",function(){n('[data-ride="carousel"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){function r(t){var i,r=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return n(r)}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.collapse"),f=n.extend({},t.DEFAULTS,u.data(),"object"==typeof i&&i);!r&&f.toggle&&/show|hide/.test(i)&&(f.toggle=!1);r||u.data("bs.collapse",r=new t(this,f));"string"==typeof i&&r[i]()})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.$trigger=n('[data-toggle="collapse"][href="#'+i.id+'"],[data-toggle="collapse"][data-target="#'+i.id+'"]');this.transitioning=null;this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger);this.options.toggle&&this.toggle()},u;t.VERSION="3.3.4";t.TRANSITION_DURATION=350;t.DEFAULTS={toggle:!0};t.prototype.dimension=function(){var n=this.$element.hasClass("width");return n?"width":"height"};t.prototype.show=function(){var f,r,e,u,o,s;if(!this.transitioning&&!this.$element.hasClass("in")&&(r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing"),!(r&&r.length&&(f=r.data("bs.collapse"),f&&f.transitioning))&&(e=n.Event("show.bs.collapse"),this.$element.trigger(e),!e.isDefaultPrevented()))){if(r&&r.length&&(i.call(r,"hide"),f||r.data("bs.collapse",null)),u=this.dimension(),this.$element.removeClass("collapse").addClass("collapsing")[u](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1,o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[u]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")},!n.support.transition)return o.call(this);s=n.camelCase(["scroll",u].join("-"));this.$element.one("bsTransitionEnd",n.proxy(o,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[u](this.$element[0][s])}};t.prototype.hide=function(){var r,i,u;if(!this.transitioning&&this.$element.hasClass("in")&&(r=n.Event("hide.bs.collapse"),this.$element.trigger(r),!r.isDefaultPrevented()))return i=this.dimension(),this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1,u=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")},n.support.transition?void this.$element[i](0).one("bsTransitionEnd",n.proxy(u,this)).emulateTransitionEnd(t.TRANSITION_DURATION):u.call(this)};t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};t.prototype.getParent=function(){return n(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(n.proxy(function(t,i){var u=n(i);this.addAriaAndCollapsedClass(r(u),u)},this)).end()};t.prototype.addAriaAndCollapsedClass=function(n,t){var i=n.hasClass("in");n.attr("aria-expanded",i);t.toggleClass("collapsed",!i).attr("aria-expanded",i)};u=n.fn.collapse;n.fn.collapse=i;n.fn.collapse.Constructor=t;n.fn.collapse.noConflict=function(){return n.fn.collapse=u,this};n(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var u=n(this);u.attr("data-target")||t.preventDefault();var f=r(u),e=f.data("bs.collapse"),o=e?"toggle":u.data();i.call(f,o)})}(jQuery);+function(n){function r(t){t&&3===t.which||(n(o).remove(),n(i).each(function(){var r=n(this),i=u(r),f={relatedTarget:this};i.hasClass("open")&&(i.trigger(t=n.Event("hide.bs.dropdown",f)),t.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger("hidden.bs.dropdown",f)))}))}function u(t){var i=t.attr("data-target"),r;return i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),r=i&&n(i),r&&r.length?r:t.parent()}function e(i){return this.each(function(){var r=n(this),u=r.data("bs.dropdown");u||r.data("bs.dropdown",u=new t(this));"string"==typeof i&&u[i].call(r)})}var o=".dropdown-backdrop",i='[data-toggle="dropdown"]',t=function(t){n(t).on("click.bs.dropdown",this.toggle)},f;t.VERSION="3.3.4";t.prototype.toggle=function(t){var f=n(this),i,o,e;if(!f.is(".disabled, :disabled")){if(i=u(f),o=i.hasClass("open"),r(),!o){if("ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&n('<div class="dropdown-backdrop"/>').insertAfter(n(this)).on("click",r),e={relatedTarget:this},i.trigger(t=n.Event("show.bs.dropdown",e)),t.isDefaultPrevented())return;f.trigger("focus").attr("aria-expanded","true");i.toggleClass("open").trigger("shown.bs.dropdown",e)}return!1}};t.prototype.keydown=function(t){var e,o,s,h,f,r;if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)&&(e=n(this),t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled"))){if(o=u(e),s=o.hasClass("open"),!s&&27!=t.which||s&&27==t.which)return 27==t.which&&o.find(i).trigger("focus"),e.trigger("click");h=" li:not(.disabled):visible a";f=o.find('[role="menu"]'+h+', [role="listbox"]'+h);f.length&&(r=f.index(t.target),38==t.which&&r>0&&r--,40==t.which&&r<f.length-1&&r++,~r||(r=0),f.eq(r).trigger("focus"))}};f=n.fn.dropdown;n.fn.dropdown=e;n.fn.dropdown.Constructor=t;n.fn.dropdown.noConflict=function(){return n.fn.dropdown=f,this};n(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",function(n){n.stopPropagation()}).on("click.bs.dropdown.data-api",i,t.prototype.toggle).on("keydown.bs.dropdown.data-api",i,t.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',t.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',t.prototype.keydown)}(jQuery);+function(n){function i(i,r){return this.each(function(){var f=n(this),u=f.data("bs.modal"),e=n.extend({},t.DEFAULTS,f.data(),"object"==typeof i&&i);u||f.data("bs.modal",u=new t(this,e));"string"==typeof i?u[i](r):e.show&&u.show(r)})}var t=function(t,i){this.options=i;this.$body=n(document.body);this.$element=n(t);this.$dialog=this.$element.find(".modal-dialog");this.$backdrop=null;this.isShown=null;this.originalBodyPad=null;this.scrollbarWidth=0;this.ignoreBackdropClick=!1;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,n.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))},r;t.VERSION="3.3.4";t.TRANSITION_DURATION=300;t.BACKDROP_TRANSITION_DURATION=150;t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};t.prototype.toggle=function(n){return this.isShown?this.hide():this.show(n)};t.prototype.show=function(i){var r=this,u=n.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(u);this.isShown||u.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',n.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){n(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var f=n.support.transition&&r.$element.hasClass("fade"),u;r.$element.parent().length||r.$element.appendTo(r.$body);r.$element.show().scrollTop(0);r.adjustDialog();f&&r.$element[0].offsetWidth;r.$element.addClass("in").attr("aria-hidden",!1);r.enforceFocus();u=n.Event("shown.bs.modal",{relatedTarget:i});f?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(u)}).emulateTransitionEnd(t.TRANSITION_DURATION):r.$element.trigger("focus").trigger(u)}))};t.prototype.hide=function(i){i&&i.preventDefault();i=n.Event("hide.bs.modal");this.$element.trigger(i);this.isShown&&!i.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),n(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),n.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",n.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())};t.prototype.enforceFocus=function(){n(document).off("focusin.bs.modal").on("focusin.bs.modal",n.proxy(function(n){this.$element[0]===n.target||this.$element.has(n.target).length||this.$element.trigger("focus")},this))};t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",n.proxy(function(n){27==n.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")};t.prototype.resize=function(){this.isShown?n(window).on("resize.bs.modal",n.proxy(this.handleUpdate,this)):n(window).off("resize.bs.modal")};t.prototype.hideModal=function(){var n=this;this.$element.hide();this.backdrop(function(){n.$body.removeClass("modal-open");n.resetAdjustments();n.resetScrollbar();n.$element.trigger("hidden.bs.modal")})};t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};t.prototype.backdrop=function(i){var e=this,f=this.$element.hasClass("fade")?"fade":"",r,u;if(this.isShown&&this.options.backdrop){if(r=n.support.transition&&f,this.$backdrop=n('<div class="modal-backdrop '+f+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",n.proxy(function(n){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(n.target===n.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!i)return;r?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):i()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),u=function(){e.removeBackdrop();i&&i()},n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",u).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):u()):i&&i()};t.prototype.handleUpdate=function(){this.adjustDialog()};t.prototype.adjustDialog=function(){var n=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&n?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!n?this.scrollbarWidth:""})};t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};t.prototype.checkScrollbar=function(){var n=window.innerWidth,t;n||(t=document.documentElement.getBoundingClientRect(),n=t.right-Math.abs(t.left));this.bodyIsOverflowing=document.body.clientWidth<n;this.scrollbarWidth=this.measureScrollbar()};t.prototype.setScrollbar=function(){var n=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";this.bodyIsOverflowing&&this.$body.css("padding-right",n+this.scrollbarWidth)};t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};t.prototype.measureScrollbar=function(){var n=document.createElement("div"),t;return n.className="modal-scrollbar-measure",this.$body.append(n),t=n.offsetWidth-n.clientWidth,this.$body[0].removeChild(n),t};r=n.fn.modal;n.fn.modal=i;n.fn.modal.Constructor=t;n.fn.modal.noConflict=function(){return n.fn.modal=r,this};n(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var r=n(this),f=r.attr("href"),u=n(r.attr("data-target")||f&&f.replace(/.*(?=#[^\s]+$)/,"")),e=u.data("bs.modal")?"toggle":n.extend({remote:!/#/.test(f)&&f},u.data(),r.data());r.is("a")&&t.preventDefault();u.one("show.bs.modal",function(n){n.isDefaultPrevented()||u.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})});i.call(u,e,this)})}(jQuery);+function(n){function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tooltip"),f="object"==typeof i&&i;(r||!/destroy|hide/.test(i))&&(r||u.data("bs.tooltip",r=new t(this,f)),"string"==typeof i&&r[i]())})}var t=function(n,t){this.type=null;this.options=null;this.enabled=null;this.timeout=null;this.hoverState=null;this.$element=null;this.init("tooltip",n,t)},i;t.VERSION="3.3.4";t.TRANSITION_DURATION=150;t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};t.prototype.init=function(t,i,r){var f,e,u,o,s;if(this.enabled=!0,this.type=t,this.$element=n(i),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&n(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(f=this.options.trigger.split(" "),e=f.length;e--;)if(u=f[e],"click"==u)this.$element.on("click."+this.type,this.options.selector,n.proxy(this.toggle,this));else"manual"!=u&&(o="hover"==u?"mouseenter":"focusin",s="hover"==u?"mouseleave":"focusout",this.$element.on(o+"."+this.type,this.options.selector,n.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,n.proxy(this.leave,this)));this.options.selector?this._options=n.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.getOptions=function(t){return t=n.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t};t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&n.each(this._options,function(n,r){i[n]!=r&&(t[n]=r)}),t};t.prototype.enter=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);return i&&i.$tip&&i.$tip.is(":visible")?void(i.hoverState="in"):(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())};t.prototype.leave=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()};t.prototype.show=function(){var c=n.Event("show.bs."+this.type),l,p,h;if(this.hasContent()&&this.enabled){if(this.$element.trigger(c),l=n.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]),c.isDefaultPrevented()||!l)return;var u=this,r=this.tip(),a=this.getUID(this.type);this.setContent();r.attr("id",a);this.$element.attr("aria-describedby",a);this.options.animation&&r.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,v=/\s?auto?\s?/i,y=v.test(i);y&&(i=i.replace(v,"")||"top");r.detach().css({top:0,left:0,display:"block"}).addClass(i).data("bs."+this.type,this);this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var f=this.getPosition(),o=r[0].offsetWidth,s=r[0].offsetHeight;if(y){var w=i,b=this.options.container?n(this.options.container):this.$element.parent(),e=this.getPosition(b);i="bottom"==i&&f.bottom+s>e.bottom?"top":"top"==i&&f.top-s<e.top?"bottom":"right"==i&&f.right+o>e.width?"left":"left"==i&&f.left-o<e.left?"right":i;r.removeClass(w).addClass(i)}p=this.getCalculatedOffset(i,f,o,s);this.applyPlacement(p,i);h=function(){var n=u.hoverState;u.$element.trigger("shown.bs."+u.type);u.hoverState=null;"out"==n&&u.leave(u)};n.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",h).emulateTransitionEnd(t.TRANSITION_DURATION):h()}};t.prototype.applyPlacement=function(t,i){var r=this.tip(),l=r[0].offsetWidth,e=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10),h,f,u;isNaN(o)&&(o=0);isNaN(s)&&(s=0);t.top=t.top+o;t.left=t.left+s;n.offset.setOffset(r[0],n.extend({using:function(n){r.css({top:Math.round(n.top),left:Math.round(n.left)})}},t),0);r.addClass("in");h=r[0].offsetWidth;f=r[0].offsetHeight;"top"==i&&f!=e&&(t.top=t.top+e-f);u=this.getViewportAdjustedDelta(i,t,h,f);u.left?t.left+=u.left:t.top+=u.top;var c=/top|bottom/.test(i),a=c?2*u.left-l+h:2*u.top-e+f,v=c?"offsetWidth":"offsetHeight";r.offset(t);this.replaceArrow(a,r[0][v],c)};t.prototype.replaceArrow=function(n,t,i){this.arrow().css(i?"left":"top",50*(1-n/t)+"%").css(i?"top":"left","")};t.prototype.setContent=function(){var n=this.tip(),t=this.getTitle();n.find(".tooltip-inner")[this.options.html?"html":"text"](t);n.removeClass("fade in top bottom left right")};t.prototype.hide=function(i){function f(){"in"!=u.hoverState&&r.detach();u.$element.removeAttr("aria-describedby").trigger("hidden.bs."+u.type);i&&i()}var u=this,r=n(this.$tip),e=n.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(r.removeClass("in"),n.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",f).emulateTransitionEnd(t.TRANSITION_DURATION):f(),this.hoverState=null,this)};t.prototype.fixTitle=function(){var n=this.$element;(n.attr("title")||"string"!=typeof n.attr("data-original-title"))&&n.attr("data-original-title",n.attr("title")||"").attr("title","")};t.prototype.hasContent=function(){return this.getTitle()};t.prototype.getPosition=function(t){t=t||this.$element;var u=t[0],r="BODY"==u.tagName,i=u.getBoundingClientRect();null==i.width&&(i=n.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var f=r?{top:0,left:0}:t.offset(),e={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},o=r?{width:n(window).width(),height:n(window).height()}:null;return n.extend({},i,e,o,f)};t.prototype.getCalculatedOffset=function(n,t,i,r){return"bottom"==n?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==n?{top:t.top-r,left:t.left+t.width/2-i/2}:"left"==n?{top:t.top+t.height/2-r/2,left:t.left-i}:{top:t.top+t.height/2-r/2,left:t.left+t.width}};t.prototype.getViewportAdjustedDelta=function(n,t,i,r){var f={top:0,left:0},e,u,o,s,h,c;return this.$viewport?(e=this.options.viewport&&this.options.viewport.padding||0,u=this.getPosition(this.$viewport),/right|left/.test(n)?(o=t.top-e-u.scroll,s=t.top+e-u.scroll+r,o<u.top?f.top=u.top-o:s>u.top+u.height&&(f.top=u.top+u.height-s)):(h=t.left-e,c=t.left+e+i,h<u.left?f.left=u.left-h:c>u.width&&(f.left=u.left+u.width-c)),f):f};t.prototype.getTitle=function(){var t=this.$element,n=this.options;return t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)};t.prototype.getUID=function(n){do n+=~~(1e6*Math.random());while(document.getElementById(n));return n};t.prototype.tip=function(){return this.$tip=this.$tip||n(this.options.template)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};t.prototype.enable=function(){this.enabled=!0};t.prototype.disable=function(){this.enabled=!1};t.prototype.toggleEnabled=function(){this.enabled=!this.enabled};t.prototype.toggle=function(t){var i=this;t&&(i=n(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)));i.tip().hasClass("in")?i.leave(i):i.enter(i)};t.prototype.destroy=function(){var n=this;clearTimeout(this.timeout);this.hide(function(){n.$element.off("."+n.type).removeData("bs."+n.type)})};i=n.fn.tooltip;n.fn.tooltip=r;n.fn.tooltip.Constructor=t;n.fn.tooltip.noConflict=function(){return n.fn.tooltip=i,this}}(jQuery);+function(n){function r(i){return this.each(function(){var u=n(this),r=u.data("bs.popover"),f="object"==typeof i&&i;(r||!/destroy|hide/.test(i))&&(r||u.data("bs.popover",r=new t(this,f)),"string"==typeof i&&r[i]())})}var t=function(n,t){this.init("popover",n,t)},i;if(!n.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.4";t.DEFAULTS=n.extend({},n.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"><\/div><h3 class="popover-title"><\/h3><div class="popover-content"><\/div><\/div>'});t.prototype=n.extend({},n.fn.tooltip.Constructor.prototype);t.prototype.constructor=t;t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.setContent=function(){var n=this.tip(),i=this.getTitle(),t=this.getContent();n.find(".popover-title")[this.options.html?"html":"text"](i);n.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof t?"html":"append":"text"](t);n.removeClass("fade top bottom left right in");n.find(".popover-title").html()||n.find(".popover-title").hide()};t.prototype.hasContent=function(){return this.getTitle()||this.getContent()};t.prototype.getContent=function(){var t=this.$element,n=this.options;return t.attr("data-content")||("function"==typeof n.content?n.content.call(t[0]):n.content)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};i=n.fn.popover;n.fn.popover=r;n.fn.popover.Constructor=t;n.fn.popover.noConflict=function(){return n.fn.popover=i,this}}(jQuery);+function(n){function t(i,r){this.$body=n(document.body);this.$scrollElement=n(n(i).is(document.body)?window:i);this.options=n.extend({},t.DEFAULTS,r);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",n.proxy(this.process,this));this.refresh();this.process()}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.scrollspy"),f="object"==typeof i&&i;r||u.data("bs.scrollspy",r=new t(this,f));"string"==typeof i&&r[i]()})}t.VERSION="3.3.4";t.DEFAULTS={offset:10};t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};t.prototype.refresh=function(){var t=this,i="offset",r=0;this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();n.isWindow(this.$scrollElement[0])||(i="position",r=this.$scrollElement.scrollTop());this.$body.find(this.selector).map(function(){var f=n(this),u=f.data("target")||f.attr("href"),t=/^#./.test(u)&&n(u);return t&&t.length&&t.is(":visible")&&[[t[i]().top+r,u]]||null}).sort(function(n,t){return n[0]-t[0]}).each(function(){t.offsets.push(this[0]);t.targets.push(this[1])})};t.prototype.process=function(){var n,i=this.$scrollElement.scrollTop()+this.options.offset,f=this.getScrollHeight(),e=this.options.offset+f-this.$scrollElement.height(),t=this.offsets,r=this.targets,u=this.activeTarget;if(this.scrollHeight!=f&&this.refresh(),i>=e)return u!=(n=r[r.length-1])&&this.activate(n);if(u&&i<t[0])return this.activeTarget=null,this.clear();for(n=t.length;n--;)u!=r[n]&&i>=t[n]&&(void 0===t[n+1]||i<t[n+1])&&this.activate(r[n])};t.prototype.activate=function(t){this.activeTarget=t;this.clear();var r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=n(r).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active"));i.trigger("activate.bs.scrollspy")};t.prototype.clear=function(){n(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=n.fn.scrollspy;n.fn.scrollspy=i;n.fn.scrollspy.Constructor=t;n.fn.scrollspy.noConflict=function(){return n.fn.scrollspy=r,this};n(window).on("load.bs.scrollspy.data-api",function(){n('[data-spy="scroll"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tab");r||u.data("bs.tab",r=new t(this));"string"==typeof i&&r[i]()})}var t=function(t){this.element=n(t)},u,i;t.VERSION="3.3.4";t.TRANSITION_DURATION=150;t.prototype.show=function(){var t=this.element,f=t.closest("ul:not(.dropdown-menu)"),i=t.data("target"),u;if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=f.find(".active:last a"),e=n.Event("hide.bs.tab",{relatedTarget:t[0]}),o=n.Event("show.bs.tab",{relatedTarget:r[0]});(r.trigger(e),t.trigger(o),o.isDefaultPrevented()||e.isDefaultPrevented())||(u=n(i),this.activate(t.closest("li"),f),this.activate(u,u.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]});t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})}))}};t.prototype.activate=function(i,r,u){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);i.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0);o?(i[0].offsetWidth,i.addClass("in")):i.removeClass("fade");i.parent(".dropdown-menu").length&&i.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);u&&u()}var f=r.find("> .active"),o=u&&n.support.transition&&(f.length&&f.hasClass("fade")||!!r.find("> .fade").length);f.length&&o?f.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e();f.removeClass("in")};u=n.fn.tab;n.fn.tab=r;n.fn.tab.Constructor=t;n.fn.tab.noConflict=function(){return n.fn.tab=u,this};i=function(t){t.preventDefault();r.call(n(this),"show")};n(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery);+function(n){function i(i){return this.each(function(){var u=n(this),r=u.data("bs.affix"),f="object"==typeof i&&i;r||u.data("bs.affix",r=new t(this,f));"string"==typeof i&&r[i]()})}var t=function(i,r){this.options=n.extend({},t.DEFAULTS,r);this.$target=n(this.options.target).on("scroll.bs.affix.data-api",n.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",n.proxy(this.checkPositionWithEventLoop,this));this.$element=n(i);this.affixed=null;this.unpin=null;this.pinnedOffset=null;this.checkPosition()},r;t.VERSION="3.3.4";t.RESET="affix affix-top affix-bottom";t.DEFAULTS={offset:0,target:window};t.prototype.getState=function(n,t,i,r){var u=this.$target.scrollTop(),f=this.$element.offset(),e=this.$target.height();if(null!=i&&"top"==this.affixed)return i>u?"top":!1;if("bottom"==this.affixed)return null!=i?u+this.unpin<=f.top?!1:"bottom":n-r>=u+e?!1:"bottom";var o=null==this.affixed,s=o?u:f.top,h=o?e:t;return null!=i&&i>=u?"top":null!=r&&s+h>=n-r?"bottom":!1};t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var n=this.$target.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-n};t.prototype.checkPositionWithEventLoop=function(){setTimeout(n.proxy(this.checkPosition,this),1)};t.prototype.checkPosition=function(){var i,e,o;if(this.$element.is(":visible")){var s=this.$element.height(),r=this.options.offset,f=r.top,u=r.bottom,h=n(document.body).height();if("object"!=typeof r&&(u=f=r),"function"==typeof f&&(f=r.top(this.$element)),"function"==typeof u&&(u=r.bottom(this.$element)),i=this.getState(h,s,f,u),this.affixed!=i){if(null!=this.unpin&&this.$element.css("top",""),e="affix"+(i?"-"+i:""),o=n.Event(e+".bs.affix"),this.$element.trigger(o),o.isDefaultPrevented())return;this.affixed=i;this.unpin="bottom"==i?this.getPinnedOffset():null;this.$element.removeClass(t.RESET).addClass(e).trigger(e.replace("affix","affixed")+".bs.affix")}"bottom"==i&&this.$element.offset({top:h-s-u})}};r=n.fn.affix;n.fn.affix=i;n.fn.affix.Constructor=t;n.fn.affix.noConflict=function(){return n.fn.affix=r,this};n(window).on("load",function(){n('[data-spy="affix"]').each(function(){var r=n(this),t=r.data();t.offset=t.offset||{};null!=t.offsetBottom&&(t.offset.bottom=t.offsetBottom);null!=t.offsetTop&&(t.offset.top=t.offsetTop);i.call(r,t)})})}(jQuery);!function(n){n.propHooks.disabled={set:function(t,i){t.disabled!==i&&(t.disabled=i,i&&n(t).trigger("disabledSet"),i||n(t).trigger("enabledSet"))}};var t=function(t,i){var r,u;this.element=n(t);this.picker=n('<div class="slider"><div class="slider-track"><div class="slider-selection"><\/div><div class="slider-handle"><\/div><div class="slider-handle"><\/div><\/div><div class="tooltip"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div><\/div>').insertBefore(this.element).append(this.element);this.id=this.element.data("slider-id")||i.id;this.id&&(this.picker[0].id=this.id);this.disabled=!1;typeof Modernizr!="undefined"&&Modernizr.touch&&(this.touchCapable=!0);r=this.element.data("slider-tooltip")||i.tooltip;this.tooltip=this.picker.find(".tooltip");this.tooltipInner=this.tooltip.find("div.tooltip-inner");this.orientation=this.element.data("slider-orientation")||i.orientation;switch(this.orientation){case"vertical":this.picker.addClass("slider-vertical");this.stylePos="top";this.mousePos="pageY";this.sizePos="offsetHeight";this.tooltip.addClass("right")[0].style.left="100%";break;default:this.picker.addClass("slider-horizontal").css("width",this.element.outerWidth());this.orientation="horizontal";this.stylePos="left";this.mousePos="pageX";this.sizePos="offsetWidth";this.tooltip.addClass("top")[0].style.top=-this.tooltip.outerHeight()-14+"px"}this.min=this.element.data("slider-min")||i.min;this.max=this.element.data("slider-max")||i.max;this.step=this.element.data("slider-step")||i.step;this.value=this.element.data("slider-value")||i.value;this.value[1]&&(this.range=!0);this.selection=this.element.data("slider-selection")||i.selection;this.selectionEl=this.picker.find(".slider-selection");this.selection==="none"&&this.selectionEl.addClass("hide");this.selectionElStyle=this.selectionEl[0].style;this.handle1=this.picker.find(".slider-handle:first");this.handle1Stype=this.handle1[0].style;this.handle2=this.picker.find(".slider-handle:last");this.handle2Stype=this.handle2[0].style;u=this.element.data("slider-handle")||i.handle;switch(u){case"round":this.handle1.addClass("round");this.handle2.addClass("round");break;case"triangle":this.handle1.addClass("triangle");this.handle2.addClass("triangle")}if(this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),this.value[1]=this.selection=="after"?this.max:this.min),this.diff=this.max-this.min,this.percentage=[(this.value[0]-this.min)*100/this.diff,(this.value[1]-this.min)*100/this.diff,this.step*100/this.diff],this.offset=this.picker.offset(),this.size=this.picker[0][this.sizePos],this.formater=i.formater,this.layout(),this.touchCapable)this.picker.on({touchstart:n.proxy(this.mousedown,this)});else this.picker.on({mousedown:n.proxy(this.mousedown,this)});if(r==="show")this.picker.on({mouseenter:n.proxy(this.showTooltip,this),mouseleave:n.proxy(this.hideTooltip,this)});else this.tooltip.addClass("hide");n(t).on({change:n.proxy(this.onValueChange,this),disabledSet:n.proxy(this.deactivate,this),enabledSet:n.proxy(this.activate,this)})};t.prototype={constructor:t,over:!1,inDrag:!1,showTooltip:function(){this.tooltip.addClass("in");this.over=!0},hideTooltip:function(){this.inDrag===!1&&this.tooltip.removeClass("in");this.over=!1},layout:function(){this.handle1Stype[this.stylePos]=this.percentage[0]+"%";this.handle2Stype[this.stylePos]=this.percentage[1]+"%";this.orientation=="vertical"?(this.selectionElStyle.top=Math.min(this.percentage[0],this.percentage[1])+"%",this.selectionElStyle.height=Math.abs(this.percentage[0]-this.percentage[1])+"%"):(this.selectionElStyle.left=Math.min(this.percentage[0],this.percentage[1])+"%",this.selectionElStyle.width=Math.abs(this.percentage[0]-this.percentage[1])+"%");this.range?(this.tooltipInner.text(this.formater(this.value[0])+" : "+this.formater(this.value[1])),this.tooltip[0].style[this.stylePos]=this.size*(this.percentage[0]+(this.percentage[1]-this.percentage[0])/2)/100-(this.orientation==="vertical"?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px"):(this.tooltipInner.text(this.formater(this.value[0])),this.tooltip[0].style[this.stylePos]=this.size*this.percentage[0]/100-(this.orientation==="vertical"?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px")},mousedown:function(t){var i,u,f,r;if(!this.disabled){if(this.touchCapable&&t.type==="touchstart"&&(t=t.originalEvent),this.offset=this.picker.offset(),this.size=this.picker[0][this.sizePos],i=this.getPercentage(t),this.range?(u=Math.abs(this.percentage[0]-i),f=Math.abs(this.percentage[1]-i),this.dragged=u<f?0:1):this.dragged=0,this.percentage[this.dragged]=i,this.layout(),this.touchCapable)n(document).on({touchmove:n.proxy(this.mousemove,this),touchend:n.proxy(this.mouseup,this)});else n(document).on({mousemove:n.proxy(this.mousemove,this),mouseup:n.proxy(this.mouseup,this)});return this.inDrag=!0,r=this.calculateValue(),this.element.trigger({type:"slideStart",value:r}).trigger({type:"slide",value:r}),!1}},mousemove:function(n){var t,i;return this.touchCapable&&n.type==="touchmove"&&(n=n.originalEvent),t=this.getPercentage(n),this.range&&(this.dragged===0&&this.percentage[1]<t?(this.percentage[0]=this.percentage[1],this.dragged=1):this.dragged===1&&this.percentage[0]>t&&(this.percentage[1]=this.percentage[0],this.dragged=0)),this.percentage[this.dragged]=t,this.layout(),i=this.calculateValue(),this.element.trigger({type:"slide",value:i}).data("value",i).prop("value",i),!1},mouseup:function(){this.touchCapable?n(document).off({touchmove:this.mousemove,touchend:this.mouseup}):n(document).off({mousemove:this.mousemove,mouseup:this.mouseup});this.inDrag=!1;this.over==!1&&this.hideTooltip();this.element;var t=this.calculateValue();return this.element.trigger({type:"slideStop",value:t}).data("value",t).prop("value",t),!1},activate:function(){this.picker.removeClass("disabled");this.disabled=!1},deactivate:function(){this.picker.addClass("disabled");this.disabled=!0},onValueChange:function(){var n=this.element.val();this.setValue(n)},calculateValue:function(){var n;return this.range?(n=[this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.min+Math.round(this.diff*this.percentage[1]/100/this.step)*this.step],this.value=n):(n=this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.value=[n,this.value[1]]),n},getPercentage:function(n){this.touchCapable&&(n=n.touches[0]);var t=(n[this.mousePos]-this.offset[this.stylePos])*100/this.size;return t=Math.round(t/this.percentage[2])*this.percentage[2],Math.max(0,Math.min(100,t))},getValue:function(){return this.range?this.value:this.value[0]},setValue:function(n){this.value=n;this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),this.value[1]=this.selection=="after"?this.max:this.min);this.diff=this.max-this.min;this.percentage=[(this.value[0]-this.min)*100/this.diff,(this.value[1]-this.min)*100/this.diff,this.step*100/this.diff];this.layout()}};n.fn.slider=function(i,r){return this.each(function(){var f=n(this),u=f.data("slider"),e=typeof i=="object"&&i;u||f.data("slider",u=new t(this,n.extend({},n.fn.slider.defaults,e)));typeof i=="string"&&u[i](r)})};n.fn.slider.defaults={min:0,max:10,step:1,orientation:"horizontal",value:5,selection:"before",tooltip:"show",handle:"round",formater:function(n){return n}};n.fn.slider.Constructor=t}(window.jQuery);
/*!
 * Color Thief v2.0
 * by Lokesh Dhakar - http://www.lokeshdhakar.com
 *
 * License
 * -------
 * Creative Commons Attribution 2.5 License:
 * http://creativecommons.org/licenses/by/2.5/
 *
 * Thanks
 * ------
 * Nick Rabinowitz - For creating quantize.js.
 * John Schulz - For clean up and optimization. @JFSIII
 * Nathan Spady - For adding drag and drop support to the demo page.
 *
 */
/*!
 * quantize.js Copyright 2008 Nick Rabinowitz.
 * Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php
 */
/*!
 * Block below copied from Protovis: http://mbostock.github.com/protovis/
 * Copyright 2010 Stanford Visualization Group
 * Licensed under the BSD License: http://www.opensource.org/licenses/bsd-license.php
 */
/*!
 * Color Thief v2.0
 * by Lokesh Dhakar - http://www.lokeshdhakar.com
 *
 * License
 * -------
 * Creative Commons Attribution 2.5 License:
 * http://creativecommons.org/licenses/by/2.5/
 *
 * Thanks
 * ------
 * Nick Rabinowitz - For creating quantize.js.
 * John Schulz - For clean up and optimization. @JFSIII
 * Nathan Spady - For adding drag and drop support to the demo page.
 *
 */
CanvasImage=function(n){this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");document.body.appendChild(this.canvas);this.width=this.canvas.width=n.width;this.height=this.canvas.height=n.height;this.context.drawImage(n,0,0,this.width,this.height)};CanvasImage.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};CanvasImage.prototype.update=function(n){this.context.putImageData(n,0,0)};CanvasImage.prototype.getPixelCount=function(){return this.width*this.height};CanvasImage.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};CanvasImage.prototype.removeCanvas=function(){this.canvas.parentNode.removeChild(this.canvas)};ColorThief=function(){};ColorThief.prototype.getColor=function(n,t){var i=this.getPalette(n,5,t);return i[0]};ColorThief.prototype.getPalette=function(n,t,i){var r,u,o,s,h,l,a,v;typeof t=="undefined"&&(t=10);typeof i=="undefined"&&(i=10);var e=new CanvasImage(n),y=e.getImageData(),f=y.data,p=e.getPixelCount(),c=[];for(r=0;r<p;r=r+i)u=r*4,o=f[u+0],s=f[u+1],h=f[u+2],l=f[u+3],l>=125&&(o>250&&s>250&&h>250||c.push([o,s,h]));return a=MMCQ.quantize(c,t),v=a.palette(),e.removeCanvas(),v};
/*!
 * quantize.js Copyright 2008 Nick Rabinowitz.
 * Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php
 */
/*!
 * Block below copied from Protovis: http://mbostock.github.com/protovis/
 * Copyright 2010 Stanford Visualization Group
 * Licensed under the BSD License: http://www.opensource.org/licenses/bsd-license.php
 */
pv||(pv={map:function(n,t){var i={};return t?n.map(function(n,r){return i.index=r,t.call(i,n)}):n.slice()},naturalOrder:function(n,t){return n<t?-1:n>t?1:0},sum:function(n,t){var i={};return n.reduce(t?function(n,r,u){return i.index=u,n+t.call(i,r)}:function(n,t){return n+t},0)},max:function(n,t){return Math.max.apply(null,t?pv.map(n,t):n)}});MMCQ=function(){function i(n,i,r){return(n<<2*t)+(i<<t)+r}function r(n){function r(){t.sort(n);i=!0}var t=[],i=!1;return{push:function(n){t.push(n);i=!1},peek:function(n){return i||r(),n===undefined&&(n=t.length-1),t[n]},pop:function(){return i||r(),t.pop()},size:function(){return t.length},map:function(n){return t.map(n)},debug:function(){return i||r(),t}}}function u(n,t,i,r,u,f,e){var o=this;o.r1=n;o.r2=t;o.g1=i;o.g2=r;o.b1=u;o.b2=f;o.histo=e}function e(){this.vboxes=new r(function(n,t){return pv.naturalOrder(n.vbox.count()*n.vbox.volume(),t.vbox.count()*t.vbox.volume())})}function s(r){var h=1<<3*t,u=new Array(h),f,e,o,s;return r.forEach(function(t){e=t[0]>>n;o=t[1]>>n;s=t[2]>>n;f=i(e,o,s);u[f]=(u[f]||0)+1}),u}function h(t,i){var o=1e6,s=0,h=1e6,c=0,l=1e6,a=0,r,f,e;return t.forEach(function(t){r=t[0]>>n;f=t[1]>>n;e=t[2]>>n;r<o?o=r:r>s&&(s=r);f<h?h=f:f>c&&(c=f);e<l?l=e:e>a&&(a=e)}),new u(o,s,h,c,l,a,i)}function c(n,t){function y(n){var f=n+"1",u=n+"2",h,c,e,l,i,a=0;for(r=t[f];r<=t[u];r++)if(s[r]>o/2){for(e=t.copy(),l=t.copy(),h=r-t[f],c=t[u]-r,i=h<=c?Math.min(t[u]-1,~~(r+c/2)):Math.max(t[f],~~(r-1-h/2));!s[i];)i++;for(a=v[i];!a&&s[i-1];)a=v[--i];return e[u]=i,l[f]=e[u]+1,[e,l]}}if(t.count()){var l=t.r2-t.r1+1,a=t.g2-t.g1+1,p=t.b2-t.b1+1,c=pv.max([l,a,p]);if(t.count()==1)return[t.copy()];var o=0,s=[],v=[],r,u,f,e,h;if(c==l)for(r=t.r1;r<=t.r2;r++){for(e=0,u=t.g1;u<=t.g2;u++)for(f=t.b1;f<=t.b2;f++)h=i(r,u,f),e+=n[h]||0;o+=e;s[r]=o}else if(c==a)for(r=t.g1;r<=t.g2;r++){for(e=0,u=t.r1;u<=t.r2;u++)for(f=t.b1;f<=t.b2;f++)h=i(u,r,f),e+=n[h]||0;o+=e;s[r]=o}else for(r=t.b1;r<=t.b2;r++){for(e=0,u=t.r1;u<=t.r2;u++)for(f=t.g1;f<=t.g2;f++)h=i(u,f,r),e+=n[h]||0;o+=e;s[r]=o}return s.forEach(function(n,t){v[t]=o-n}),c==l?y("r"):c==a?y("g"):y("b")}}function l(n,i){function w(n,t){for(var u=1,r=0,i;r<f;){if(i=n.pop(),!i.count()){n.push(i);r++;continue}var e=c(a,i),o=e[0],s=e[1];if(!o)return;if(n.push(o),s&&(n.push(s),u++),u>=t)return;if(r++>f)return}}var p,l,u,v;if(!n.length||i<2||i>256)return!1;var a=s(n),b=1<<3*t,y=0;for(a.forEach(function(){y++}),y<=i,p=h(n,a),l=new r(function(n,t){return pv.naturalOrder(n.count(),t.count())}),l.push(p),w(l,o*i),u=new r(function(n,t){return pv.naturalOrder(n.count()*n.volume(),t.count()*t.volume())});l.size();)u.push(l.pop());for(w(u,i-u.size()),v=new e;u.size();)v.push(u.pop());return v}var t=5,n=8-t,f=1e3,o=.75;return u.prototype={volume:function(n){var t=this;return(!t._volume||n)&&(t._volume=(t.r2-t.r1+1)*(t.g2-t.g1+1)*(t.b2-t.b1+1)),t._volume},count:function(n){var t=this,o=t.histo,e,r,u,f;if(!t._count_set||n){for(e=0,r=t.r1;r<=t.r2;r++)for(u=t.g1;u<=t.g2;u++)for(f=t.b1;f<=t.b2;f++)index=i(r,u,f),e+=o[index]||0;t._count=e;t._count_set=!0}return t._count},copy:function(){var n=this;return new u(n.r1,n.r2,n.g1,n.g2,n.b1,n.b2,n.histo)},avg:function(n){var r=this,y=r.histo;if(!r._avg||n){for(var f=0,u=1<<8-t,c=0,l=0,a=0,e,s,h,v,o=r.r1;o<=r.r2;o++)for(s=r.g1;s<=r.g2;s++)for(h=r.b1;h<=r.b2;h++)v=i(o,s,h),e=y[v]||0,f+=e,c+=e*(o+.5)*u,l+=e*(s+.5)*u,a+=e*(h+.5)*u;r._avg=f?[~~(c/f),~~(l/f),~~(a/f)]:[~~(u*(r.r1+r.r2+1)/2),~~(u*(r.g1+r.g2+1)/2),~~(u*(r.b1+r.b2+1)/2)]}return r._avg},contains:function(t){var i=this,r=t[0]>>n;return gval=t[1]>>n,bval=t[2]>>n,r>=i.r1&&r<=i.r2&&gval>=i.g1&&gval<=i.g2&&bval>=i.b1&&bval<=i.b2}},e.prototype={push:function(n){this.vboxes.push({vbox:n,color:n.avg()})},palette:function(){return this.vboxes.map(function(n){return n.color})},size:function(){return this.vboxes.size()},map:function(n){for(var i=this.vboxes,t=0;t<i.size();t++)if(i.peek(t).vbox.contains(n))return i.peek(t).color;return this.nearest(n)},nearest:function(n){for(var i=this.vboxes,r,u,f,t=0;t<i.size();t++)u=Math.sqrt(Math.pow(n[0]-i.peek(t).color[0],2)+Math.pow(n[1]-i.peek(t).color[1],2)+Math.pow(n[2]-i.peek(t).color[2],2)),(u<r||r===undefined)&&(r=u,f=i.peek(t).color);return f},forcebw:function(){var n=this.vboxes,t,r,i;n.sort(function(n,t){return pv.naturalOrder(pv.sum(n.color),pv.sum(t.color))});t=n[0].color;t[0]<5&&t[1]<5&&t[2]<5&&(n[0].color=[0,0,0]);r=n.length-1;i=n[r].color;i[0]>251&&i[1]>251&&i[2]>251&&(n[r].color=[255,255,255])}},{quantize:l}}();config={app:"web"};config.ambieye=!0;config.scenes=!0;config.search=!0;config.tabs=!0;config.feedback=!0;switch(config.app){case"light":config.ambieye=!1;config.scenes=!1;config.search=!1;config.tabs=!1;config.uservoice=!0;break;case"pro":config.ambieye=!0;config.scenes=!0;config.search=!0;config.tabs=!0;config.uservoice=!0;break;case"app":config.ambieye=!1;config.scenes=!0;config.search=!1;config.tabs=!0;config.feedback=!1;config.uservoice=!1;break;case"ambieye":config.ambieye=!0;config.scenes=!1;config.search=!1;config.tabs=!0;config.uservoice=!0;break;case"web":config.ambieye=!1;config.scenes=!0;config.search=!0;config.tabs=!0;config.uservoice=!0}(function(){function nr(n,t){return n.href=t}function tr(n,t){return n.name=t}function u(n){af.set(n)}function as(n){if(100!=n.get(fu)&&ci(e(n,w))%1e4>=100*at(n,fu))throw"abort";}function vs(n){if(hu(e(n,tt)))throw"abort";}function ys(){var n=i[c][y];if("http:"!=n&&"https:"!=n)throw"abort";}function ps(n){try{r.XMLHttpRequest&&"withCredentials"in new r.XMLHttpRequest?u(40):r.XDomainRequest&&u(41);r[rt].sendBeacon&&u(42)}catch(i){}n.set(pu,at(n,pu)+1);var t=[];wi.map(function(i,r){if(r.p){var u=n.get(i);void 0!=u&&u!=r[hr]&&("boolean"==typeof u&&(u*=1),t[o](r.p+"="+ht(""+u)))}});t[o]("z="+lu());n.set(re,t[nt]("&"),!0)}function ws(n){var t=e(n,de)||kr()+"/collect";df(t,e(n,re),n.get(iu),n.get(ue));n.set(iu,pr,!0)}function bs(n){var t=r.gaData;t&&(t.expId&&n.set(nc,t.expId),t.expVar&&n.set(tc,t.expVar))}function ks(){if(r[rt]&&"preview"==r[rt].loadPurpose)throw"abort";}function ds(n){var i=r.gaDevIds;vf(i)&&0!=i[t]&&n.set("&did",i[nt](","),!0)}function gs(n){if(!n.get(tt))throw"abort";}function nh(n){var f=at(n,ye),t;if(500<=f&&u(15),t=e(n,tu),"transaction"!=t&&"item"!=t){var t=at(n,pe),r=(new Date)[er](),i=at(n,ku);if(0==i&&n.set(ku,r),i=k.round((r-i)/500),0<i&&(t=k.min(t+i,20),n.set(ku,r)),0>=t)throw"abort";n.set(pe,--t)}n.set(ye,++f)}function it(n,t,i,r){t[n]=function(){var e,t;try{return r&&u(r),i[bt](this,arguments)}catch(f){e=f&&f[st];1<=100*k.random()||hu("?")||(t=["t=error","_e=exc","_v=j31","sr=1"],n&&t[o]("_f="+n),e&&t[o]("_m="+ht(e[p](0,100))),t[o]("aip=1"),t[o]("z="+lt()),df(kr()+"/collect",t[nt]("&")));throw f;}}}function kc(){var i,n,u,f,e;if((u=(u=r[rt])?u.plugins:null)&&u[t])for(f=0;f<u[t]&&!n;f++)e=u[f],-1<e[st][s]("Shockwave Flash")&&(n=e.description);if(!n)try{i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");n=i.GetVariable("$version")}catch(o){}if(!n)try{i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");n="WIN 6,0,21,0";i.AllowScriptAccess="always";n=i.GetVariable("$version")}catch(h){}if(!n)try{i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");n=i.GetVariable("$version")}catch(c){}return n&&(i=n[ot](/[\d]+/g))&&3<=i[t]&&(n=i[0]+"."+i[1]+" r"+i[2]),n||void 0}function of(n,i,r){var u,e,f,s;for("none"==i&&(i=""),u=[],e=yi(n),n="__utma"==n?6:2,f=0;f<e[t];f++)s=(""+e[f])[g]("."),s[t]>=n&&u[o]({hash:s[0],R:e[f],O:s});if(0!=u[t])return 1==u[t]?u[0]:sf(i,u)||sf(r,u)||sf(null,u)||u[0]}function sf(n,i){var u,f,r;for(null==n?u=f=1:(u=ci(n),f=ci(v(n,".")?n[p](1):"."+n)),r=0;r<i[t];r++)if(i[r][ri]==u||i[r][ri]==f)return i[r]}function rl(n){n=n.get(w);var t=eu(n,0);return"_ga=1."+ht(t+"."+n)}function eu(n,i){for(var u=new Date,f=r[rt],e=f.plugins||[],u=[n,f.userAgent,u.getTimezoneOffset(),u.getYear(),u.getDate(),u.getHours(),u.getMinutes()+i],f=0;f<e[t];++f)u[o](e[f].description);return ci(u[nt]("."))}function lo(n,r){if(r==i[c][pt])return!1;for(var u=0;u<n[t];u++)if(n[u]instanceof RegExp){if(n[u][ui](r))return!0}else if(0<=r[s](n[u]))return!0;return!1}function ko(n){return 0<=n[s](".")||0<=n[s](":")}function ci(n){var i=1,r=0,u;if(n)for(i=0,u=n[t]-1;0<=u;u--)r=n.charCodeAt(u),i=(i<<6&268435455)+r+(r<<14),r=i&266338304,i=0!=r?i^r>>21:i;return i}var gi=encodeURIComponent,yt=window,su=setTimeout,k=Math,ir="replace",d="data",ot="match",rr="send",ur="port",ti="createElement",fr="setAttribute",er="getTime",ii="host",g="split",c="location",li="hasOwnProperty",pt="hostname",or="search",y="protocol",wt="href",sr="action",bt="apply",o="push",ri="hash",ui="test",ai="slice",vi="cookie",s="indexOf",hr="defaultValue",st="name",t="length",l="prototype",cr="clientWidth",lr="target",fi="call",ar="clientHeight",p="substring",rt="navigator",vr="parentNode",nt="join",ft="toLowerCase",af=new function(){var n=[];this.set=function(t){n[t]=!0};this.M=function(){for(var r=[],i=0;i<n[t];i++)n[i]&&(r[k.floor(i/6)]=r[k.floor(i/6)]^1<<i%6);for(i=0;i<r[t];i++)r[i]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(r[i]||0);return r[nt]("")+"~"}},kt=function(n){return"function"==typeof n},vf=function(n){return"[object Array]"==Object[l].toString[fi](Object(n))},yr=function(n){return void 0!=n&&-1<(n.constructor+"")[s]("String")},v=function(n,t){return 0==n[s](t)},yf=function(n){return n?n[ir](/^[\s\xa0]+|[\s\xa0]+$/g,""):""},pf=function(n){var t=i[ti]("img");return t.width=1,t.height=1,t.src=n,t},pr=function(){},ht=function(n){return gi instanceof Function?gi(n):(u(28),n)},ct=function(n,t,i,r){try{n.addEventListener?n.addEventListener(t,i,!!r):n.attachEvent&&n.attachEvent("on"+t,i)}catch(f){u(27)}},wf=function(n,t,i){n.removeEventListener?n.removeEventListener(t,i,!1):n.detachEvent&&n.detachEvent("on"+t,i)},bf=function(n,t){var r,u;n&&(r=i[ti]("script"),r.type="text/javascript",r.async=!0,r.src=n,t&&(r.id=t),u=i.getElementsByTagName("script")[0],u[vr].insertBefore(r,u))},wr=function(){var n=""+i[c][pt];return 0==n[s]("www.")?n[p](4):n},is=function(n){var r=i.referrer,u;if(/^https?:\/\//i[ui](r))return n?r:(n="//"+i[c][pt],u=r[s](n),(5==u||6==u)&&(n=r.charAt(u+n[t]),"/"==n||"?"==n||""==n||":"==n))?void 0:r},kf=function(n,i){var u;if(1==i[t]&&null!=i[0]&&"object"==typeof i[0])return i[0];for(var f={},e=k.min(n[t]+1,i[t]),r=0;r<e;r++)if("object"==typeof i[r]){for(u in i[r])i[r][li](u)&&(f[u]=i[r][u]);break}else r<n[t]&&(f[n[r]]=i[r]);return f},et=function(){this.keys=[];this.w={};this.m={}},lt,lu,e,at,ue,pu,fe,ee,we,du,be,ge,no,ho,co,hi,ki,hf,wo,ni,ou,lf,f,ts;et[l].set=function(n,t,i){this.keys[o](n);i?this.m[":"+n]=t:this.w[":"+n]=t};et[l].get=function(n){return this.m[li](":"+n)?this.m[":"+n]:this.w[":"+n]};et[l].map=function(n){for(var r,u,i=0;i<this.keys[t];i++)r=this.keys[i],u=this.get(r),u&&n(r,u)};var r=yt,i=document,rs=function(n){su(n,100)},us=function(){for(var n=r[rt].userAgent+(i[vi]?i[vi]:"")+(i.referrer?i.referrer:""),f=n[t],u=r.history[t];0<u;)n+=u--^f++;return ci(n)},hu=function(n){var i=r._gaUserPrefs,t;if(i&&i.ioo&&i.ioo()||n&&!0===r["ga-disable-"+n])return!0;try{if(t=r.external,t&&t._gaUserPrefs&&"oo"==t._gaUserPrefs)return!0}catch(u){}return!1},yi=function(n){var f=[],e=i[vi][g](";"),r,u;for(n=new RegExp("^\\s*"+n+"=\\s*(.*?)\\s*$"),r=0;r<e[t];r++)u=e[r][ot](n),u&&f[o](u[1]);return f},br=function(n,r,f,e,o,s){if(o=hu(o)?!1:es[ui](i[c][pt])||"/"==f&&fs[ui](e)?!1:!0,!o)return!1;if(r&&1200<r[t]&&(r=r[p](0,1200),u(24)),f=n+"="+r+"; path="+f+"; ",s&&(f+="expires="+new Date((new Date)[er]()+s).toGMTString()+"; "),e&&"none"!=e&&(f+="domain="+e+";"),e=i[vi],i.cookie=f,!(e=e!=i[vi]))n:{for(n=yi(n),e=0;e<n[t];e++)if(r==n[e]){e=!0;break n}e=!1}return e},pi=function(n){return ht(n)[ir](/\(/g,"%28")[ir](/\)/g,"%29")},fs=/^(www\.)?google(\.com?)?(\.[a-z]{2})?$/,es=/(^|\.)doubleclick\.net$/i,kr=function(){return(ei||"https:"==i[c][y]?"https:":"http:")+"//www.google-analytics.com"},os=function(n){tr(this,"len");this.message=n+"-8192"},ss=function(n){tr(this,"ff2post");this.message=n+"-2036"},df=function(n,i,u,f){if(u=u||pr,f&&(f=u,r[rt].sendBeacon?r[rt].sendBeacon(n,i)?(f(),f=!0):f=!1:f=!1),!f)if(2036>=i[t])hs(n,i,u);else if(8192>=i[t]){if(0<=r[rt].userAgent[s]("Firefox")&&![].reduce)throw new ss(i[t]);ls(n,i,u)||cs(n,i,u)||gf(i,u)||u()}else throw new os(i[t]);},hs=function(n,t,i){var r=pf(n+"?"+t);r.onload=r.onerror=function(){r.onload=null;r.onerror=null;i()}},cs=function(n,t,i){var u;return(u=r.XDomainRequest,!u)?!1:(u=new u,u.open("POST",n),u.onerror=function(){i()},u.onload=i,u[rr](t),!0)},ls=function(n,t,i){var f=r.XMLHttpRequest,u;return f?(u=new f,!("withCredentials"in u))?!1:(u.open("POST",n,!0),u.withCredentials=!0,u.setRequestHeader("Content-Type","text/plain"),u.onreadystatechange=function(){4==u.readyState&&(i(),u=null)},u[rr](t),!0):!1},gf=function(n,t){var u;if(!i.body)return rs(function(){gf(n,t)}),!0;n=gi(n);try{u=i[ti]('<iframe name="'+n+'"><\/iframe>')}catch(l){u=i[ti]("iframe");tr(u,n)}u.height="0";u.width="0";u.style.display="none";u.style.visibility="hidden";var f=i[c],f=kr()+"/analytics_iframe.html#"+gi(f[y]+"//"+f[ii]+"/favicon.ico"),e=function(){u.src="";u[vr]&&u[vr].removeChild(u)};ct(r,"beforeunload",e);var o=!1,s=0,h=function(){if(!o){try{if(9<s||u.contentWindow[c][ii]==i[c][ii]){o=!0;e();wf(r,"beforeunload",e);t();return}}catch(n){}s++;su(h,200)}};return ct(u,"load",h),i.body.appendChild(u),u.src=f,!0},cu=function(){this.t=[]};cu[l].add=function(n){this.t[o](n)};cu[l].D=function(n){var i,u;try{for(i=0;i<this.t[t];i++)u=n.get(this.t[i]),u&&kt(u)&&u[fi](r,n)}catch(f){}i=n.get(iu);i!=pr&&kt(i)&&(n.set(iu,pr,!0),su(i,10))};lt=function(){return k.round(2147483647*k.random())};lu=function(){try{var n=new Uint32Array(1);return r.crypto.getRandomValues(n),n[0]&2147483647}catch(t){return lt()}};var dr=function(){this.data=new et},wi=new et,au=[];dr[l].get=function(n){var t=vu(n),i=this[d].get(n);return t&&void 0==i&&(i=kt(t[hr])?t[hr]():t[hr]),t&&t.n?t.n(this,n,i):i};e=function(n,t){var i=n.get(t);return void 0==i?"":""+i};at=function(n,t){var i=n.get(t);return void 0==i||""===i?0:1*i};dr[l].set=function(n,t,i){if(n)if("object"==typeof n)for(var r in n)n[li](r)&&ne(this,r,n[r],i);else ne(this,n,t,i)};var ne=function(n,t,i,r){if(void 0!=i)switch(t){case tt:ll[ui](i)}var u=vu(t);u&&u.o?u.o(n,t,i,r):n[d].set(t,i,r)},bi=function(n,t,i,r,u){tr(this,n);this.p=t;this.n=r;this.o=u;this.defaultValue=i},vu=function(n){var i=wi.get(n),r,u,f;if(!i)for(r=0;r<au[t];r++)if(u=au[r],f=u[0].exec(n),f){i=u[1](f);wi.set(i[st],i);break}return i},th=function(n){var t;return wi.map(function(i,r){r.p==n&&(t=r)}),t&&t[st]},n=function(n,t,i,r,u){return n=new bi(n,t,i,r,u),wi.set(n[st],n),n[st]},gr=function(n,t){au[o]([new RegExp("^"+n+"$"),t])},h=function(t,i,r){return n(t,i,r,void 0,yu)},yu=function(){},nu=yr(yt.GoogleAnalyticsObject)&&yf(yt.GoogleAnalyticsObject)||"ga",ei=!1,te=h("apiVersion","v"),ie=h("clientVersion","_v");n("anonymizeIp","aip");var ih=n("adSenseId","a"),tu=n("hitType","t"),iu=n("hitCallback"),re=n("hitPayload");n("nonInteraction","ni");n("currencyCode","cu");ue=n("useBeacon",void 0,!1);n("dataSource","ds");n("sessionControl","sc","");n("sessionGroup","sg");n("queueTime","qt");pu=n("_s","_s");n("screenName","cd");var wu=n("location","dl",""),rh=n("referrer","dr"),uh=n("page","dp","");n("hostname","dh");fe=n("language","ul");ee=n("encoding","de");n("title","dt",function(){return i.title||void 0});gr("contentGroup([0-9]+)",function(n){return new bi(n[0],"cg"+n[1])});var fh=n("screenColors","sd"),eh=n("screenResolution","sr"),oh=n("viewportSize","vp"),sh=n("javaEnabled","je"),hh=n("flashVersion","fl");n("campaignId","ci");n("campaignName","cn");n("campaignSource","cs");n("campaignMedium","cm");n("campaignKeyword","ck");n("campaignContent","cc");var ch=n("eventCategory","ec"),lh=n("eventAction","ea"),ah=n("eventLabel","el"),vh=n("eventValue","ev"),yh=n("socialNetwork","sn"),ph=n("socialAction","sa"),wh=n("socialTarget","st"),bu=n("l1","plt"),oe=n("l2","pdt"),se=n("l3","dns"),he=n("l4","rrt"),ce=n("l5","srt"),le=n("l6","tcp"),ae=n("l7","dit"),ve=n("l8","clt"),bh=n("timingCategory","utc"),kh=n("timingVar","utv"),dh=n("timingLabel","utl"),gh=n("timingValue","utt");n("appName","an");n("appVersion","av","");n("appId","aid","");n("appInstallerId","aiid","");n("exDescription","exd");n("exFatal","exf");var nc=n("expId","xid"),tc=n("expVar","xvar"),ic=n("_utma","_utma"),rc=n("_utmz","_utmz"),uc=n("_utmht","_utmht"),ye=n("_hc",void 0,0),ku=n("_ti",void 0,0),pe=n("_to",void 0,20);gr("dimension([0-9]+)",function(n){return new bi(n[0],"cd"+n[1])});gr("metric([0-9]+)",function(n){return new bi(n[0],"cm"+n[1])});n("linkerParam",void 0,void 0,rl,yu);we=n("usage","_u",void 0,function(){return af.M()},yu);n("forceSSL",void 0,void 0,function(){return ei},function(n,t,i){u(34);ei=!!i});du=n("_j1","jid");be=n("_j2","gjid");gr("\\&(.*)",function(n){var t=new bi(n[0],n[1]),i=th(n[0][p](1));return i&&(t.n=function(n){return n.get(i)},t.o=function(n,t,r,u){n.set(i,r,u)},t.p=void 0),t});var fc=h("_oot"),ec=n("previewTask"),oc=n("checkProtocolTask"),sc=n("validationTask"),hc=n("checkStorageTask"),cc=n("historyImportTask"),lc=n("samplerTask"),ac=h("_rlt"),gu=n("buildHitTask"),nf=n("sendHitTask"),vc=n("ceTask"),yc=n("devIdTask"),pc=n("timingTask"),wc=n("displayFeaturesTask"),ut=h("name"),w=h("clientId","cid"),ke=n("userId","uid"),tt=h("trackingId","tid"),vt=h("cookieName",void 0,"_ga"),b=h("cookieDomain"),dt=h("cookiePath",void 0,"/"),tf=h("cookieExpires",void 0,63072e3),ru=h("legacyCookieDomain"),rf=h("legacyHistoryImport",void 0,!0),oi=h("storage",void 0,"cookie"),uf=h("allowLinker",void 0,!1),uu=h("allowAnchor",void 0,!0),fu=h("sampleRate","sf",100),ff=h("siteSpeedSampleRate",void 0,1),ef=h("alwaysSendReferrer",void 0,!1),de=n("transportUrl"),bc=n("_r","_r");ge=function(){this.V=1e4;this.fa=void 0;this.$=!1;this.ea=1};no=function(){var n=new ge,t;return n.fa&&n.$?0:(n.$=!0,0==n.V)?0:(void 0===t&&(t=lu()),0==t%n.V?k.floor(t/n.V)%n.ea+1:0)};var to=function(n,t){var i=k.min(at(n,ff),100),u;ci(e(n,w))%100>=i||!(i={},dc(i)||gc(i))||(u=i[bu],void 0==u||Infinity==u||isNaN(u)||(0<u?(gt(i,se),gt(i,le),gt(i,ce),gt(i,oe),gt(i,he),gt(i,ae),gt(i,ve),t(i)):ct(r,"load",function(){to(n,t)},!1)))},dc=function(n){var t=r.performance||r.webkitPerformance,t=t&&t.timing,i;return t?(i=t.navigationStart,0==i)?!1:(n[bu]=t.loadEventStart-i,n[se]=t.domainLookupEnd-t.domainLookupStart,n[le]=t.connectEnd-t.connectStart,n[ce]=t.responseStart-t.requestStart,n[oe]=t.responseEnd-t.responseStart,n[he]=t.fetchStart-i,n[ae]=t.domInteractive-i,n[ve]=t.domContentLoadedEventStart-i,!0):!1},gc=function(n){if(r.top!=r)return!1;var i=r.external,t=i&&i.onloadT;return(i&&!i.isValidLoadTime&&(t=void 0),2147483648<t&&(t=void 0),0<t&&i.setPageReadyTime(),void 0==t)?!1:(n[bu]=t,!0)},gt=function(n,t){var i=n[t];(isNaN(i)||Infinity==i||0>i)&&(n[t]=void 0)},nl=function(n){return function(t){"pageview"!=t.get(tu)||n.I||(n.I=!0,to(t,function(t){n[rr]("timing",t)}))}},si=!1,io=function(n){var r,s;if("cookie"==e(n,oi)){var h=e(n,vt),f=ro(n),c=oo(e(n,dt)),i=fo(e(n,b)),l=1e3*at(n,tf),a=e(n,tt);if("auto"!=i)br(h,f,c,i,a,l)&&(si=!0);else{u(32);n:{if(f=[],i=wr()[g]("."),4==i[t]&&(r=i[i[t]-1],parseInt(r,10)==r)){r=["none"];break n}for(r=i[t]-2;0<=r;r--)f[o](i[ai](r)[nt]("."));f[o]("none");r=f}for(s=0;s<r[t];s++)if(i=r[s],n[d].set(b,i),f=ro(n),br(h,f,c,i,a,l)){si=!0;return}n[d].set(b,"auto")}}},tl=function(n){if("cookie"==e(n,oi)&&!si&&(io(n),!si))throw"abort";},il=function(n){if(n.get(rf)){var t=e(n,b),r=e(n,ru)||wr(),i=of("__utma",r,t);i&&(u(19),n.set(uc,(new Date)[er](),!0),n.set(ic,i.R),(t=of("__utmz",r,t))&&i[ri]==t[ri]&&n.set(rc,t.R))}},ro=function(n){var i=pi(e(n,w)),t=eo(e(n,b));return n=so(e(n,dt)),1<n&&(t+="-"+n),["GA1",t,i][nt](".")},uo=function(n,i,r){for(var u,e=[],s=[],f,h=0;h<n[t];h++)u=n[h],u.r[r]==i?e[o](u):void 0==f||u.r[r]<f?(s=[u],f=u.r[r]):u.r[r]==f&&s[o](u);return 0<e[t]?e:s},fo=function(n){return 0==n[s](".")?n.substr(1):n},eo=function(n){return fo(n)[g](".")[t]},oo=function(n){return n?(1<n[t]&&n.lastIndexOf("/")==n[t]-1&&(n=n.substr(0,n[t]-1)),0!=n[s]("/")&&(n="/"+n),n):"/"},so=function(n){return n=oo(n),"/"==n?1:n[g]("/")[t]};ho=new RegExp(/^https?:\/\/([^\/:]+)/);co=/(.*)([?&#])(?:_ga=[^&#]*)(?:&?)(.*)/;hi=function(n){u(48);this.target=n;this.T=!1};hi[l].Q=function(n,t){if(n.tagName){if("a"==n.tagName[ft]()){n[wt]&&nr(n,ki(this,n[wt],t));return}if("form"==n.tagName[ft]())return hf(this,n)}if("string"==typeof n)return ki(this,n,t)};ki=function(n,i,r){var u=co.exec(i),f;return u&&3<=u[t]&&(i=u[1]+(u[3]?u[2]+u[3]:"")),n=n[lr].get("linkerParam"),f=i[s]("?"),u=i[s]("#"),r?i+=(-1==u?"#":"&")+n:(r=-1==f?"?":"&",i=-1==u?i+(r+n):i[p](0,u)+r+n+i[p](u)),i};hf=function(n,r){var e,u,f;if(r&&r[sr])if(e=n[lr].get("linkerParam")[g]("=")[1],"get"==r.method[ft]()){for(u=r.childNodes||[],f=0;f<u[t];f++)if("_ga"==u[f][st]){u[f][fr]("value",e);return}u=i[ti]("input");u[fr]("type","hidden");u[fr]("name","_ga");u[fr]("value",e);r.appendChild(u)}else"post"==r.method[ft]()&&(r.action=ki(n,r[sr]))};hi[l].S=function(n,f,e){function s(t){var i,e;try{t=t||r.event;n:{for(e=t[lr]||t.srcElement,t=100;e&&0<t;){if(e[wt]&&e.nodeName[ot](/^a(?:rea)?$/i)){i=e;break n}e=e[vr];t--}i={}}("http:"==i[y]||"https:"==i[y])&&lo(n,i[pt]||"")&&i[wt]&&nr(i,ki(h,i[wt],f))}catch(o){u(26)}}var h=this,o;if(this.T||(this.T=!0,ct(i,"mousedown",s,!1),ct(i,"touchstart",s,!1),ct(i,"keyup",s,!1)),e)for(e=function(t){if(t=t||r.event,(t=t[lr]||t.srcElement)&&t[sr]){var i=t[sr][ot](ho);i&&lo(n,i[1])&&hf(h,t)}},o=0;o<i.forms[t];o++)ct(i.forms[o],"submit",e)};var cf=function(n,t,i,r){this.U=t;this.aa=i;(t=r)||(t=(t=e(n,ut))&&"t0"!=t?fl[ui](t)?"_gat_"+pi(e(n,tt)):"_gat_"+pi(t):"_gat");this.Y=t},ao=function(n,t){var r=t.get(gu),i;t.set(gu,function(t){vo(n,t);var i=r(t);return yo(n,t),i});i=t.get(nf);t.set(nf,function(t){var r=i(t);return ul(n,t),r})},vo=function(n,t){t.get(n.U)||("1"==yi(n.Y)[0]?t.set(n.U,"",!0):t.set(n.U,""+lt(),!0))},yo=function(n,t){t.get(n.U)&&br(n.Y,"1",t.get(dt),t.get(b),t.get(tt),6e5)},ul=function(n,t){var u,i,r;t.get(n.U)&&(u=new et,i=function(n){u.set(vu(n).p,t.get(n))},i(te),i(ie),i(tt),i(w),i(n.U),i(we),r=n.aa,u.map(function(n,t){r+=ht(n)+"=";r+=ht(""+t)+"&"}),r+="z="+lt(),pf(r),t.set(n.U,"",!0))},fl=/^gtm\d+$/,el=function(n,t){var i=n.b,f;i.get("dcLoaded")||(u(29),r._gaq&&u(52),t=t||{},t[vt]&&(f=pi(t[vt])),f=new cf(i,du,"https://stats.g.doubleclick.net/collect?t=dc&aip=1&",f),ao(f,i),i.set("dcLoaded",!0))},ol=function(n){var t;t=n.get("dcLoaded")?!1:"cookie"!=n.get(oi)?!1:!0;t&&(u(51),t=new cf(n,du),vo(t,n),yo(t,n),n.get(t.U)&&(n.set(bc,1,!0),n.set(de,kr()+"/r/collect",!0)))},sl=function(n,t){var i=n.b,r;i.get("_rlsaLoaded")||(u(38),t=t||{},t[vt]&&(r=pi(t[vt])),r=new cf(i,be,"https://www.google.com/ads/ga-audiences?t=sr&aip=1&",r),ao(r,i),i.set("_rlsaLoaded",!0),go("displayfeatures",n,t))},hl=function(){var n=r.gaGlobal=r.gaGlobal||{};return n.hid=n.hid||lt()},po,cl=function(n,t,u){var f,e,o;po||(f=i[c][ri],e=r[st],o=/^#?gaso=([^&]*)/,(e=(f=(f=f&&f[ot](o)||e&&e[ot](o))?f[1]:yi("GASO")[0]||"")&&f[ot](/^(?:!([-0-9a-z.]{1,40})!)?([-.\w]{10,1200})$/i))&&(br("GASO",""+f,u,t,n,0),yt._udo||(yt._udo=t),yt._utcp||(yt._utcp=u),n=e[1],bf("https://www.google.com/analytics/web/inpage/pub/inpage.js?"+(n?"prefix="+n+"&":"")+lt(),"_gasojs")),po=!0)},ll=/^(UA|YT|MO|GP)-(\d+)-(\d+)$/,di=function(n){function t(n,t){r.b[d].set(n,t)}function i(n,i){t(n,i);r.filters.add(n)}var r=this;this.b=new dr;this.filters=new cu;t(ut,n[ut]);t(tt,yf(n[tt]));t(vt,n[vt]);t(b,n[b]||wr());t(dt,n[dt]);t(tf,n[tf]);t(ru,n[ru]);t(rf,n[rf]);t(uf,n[uf]);t(uu,n[uu]);t(fu,n[fu]);t(ff,n[ff]);t(ef,n[ef]);t(oi,n[oi]);t(ke,n[ke]);t(te,1);t(ie,"j31");i(fc,vs);i(ec,ks);i(oc,ys);i(sc,gs);i(hc,tl);i(cc,il);i(lc,as);i(ac,nh);i(vc,bs);i(yc,ds);i(wc,ol);i(gu,ps);i(nf,ws);i(pc,nl(this));al(this.b,n[w]);vl(this.b);this.b.set(ih,hl());cl(this.b.get(tt),this.b.get(b),this.b.get(dt))},al=function(n,f){var h,l,a,v,y;if("cookie"==e(n,oi)){si=!1;n:{if(l=yi(e(n,vt)),l&&!(1>l[t])){for(h=[],a=0;a<l[t];a++)v=l[a][g]("."),y=v.shift(),("GA1"==y||"1"==y)&&1<v[t]?(y=v.shift()[g]("-"),1==y[t]&&(y[1]="1"),y[0]*=1,y[1]*=1,v={r:y,s:v[nt](".")}):v=void 0,v&&h[o](v);if(1==h[t]){u(13);h=h[0].s;break n}if(0==h[t])u(12);else{if(u(14),l=eo(e(n,b)),h=uo(h,l,0),1==h[t]){h=h[0].s;break n}l=so(e(n,dt));h=uo(h,l,1);h=h[0]&&h[0].s;break n}}h=void 0}h||(h=e(n,b),l=e(n,ru)||wr(),h=of("__utma",l,h),(h=void 0==h?void 0:h.O[1]+"."+h.O[2])&&u(10));h&&(n[d].set(w,h),si=!0)}h=n.get(uu);(a=(h=i[c][h?"href":"search"][ot]("(?:&|#|\\?)"+ht("_ga")[ir](/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")+"=([^&#]*)"))&&2==h[t]?h[1]:"")&&(n.get(uf)?(h=a[s]("."),-1==h?u(22):(l=a[p](h+1),"1"!=a[p](0,h)?u(22):(h=l[s]("."),-1==h?u(22):(a=l[p](0,h),h=l[p](h+1),a!=eu(h,0)&&a!=eu(h,-1)&&a!=eu(h,-2)?u(23):(u(11),n[d].set(w,h)))))):u(21));f&&(u(9),n[d].set(w,ht(f)));n.get(w)||((h=(h=r.gaGlobal&&r.gaGlobal.vid)&&-1!=h[or](/^(?:utma\.)?\d+\.\d+$/)?h:void 0)?(u(17),n[d].set(w,h)):(u(8),n[d].set(w,[lt()^us()&2147483647,k.round((new Date)[er]()/1e3)][nt]("."))));io(n)},vl=function(n){var e=r[rt],f=r.screen,s=i[c],h;n.set(rh,is(n.get(ef)));s&&(h=s.pathname||"","/"!=h.charAt(0)&&(u(31),h="/"+h),n.set(wu,s[y]+"//"+s[pt]+h+s[or]));f&&n.set(eh,f.width+"x"+f.height);f&&n.set(fh,f.colorDepth+"-bit");var f=i.documentElement,a=(h=i.body)&&h[cr]&&h[ar],l=[];if(f&&f[cr]&&f[ar]&&("CSS1Compat"===i.compatMode||!a)?l=[f[cr],f[ar]]:a&&(l=[h[cr],h[ar]]),f=0>=l[0]||0>=l[1]?"":l[nt]("x"),n.set(oh,f),n.set(hh,kc()),n.set(ee,i.characterSet||i.charset),n.set(sh,e&&"function"==typeof e.javaEnabled&&e.javaEnabled()||!1),n.set(fe,(e&&(e.language||e.browserLanguage)||"")[ft]()),s&&n.get(uu)&&(e=i[c][ri])){for(e=e[g](/[?&#]+/),s=[],f=0;f<e[t];++f)(v(e[f],"utm_id")||v(e[f],"utm_campaign")||v(e[f],"utm_source")||v(e[f],"utm_medium")||v(e[f],"utm_term")||v(e[f],"utm_content")||v(e[f],"gclid")||v(e[f],"dclid")||v(e[f],"gclsrc"))&&s[o](e[f]);0<s[t]&&(e="#"+s[nt]("&"),n.set(wu,n.get(wu)+e))}};di[l].get=function(n){return this.b.get(n)};di[l].set=function(n,t){this.b.set(n,t)};wo={pageview:[uh],event:[ch,lh,ah,vh],social:[yh,ph,wh],timing:[bh,kh,gh,dh]};di[l].send=function(){if(!(1>arguments[t])){var i,n;"string"==typeof arguments[0]?(i=arguments[0],n=[][ai][fi](arguments,1)):(i=arguments[0]&&arguments[0][tu],n=arguments);i&&(n=kf(wo[i]||[],n),n[tu]=i,this.b.set(n,void 0,!0),this.filters.D(this.b),this.b[d].m={},u(44))}};var bo=function(n){return"prerender"==i.visibilityState?!1:(n(),!0)},yl=/^(?:(\w+)\.)?(?:(\w+):)?(\w+)$/,pl=function(n){if(kt(n[0]))this.u=n[0];else{var i=yl.exec(n[0]);if(null!=i&&4==i[t]&&(this.c=i[1]||"t0",this.e=i[2]||"",this.d=i[3],this.a=[][ai][fi](n,1),this.e||(this.A="create"==this.d,this.i="require"==this.d,this.g="provide"==this.d,this.ba="remove"==this.d),this.i&&(3<=this.a[t]?(this.X=this.a[1],this.W=this.a[2]):this.a[1]&&(yr(this.a[1])?this.X=this.a[1]:this.W=this.a[1]))),i=n[1],n=n[2],!this.d)throw"abort";if(this.i&&(!yr(i)||""==i))throw"abort";if(this.g&&(!yr(i)||""==i||!kt(n)))throw"abort";if(ko(this.c)||ko(this.e))throw"abort";if(this.g&&"t0"!=this.c)throw"abort";}};ni=new et;lf=new et;ou={ec:45,ecommerce:46,linkid:47};var go=function(n,t,i){t==f?u(35):t.get(ut);var r=ni.get(n);return kt(r)?(t.plugins_=t.plugins_||new et,t.plugins_.get(n))?!0:(t.plugins_.set(n,new r(t,i||{})),!0):!1},ns=function(n){function e(n){var i=(n[pt]||"")[g](":")[0][ft](),t=(n[y]||"")[ft](),t=1*n[ur]||("http:"==t?80:"https:"==t?443:"");return n=n.pathname||"",v(n,"/")||(n="/"+n),[i,""+t,n]}var t=i[ti]("a");nr(t,i[c][wt]);var r=(t[y]||"")[ft](),u=e(t),o=t[or]||"",f=r+"//"+u[0]+(u[1]?":"+u[1]:"");return v(n,"//")?n=r+n:v(n,"/")?n=f+n:!n||v(n,"?")?n=f+u[2]+(n||o):0>n[g]("/")[0][s](":")&&(n=f+u[2][p](0,u[2].lastIndexOf("/"))+"/"+n),nr(t,n),r=e(t),{protocol:(t[y]||"")[ft](),host:r[0],port:r[1],path:r[2],G:t[or]||"",url:n||""}},a={ga:function(){a.f=[]}};a.ga();a.D=function(){var n=a.J[bt](a,arguments),n=a.f.concat(n);for(a.f=[];0<n[t]&&!a.v(n[0])&&!(n.shift(),0<a.f[t]););a.f=a.f.concat(n)};a.J=function(){for(var e,f,r,n,b,k,a=[],l=0;l<arguments[t];l++)try{if(e=new pl(arguments[l]),e.g)ni.set(e.a[0],e.a[1]);else{if(e.i&&(n=e,f=n.a[0],!kt(ni.get(f))&&!lf.get(f)&&(ou[li](f)&&u(ou[f]),r=n.X,!r&&ou[li](f)?(u(39),r=f+".js"):u(43),r))){r&&0<=r[s]("/")||(r=(ei||"https:"==i[c][y]?"https:":"http:")+"//www.google-analytics.com/plugins/ua/"+r);var p=ns(r),n=void 0,w=p[y],d=i[c][y],n="https:"==w||w==d?!0:"http:"!=w?!1:"http:"==d,h;(h=n)&&(n=p,b=ns(i[c][wt]),n.G||0<=n.url[s]("?")||0<=n.path[s]("://")?h=!1:n[ii]==b[ii]&&n[ur]==b[ur]?h=!0:(k="http:"==n[y]?80:443,h="www.google-analytics.com"==n[ii]&&(n[ur]||k)==k&&v(n.path,"/plugins/")?!0:!1));h&&(bf(p.url),lf.set(f,!0))}a[o](e)}}catch(g){}return a};a.v=function(n){var t;try{if(n.u)n.u[fi](r,f.j("t0"));else if(t=n.c==nu?f:f.j(n.c),n.A)"t0"==n.c&&f.create[bt](f,n.a);else if(n.ba)f.remove(n.c);else if(t)if(n.i){if(!go(n.a[0],t,n.W))return!0}else if(n.e){var u=n.d,e=n.a,i=t.plugins_.get(n.e);i[u][bt](i,e)}else t[n.d][bt](t,n.a)}catch(o){}};f=function(){u(1);a.D[bt](a,[arguments])};f.h={};f.P=[];f.L=0;f.answer=42;ts=[tt,b,ut];f.create=function(){var n=kf(ts,[][ai][fi](arguments)),t;return(n[ut]||(n[ut]="t0"),t=""+n[ut],f.h[t])?f.h[t]:(n=new di(n),f.h[t]=n,f.P[o](n),n)};f.remove=function(n){for(var i=0;i<f.P[t];i++)if(f.P[i].get(ut)==n){f.P.splice(i,1);f.h[n]=null;break}};f.j=function(n){return f.h[n]};f.K=function(){return f.P[ai](0)};f.N=function(){var e,n,o,h;if("ga"!=nu&&u(49),e=r[nu],!e||42!=e.answer){f.L=e&&e.l;f.loaded=!0;n=r[nu]=f;it("create",n,n.create,3);it("remove",n,n.remove);it("getByName",n,n.j,5);it("getAll",n,n.K,6);n=di[l];it("get",n,n.get,7);it("set",n,n.set,4);it("send",n,n[rr],2);n=dr[l];it("get",n,n.get);it("set",n,n.set);n:for(n=i.getElementsByTagName("script"),o=0;o<n[t]&&100>o;o++)if(h=(h=n[o].src)?0!=h[s]("https://www.google-analytics.com/analytics")?!1:!0:!1,h){u(33);break n}"https:"!=i[c][y]&&!ei&&no()&&(u(36),ei=!0);(r.gaplugins=r.gaplugins||{}).Linker=hi;n=hi[l];ni.set("linker",hi);it("decorate",n,n.Q,20);it("autoLink",n,n.S,25);ni.set("displayfeatures",el);ni.set("adfeatures",sl);e=e&&e.q;vf(e)?a.D[bt](f,e):u(50)}};f.k=function(){for(var i=f.K(),n=0;n<i[t];n++)i[n].get(ut)},function(){var r=f.N,n,t;bo(r)||(u(16),n=!1,t=function(){!n&&bo(r)&&(n=!0,wf(i,"visibilitychange",t))},ct(i,"visibilitychange",t))}()})(window),function(n,t){if(!t.__SV){var i,f,u,r;window.mixpanel=t;t._i=[];t.init=function(n,i,f){function o(n,t){var i=t.split(".");2==i.length&&(n=n[i[0]],t=i[1]);n[t]=function(){n.push([t].concat(Array.prototype.slice.call(arguments,0)))}}var e=t;for("undefined"!=typeof f?e=t[f]=[]:f="mixpanel",e.people=e.people||[],e.toString=function(n){var t="mixpanel";return"mixpanel"!==f&&(t+="."+f),n||(t+=" (stub)"),t},e.people.toString=function(){return e.toString(1)+".people (stub)"},u="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" "),r=0;r<u.length;r++)o(e,u[r]);t._i.push([n,i,f])};t.__SV=1.2;i=n.createElement("script");i.type="text/javascript";i.async=!0;i.src="https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";f=n.getElementsByTagName("script")[0]}}(document,window.mixpanel||[]);config.app==="app"&&function(){function r(){return function(){}}var n=!0,i=null,t=!1;(function(u){function c(){}function o(){}function it(n,t,i){var r,e="mixpanel"===i?u:u[i];if(e&&!f.isArray(e))l.error("You have already initialized "+i);else return r=new o,r.Fa(n,t,i),r.people=new c,r.people.Fa(r),b=b||r.d("debug"),f.h(e)||(r.Da.call(r.people,e.people),r.Da(e)),r}function h(n){this.props={};this.kb=t;this.name=n.cookie_name?"mp_"+n.cookie_name:"mp_"+n.token+"_mixpanel";this.load();this.Kb(n);this.Qc(n);this.save()}function rt(){this.Ab="submit"}function k(){this.Ab="click"}function y(){}function w(){w.tc||(ht=w.tc=n,st=t,f.a(p,function(n){n.Wb()}))}var et=Array.prototype,lt=Function.prototype,d=Object.prototype,g=et.slice,nt=d.toString,ut=d.hasOwnProperty,v=window.console,tt=window.navigator,s=window.document,a=tt.userAgent,at="__mps,__mpso,__mpa,__mpap,$people_distinct_id,__alias,__cmpns".split(","),d=u&&u.__SV||0,ft=window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,st=!ft&&-1==a.indexOf("MSIE")&&-1==a.indexOf("Mozilla"),f={},b=t,vt={api_host:("https:"==s.location.protocol?"https://":"http://")+"api.mixpanel.com",cross_subdomain_cookie:n,cookie_name:"",loaded:r(),store_google:n,save_referrer:n,test:t,verbose:t,img:t,track_pageview:n,debug:t,track_links_timeout:300,cookie_expiration:365,upgrade:t,disable_cookie:t,secure_cookie:t,ip:n},ht=t,l,e,p,ct,ot;if(function(){var r=lt.bind,e=et.forEach,o=et.indexOf,s=Array.isArray,u={},n;f.bind=function(n,t){var u,e;if(r&&n.bind===r)return r.apply(n,g.call(arguments,1));if(!f.wb(n))throw new TypeError;return u=g.call(arguments,2),e=function(){var f,r;return(this instanceof e)?(ctor.prototype=n.prototype,f=new ctor,ctor.prototype=i,r=n.apply(f,u.concat(g.call(arguments))),Object(r)===r?r:f):n.apply(t,u.concat(g.call(arguments)))}};f.ic=function(n){for(var t in n)"function"==typeof n[t]&&(n[t]=f.bind(n[t],n))};n=f.a=function(n,t,r){if(n!=i)if(e&&n.forEach===e)n.forEach(t,r);else if(n.length===+n.length)for(var f=0,o=n.length;f<o&&!(f in n&&t.call(r,n[f],f,n)===u);f++);else for(f in n)if(ut.call(n,f)&&t.call(r,n[f],f,n)===u)break};f.p=function(n){return n&&f.Ua(n)&&(n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")),n};f.extend=function(t){return n(g.call(arguments,1),function(n){for(var i in n)void 0!==n[i]&&(t[i]=n[i])}),t};f.isArray=s||function(n){return"[object Array]"===nt.call(n)};f.wb=function(n){try{return/^\s*\bfunction\b/.test(n)}catch(i){return t}};f.xc=function(n){return!(!n||!ut.call(n,"callee"))};f.$=function(n){return n?n.$?n.$():f.isArray(n)||f.xc(n)?g.call(n):f.Sc(n):[]};f.Sc=function(t){var r=[];return t==i?r:(n(t,function(n){r[r.length]=n}),r)};f.Wc=function(n){return n};f.sb=function(r,f){var e=t;return r==i?e:o&&r.indexOf===o?-1!=r.indexOf(f):(n(r,function(n){if(e||(e=n===f))return u}),e)};f.o=function(n,t){return-1!==n.indexOf(t)}}(),f.ub=function(n,t){n.prototype=new t;n.Lc=t.prototype},f.j=function(n){return n===Object(n)&&!f.isArray(n)},f.W=function(i){if(f.j(i)){for(var r in i)if(ut.call(i,r))return t;return n}return t},f.h=function(n){return void 0===n},f.Ua=function(n){return"[object String]"==nt.call(n)},f.yc=function(n){return"[object Date]"==nt.call(n)},f.zc=function(n){return"[object Number]"==nt.call(n)},f.ob=function(n){return f.a(n,function(t,i){f.yc(t)?n[i]=f.uc(t):f.j(t)&&(n[i]=f.ob(t))}),n},f.uc=function(n){function t(n){return 10>n?"0"+n:n}return n.getUTCFullYear()+"-"+t(n.getUTCMonth()+1)+"-"+t(n.getUTCDate())+"T"+t(n.getUTCHours())+":"+t(n.getUTCMinutes())+":"+t(n.getUTCSeconds())},f.s=function(n){return function(){try{n.apply(this,arguments)}catch(t){l.na("Implementation error. Please contact support@mixpanel.com.")}}},f.Cb=function(n,t){for(var i=0;i<t.length;i++)n.prototype[t[i]]=f.s(n.prototype[t[i]])},f.ra=function(n){var t={};return f.a(n,function(n,i){f.Ua(n)&&0<n.length&&(t[i]=n)}),t},f.truncate=function(n,t){var i;return"string"==typeof n?i=n.slice(0,t):f.isArray(n)?(i=[],f.a(n,function(n){i.push(f.truncate(n,t))})):f.j(n)?(i={},f.a(n,function(n,r){i[r]=f.truncate(n,t)})):i=n,i},f.ca=function(){return function(n){function t(n,r){var o="",f=0,s=f="",s=0,h=o,e=[],u=r[n];u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(n));switch(typeof u){case"string":return i(u);case"number":return isFinite(u)?""+u:"null";case"boolean":case"null":return""+u;case"object":if(!u)return"null";if(o+="    ",e=[],"[object Array]"===nt.apply(u)){for(s=u.length,f=0;f<s;f+=1)e[f]=t(f,u)||"null";return 0===e.length?"[]":o?"[\n"+o+e.join(",\n"+o)+"\n"+h+"]":"["+e.join(",")+"]"}for(f in u)ut.call(u,f)&&(s=t(f,u))&&e.push(i(f)+(o?": ":":")+s);return 0===e.length?"{}":o?"{"+e.join(",")+""+h+"}":"{"+e.join(",")+"}"}}function i(n){var t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return t.lastIndex=0,t.test(n)?'"'+n.replace(t,function(n){var t=i[n];return"string"==typeof t?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}return t("",{"":n})}}(),f.wa=function(){function v(){switch(r){case"t":return u("t"),u("r"),u("u"),u("e"),n;case"f":return u("f"),u("a"),u("l"),u("s"),u("e"),t;case"n":return u("n"),u("u"),u("l"),u("l"),i}e("Unexpected '"+r+"'")}function f(){for(;r&&" ">=r;)u()}function c(){var i,f,n="",t;if('"'===r)for(;u();){if('"'===r)return u(),n;if("\\"===r)if(u(),"u"===r){for(f=t=0;4>f;f+=1){if(i=parseInt(u(),16),!isFinite(i))break;t=16*t+i}n+=String.fromCharCode(t)}else if("string"==typeof a[r])n+=a[r];else break;else n+=r}e("Bad string")}function l(){var n;for(n="","-"===r&&(n="-",u("-"));"0"<=r&&"9">=r;)n+=r,u();if("."===r)for(n+=".";u()&&"0"<=r&&"9">=r;)n+=r;if("e"===r||"E"===r)for(n+=r,u(),("-"===r||"+"===r)&&(n+=r,u());"0"<=r&&"9">=r;)n+=r,u();if(n=+n,isFinite(n))return n;e("Bad number")}function u(n){return n&&n!==r&&e("Expected '"+n+"' instead of '"+r+"'"),r=h.charAt(o),o+=1,r}function e(n){throw{name:"SyntaxError",message:n,Vc:o,text:h};}var o,r,a={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},h,s;return s=function(){var n,t,i;f();switch(r){case"{":n:{if(i={},"{"===r){if(u("{"),f(),"}"===r){u("}");n=i;break n}for(;r;){if(t=c(),f(),u(":"),Object.hasOwnProperty.call(i,t)&&e('Duplicate key "'+t+'"'),i[t]=s(),f(),"}"===r){u("}");n=i;break n}u(",");f()}}e("Bad object")}return n;case"[":n:{if(n=[],"["===r){if(u("["),f(),"]"===r){u("]");t=n;break n}for(;r;){if(n.push(s()),f(),"]"===r){u("]");t=n;break n}u(",");f()}}e("Bad array")}return t;case'"':return c();case"-":return l();default:return"0"<=r&&"9">=r?l():v()}},function(n){return h=n,o=0,r=" ",n=s(),f(),r&&e("Syntax error"),n}}(),f.ib=function(n){var r,u,e,i,o=0,s=0,t="",t=[];if(!n)return n;n=f.Rc(n);do r=n.charCodeAt(o++),u=n.charCodeAt(o++),e=n.charCodeAt(o++),i=r<<16|u<<8|e,r=i>>18&63,u=i>>12&63,e=i>>6&63,i&=63,t[s++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(r)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(u)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i);while(o<n.length);t=t.join("");switch(n.length%3){case 1:t=t.slice(0,-2)+"==";break;case 2:t=t.slice(0,-1)+"="}return t},f.Rc=function(n){var n=(n+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n"),e="",r,u,s=0,f,t,o;for(r=u=0,s=n.length,f=0;f<s;f++)t=n.charCodeAt(f),o=i,128>t?u++:o=127<t&&2048>t?String.fromCharCode(t>>6|192,t&63|128):String.fromCharCode(t>>12|224,t>>6&63|128,t&63|128),o!==i&&(u>r&&(e+=n.substring(r,u)),e+=o,r=u=f+1);return u>r&&(e+=n.substring(r,n.length)),e},f.Rb=function(){function t(){function r(t,i){for(var u=0,r=0;r<i.length;r++)u|=n[r]<<8*r;return t^u}for(var u,n=[],t=0,i=0;i<a.length;i++)u=a.charCodeAt(i),n.unshift(u&255),4<=n.length&&(t=r(t,n),n=[]);return 0<n.length&&(t=r(t,n)),t.toString(16)}function n(){for(var n=1*new Date,t=0;n==1*new Date;)t++;return n.toString(16)+t.toString(16)}return function(){var i=(screen.height*screen.width).toString(16);return n()+"-"+Math.random().toString(16).replace(".","")+"-"+t()+"-"+i+"-"+n()}}(),f.vb=function(i){return/(google web preview|baiduspider|yandexbot|bingbot|googlebot|yahoo! slurp)/i.test(i)?n:t},f.Qb=function(n){var t,r,u,i=[];return"undefined"==typeof t&&(t="&"),f.a(n,function(n,t){r=encodeURIComponent(n.toString());u=encodeURIComponent(t);i[i.length]=u+"="+r}),i.join(t)},f.pb=function(n,t){var t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),r=RegExp("[\\?&]"+t+"=([^&#]*)").exec(n);return r===i||r&&"string"!=typeof r[1]&&r[1].length?"":decodeURIComponent(r[1]).replace(/\+/g," ")},f.cookie={get:function(n){for(var t,n=n+"=",u=s.cookie.split(";"),r=0;r<u.length;r++){for(t=u[r];" "==t.charAt(0);)t=t.substring(1,t.length);if(0==t.indexOf(n))return decodeURIComponent(t.substring(n.length,t.length))}return i},parse:function(n){var t;try{t=f.wa(f.cookie.get(n))||{}}catch(i){}return t},set:function(n,t,i,r,u){var o,f="",e="",h="";r&&(o=(f=(f=s.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i))?f[0]:"")?"; domain=."+f:"",f=o);i&&(e=new Date,e.setTime(e.getTime()+864e5*i),e="; expires="+e.toGMTString());u&&(h="; secure");s.cookie=n+"="+encodeURIComponent(t)+e+"; path=/"+f+h},remove:function(n,t){f.cookie.set(n,"",-1,t)}},f.N=function(){function r(r,u,e){return function(o){if(o=o||i(window.event)){var s=n,h;return f.wb(e)&&(h=e(o)),o=u.call(r,o),(t===h||t===o)&&(s=t),s}}}function i(n){return n&&(n.preventDefault=i.preventDefault,n.stopPropagation=i.stopPropagation),n}return i.preventDefault=function(){this.returnValue=t},i.stopPropagation=function(){this.cancelBubble=n},function(n,i,u,f){n?n.addEventListener&&!f?n.addEventListener(i,u,t):(i="on"+i,n[i]=r(n,u,n[i])):l.error("No valid element provided to register_event")}}(),f.sc=function(){function n(n,i){return 0<=(" "+n.className+" ").replace(t," ").indexOf(" "+i+" ")}var t=/[\t\r\n]/g;return function(t){var r,u,c,e,o,l,h;if(!s.getElementsByTagName)return[];for(var t=t.split(" "),i,r=Array(s),y=0;y<t.length;y++)if(i=t[y].replace(/^\s+/,"").replace(/\s+$/,""),-1<i.indexOf("#")){if(i=i.split("#"),u=i[0],r=s.getElementById(i[1]),!r||u&&r.nodeName.toLowerCase()!=u)return[];r=Array(r)}else if(-1<i.indexOf(".")){for(i=i.split("."),u=i[0],c=i[1],u||(u="*"),i=[],e=0,o=0;o<r.length;o++)for(l="*"==u?r[o].all?r[o].all:r[o].getElementsByTagName("*"):r[o].getElementsByTagName(u),h=0;h<l.length;h++)i[e++]=l[h];for(r=[],e=u=0;e<i.length;e++)i[e].className&&f.Ua(i[e].className)&&n(i[e],c)&&(r[u++]=i[e])}else if(i.match(/^(\w*)\[(\w+)([=~\|\^\$\*]?)=?"?([^\]"]*)"?\]$/)){var u=RegExp.$1,a=RegExp.$2,c=RegExp.$3,v=RegExp.$4;for(u||(u="*"),i=[],o=e=0;o<r.length;o++)for(l="*"==u?r[o].all?r[o].all:r[o].getElementsByTagName("*"):r[o].getElementsByTagName(u),h=0;h<l.length;h++)i[e++]=l[h];r=[];u=0;switch(c){case"=":c=function(n){return n.getAttribute(a)==v};break;case"~":c=function(n){return n.getAttribute(a).match(RegExp("\\b"+v+"\\b"))};break;case"|":c=function(n){return n.getAttribute(a).match(RegExp("^"+v+"-?"))};break;case"^":c=function(n){return 0==n.getAttribute(a).indexOf(v)};break;case"$":c=function(n){return n.getAttribute(a).lastIndexOf(v)==n.getAttribute(a).length-v.length};break;case"*":c=function(n){return-1<n.getAttribute(a).indexOf(v)};break;default:c=function(n){return n.getAttribute(a)}}for(r=[],e=u=0;e<i.length;e++)c(i[e])&&(r[u++]=i[e])}else{for(u=i,i=[],o=e=0;o<r.length;o++)for(l=r[o].getElementsByTagName(u),h=0;h<l.length;h++)i[e++]=l[h];r=i}return r}}(),f.info={lc:function(){var n="",t={};return f.a("utm_source utm_medium utm_campaign utm_content utm_term".split(" "),function(i){n=f.pb(s.URL,i);n.length&&(t[i]=n)}),t},Ec:function(n){return 0===n.search("https?://(.*)google.([^/?]*)")?"google":0===n.search("https?://(.*)bing.com")?"bing":0===n.search("https?://(.*)yahoo.com")?"yahoo":0===n.search("https?://(.*)duckduckgo.com")?"duckduckgo":i},Fc:function(n){var t=f.info.Ec(n),r={};return t!==i&&(r.$search_engine=t,n=f.pb(n,"yahoo"!=t?"q":"p"),n.length&&(r.mp_keyword=n)),r},ka:function(n,t,i){return t=t||"",i?f.o(n,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(n)?"BlackBerry":f.o(n,"FBIOS")?"Facebook Mobile":f.o(n,"Chrome")?"Chrome":f.o(n,"CriOS")?"Chrome iOS":f.o(t,"Apple")?f.o(n,"Mobile")?"Mobile Safari":"Safari":f.o(n,"Android")?"Android Mobile":f.o(n,"Konqueror")?"Konqueror":f.o(n,"Firefox")?"Firefox":f.o(n,"MSIE")||f.o(n,"Trident/")?"Internet Explorer":f.o(n,"Gecko")?"Mozilla":""},Xa:function(){return/Windows/i.test(a)?/Phone/.test(a)?"Windows Mobile":"Windows":/(iPhone|iPad|iPod)/.test(a)?"iOS":/Android/.test(a)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(a)?"BlackBerry":/Mac/i.test(a)?"Mac OS X":/Linux/.test(a)?"Linux":""},nb:function(n){return/iPad/.test(n)?"iPad":/iPod/.test(n)?"iPod Touch":/iPhone/.test(n)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(n)?"BlackBerry":/Windows Phone/i.test(n)?"Windows Phone":/Android/.test(n)?"Android":""},Bb:function(n){return n=n.split("/"),3<=n.length?n[2]:""},qa:function(){return f.extend(f.ra({$os:f.info.Xa(),$browser:f.info.ka(a,tt.vendor,window.opera),$referrer:s.referrer,$referring_domain:f.info.Bb(s.referrer),$device:f.info.nb(a)}),{$screen_height:screen.height,$screen_width:screen.width,mp_lib:"web",$lib_version:"2.3.2"})},Dc:function(){return f.ra({$os:f.info.Xa(),$browser:f.info.ka(a,tt.vendor,window.opera)})},Cc:function(n){return f.ra({mp_page:n,mp_referrer:s.referrer,mp_browser:f.info.ka(a,tt.vendor,window.opera),mp_platform:f.info.Xa()})}},l={log:function(){if(b&&!f.h(v)&&v)try{v.log.apply(v,arguments)}catch(n){f.a(arguments,function(n){v.log(n)})}},error:function(){if(b&&!f.h(v)&&v){var n=["Mixpanel error:"].concat(f.$(arguments));try{v.error.apply(v,n)}catch(t){f.a(n,function(n){v.error(n)})}}},na:function(){if(!f.h(v)&&v){var n=["Mixpanel error:"].concat(f.$(arguments));try{v.error.apply(v,n)}catch(t){f.a(n,function(n){v.error(n)})}}}},y.prototype.ma=r(),y.prototype.Oa=r(),y.prototype.Ka=r(),y.prototype.Ta=function(n){return this.yb=n,this},y.prototype.P=function(t,i,r,u){var e=this,o=f.sc(t);if(0==o.length)l.error("The DOM query ("+t+") returned 0 elements");else return f.a(o,function(t){f.N(t,this.Ab,function(t){var f={},o=e.ma(r,this),s=e.yb.d("track_links_timeout");e.Oa(t,this,f);window.setTimeout(e.Ib(u,o,f,n),s);e.yb.P(i,o,e.Ib(u,o,f))})},this),n},y.prototype.Ib=function(i,r,u,f){var f=f||t,e=this;return function(){u.kc||(u.kc=n,i&&i(f,r)===t||e.Ka(r,u,f))}},y.prototype.ma=function(n,t){return"function"==typeof n?n(t):f.extend({},n)},f.ub(k,y),k.prototype.ma=function(n,t){var i=k.Lc.ma.apply(this,arguments);return t.href&&(i.url=t.href),i},k.prototype.Oa=function(n,t,i){i.zb=2===n.which||n.metaKey||"_blank"===t.target;i.href=t.href;i.zb||n.preventDefault()},k.prototype.Ka=function(n,t){t.zb||setTimeout(function(){window.location=t.href},0)},f.ub(rt,y),rt.prototype.Oa=function(n,t,i){i.element=t;n.preventDefault()},rt.prototype.Ka=function(n,t){setTimeout(function(){t.element.submit()},0)},h.prototype.qa=function(){var n={};return f.a(this.props,function(t,i){f.sb(at,i)||(n[i]=t)}),n},h.prototype.load=function(){if(!this.disabled){var n=f.cookie.parse(this.name);n&&(this.props=f.extend({},n))}},h.prototype.Qc=function(t){var i=t.upgrade,r;i&&(r="mp_super_properties","string"==typeof i&&(r=i),i=f.cookie.parse(r),f.cookie.remove(r),f.cookie.remove(r,n),i&&(this.props=f.extend(this.props,i.all,i.events)));!t.cookie_name&&"mixpanel"!==t.name&&(r="mp_"+t.token+"_"+t.name,i=f.cookie.parse(r))&&(f.cookie.remove(r),f.cookie.remove(r,n),this.G(i))},h.prototype.save=function(){this.disabled||(this.Yb(),f.cookie.set(this.name,f.ca(this.props),this.Pa,this.Ma,this.Db))},h.prototype.remove=function(){f.cookie.remove(this.name,t);f.cookie.remove(this.name,n)},h.prototype.clear=function(){this.remove();this.props={}},h.prototype.G=function(i,r,u){return f.j(i)?("undefined"==typeof r&&(r="None"),this.Pa="undefined"==typeof u?this.mb:u,f.a(i,function(n,t){this.props[t]&&this.props[t]!==r||(this.props[t]=n)},this),this.save(),n):t},h.prototype.Z=function(i,r){return f.j(i)?(this.Pa="undefined"==typeof r?this.mb:r,f.extend(this.props,i),this.save(),n):t},h.prototype.ua=function(n){n in this.props&&(delete this.props[n],this.save())},h.prototype.Yb=function(){var n=this.props.__cmpns,i=b?6e4:36e5,t;if(n){for(t in n)1*new Date-n[t]>i&&delete n[t];f.W(n)&&delete this.props.__cmpns}},h.prototype.Pc=function(){this.kb||(this.G(f.info.lc()),this.kb=n)},h.prototype.Lb=function(n){this.Z(f.info.Fc(n))},h.prototype.Za=function(n){this.G({$initial_referrer:n||"$direct",$initial_referring_domain:f.info.Bb(n)||"$direct"},"")},h.prototype.wc=function(){return f.ra({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})},h.prototype.Kb=function(n){this.mb=this.Pa=n.cookie_expiration;this.Hc(n.disable_cookie);this.Gc(n.cross_subdomain_cookie);this.Ic(n.secure_cookie)},h.prototype.Hc=function(n){(this.disabled=n)&&this.remove()},h.prototype.Gc=function(n){n!==this.Ma&&(this.Ma=n,this.remove(),this.save())},h.prototype.vc=function(){return this.Ma},h.prototype.Ic=function(i){i!==this.Db&&(this.Db=i?n:t,this.remove(),this.save())},h.prototype.C=function(n,t){var r=this.Ea(n),i=t[n],u=this.ga("$set"),o=this.ga("$set_once"),e=this.ga("$add"),s=this.ga("$append",[]);"__mps"===r?(f.extend(u,i),this.ia("$add",i)):"__mpso"===r?f.a(i,function(n,t){t in o||(o[t]=n)}):"__mpa"===r?f.a(i,function(n,t){t in u?u[t]+=n:(t in e||(e[t]=0),e[t]+=n)},this):"__mpap"===r&&s.push(i);l.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):");l.log(t);this.save()},h.prototype.ia=function(n,t){var i=this.T(n);f.h(i)||(f.a(t,function(n,t){delete i[t]},this),this.save())},h.prototype.Ea=function(n){if("$set"===n)return"__mps";if("$set_once"===n)return"__mpso";if("$add"===n)return"__mpa";if("$append"===n)return"__mpap";l.error("Invalid queue:",n)},h.prototype.T=function(n){return this.props[this.Ea(n)]},h.prototype.ga=function(n,t){var i=this.Ea(n),t=f.h(t)?{}:t;return this.props[i]||(this.props[i]=t)},o.prototype.Ta=function(n,t,i){if("undefined"==typeof i)l.error("You must name your new library: init(token, config, name)");else if("mixpanel"===i)l.error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet");else return n=it(n,t,i),u[i]=n,n.ha(),n},o.prototype.Fa=function(i,u,e){this.__loaded=n;this.config={};this.Eb(f.extend({},vt,u,{name:e,token:i,callback_fn:("mixpanel"===e?e:"mixpanel."+e)+"._jsc"}));this._jsc=r();this.Ba=[];this.Ca=[];this.Aa=[];this.S={disable_all_events:t,identify_called:t};this.cookie=new h(this.config);this.G({distinct_id:f.Rb()},"")},o.prototype.ha=function(){this.d("loaded")(this);this.d("track_pageview")&&this.Jb()},o.prototype.Wb=function(){f.a(this.Ba,function(n){this.Ia.apply(this,n)},this);f.a(this.Ca,function(n){this.w.apply(this,n)},this);delete this.Ba;delete this.Ca},o.prototype.Ia=function(n,i){if(this.d("img"))return l.error("You can't use DOM tracking functions with img = true."),t;if(!ht)return this.Ba.push([n,i]),t;var r=(new n).Ta(this);return r.P.apply(r,i)},o.prototype.Ga=function(n,t){if(f.h(n))return i;if(ft)return function(i){n(i,t)};var u=this._jsc,r=""+Math.floor(1e8*Math.random()),e=this.d("callback_fn")+'["'+r+'"]';return u[r]=function(i){delete u[r];n(i,t)},e},o.prototype.w=function(t,r,u){var h,o,e,c;st?this.Ca.push(arguments):(h=this.d("verbose"),r.verbose&&(h=n),this.d("test")&&(r.test=1),h&&(r.verbose=1),this.d("img")&&(r.img=1),ft||(u?r.callback=u:(h||this.d("test"))&&(r.callback="(function(){})")),r.ip=this.d("ip")?1:0,r._=(new Date).getTime().toString(),t+="?"+f.Qb(r),"img"in r?(o=s.createElement("img"),o.src=t,s.body.appendChild(o)):ft?(e=new XMLHttpRequest,e.open("GET",t,n),e.withCredentials=n,e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)u&&(h?u(f.wa(e.responseText)):u(Number(e.responseText)));else{var n="Bad HTTP status: "+e.status+" "+e.statusText;l.error(n);u&&(h?u({status:0,error:n}):u(0))}},e.send(i)):(o=s.createElement("script"),o.type="text/javascript",o.async=n,o.defer=n,o.src=t,c=s.getElementsByTagName("script")[0],c.parentNode.insertBefore(o,c)))},o.prototype.Da=function(n){function i(n,t){f.a(n,function(n){this[n[0]].apply(this,n.slice(1))},t)}var t,r=[],u=[],e=[];f.a(n,function(n){n&&(t=n[0],"function"==typeof n?n.call(this):f.isArray(n)&&"alias"===t?r.push(n):f.isArray(n)&&-1!=t.indexOf("track")&&"function"==typeof this[t]?e.push(n):u.push(n))},this);i(r,this);i(u,this);i(e,this)},o.prototype.push=function(n){this.Da([n])},o.prototype.disable=function(t){"undefined"==typeof t?this.S.pc=n:this.Aa=this.Aa.concat(t)},o.prototype.P=function(n,t,i){if("undefined"==typeof n)l.error("No event name provided to mixpanel.track");else if(f.vb(a)||this.S.pc||f.sb(this.Aa,n))"undefined"!=typeof i&&i(0);else return t=t||{},t.token=t.Xc||this.d("token"),this.cookie.Lb(s.referrer),this.d("store_google")&&this.cookie.Pc(),this.d("save_referrer")&&this.cookie.Za(s.referrer),t=f.extend({},f.info.qa(),this.cookie.qa(),t),n=f.truncate({event:n,properties:t},255),t=f.ca(n),t=f.ib(t),l.log("MIXPANEL REQUEST:"),l.log(n),this.w(this.d("api_host")+"/track/",{data:t},this.Ga(i,n)),n},o.prototype.Jb=function(n){"undefined"==typeof n&&(n=s.location.href);this.P("mp_page_view",f.info.Cc(n))},o.prototype.Oc=function(){return this.Ia.call(this,k,arguments)},o.prototype.Nc=function(){return this.Ia.call(this,rt,arguments)},o.prototype.Z=function(n,t){this.cookie.Z(n,t)},o.prototype.G=function(n,t,i){this.cookie.G(n,t,i)},o.prototype.ua=function(n){this.cookie.ua(n)},o.prototype.Ha=function(n,t){var i={};i[n]=t;this.Z(i)},o.prototype.Ra=function(t,i,r,u,f){t!=this.M()&&t!=this.oa("__alias")&&(this.ua("__alias"),this.Ha("distinct_id",t));this.$a(this.M());this.S.qb=n;this.people.Zb(i,r,u,f)},o.prototype.M=function(){return this.oa("distinct_id")},o.prototype.hc=function(n,t){if(n===this.oa("$people_distinct_id"))return l.na("Attempting to create alias for existing People user - aborting."),-2;var i=this;return(f.h(t)&&(t=this.M()),n!==t)?(this.Ha("__alias",n),this.P("$create_alias",{alias:n,distinct_id:t},function(){i.Ra(n)})):(l.error("alias matches current distinct_id - skipping api call."),this.Ra(n),-1)},o.prototype.Ac=function(n){this.Ha("mp_name_tag",n)},o.prototype.Eb=function(n){f.j(n)&&(f.extend(this.config,n),this.cookie&&this.cookie.Kb(this.config),b=b||this.d("debug"))},o.prototype.d=function(n){return this.config[n]},o.prototype.oa=function(n){return this.cookie.props[n]},o.prototype.toString=function(){var n=this.d("name");return"mixpanel"!==n&&(n="mixpanel."+n),n},o.prototype.$a=function(t){if(t&&!this.S.qb&&!this.d("disable_notifications")){l.log("MIXPANEL NOTIFICATION CHECK");var i=this;this.w(this.d("api_host")+"/decide/",{verbose:n,version:"1",lib:"web",token:this.d("token"),distinct_id:t},this.Ga(function(n){n.notifications&&0<n.notifications.length&&i.gb.call(i,n.notifications[0])}))}},o.prototype.gb=function(n){new e(n,this).show()},c.prototype.Fa=function(n){this.c=n},c.prototype.set=function(n,t,i){var u={},r={};return f.j(n)?(f.a(n,function(n,t){"$distinct_id"==t||"$token"==t||(r[t]=n)}),i=t):r[n]=t,this.fa("save_referrer")&&this.c.cookie.Za(s.referrer),r=f.extend({},f.info.Dc(),this.c.cookie.wc(),r),u.$set=r,this.w(u,i)},c.prototype.Fb=function(n,t,i){var u={},r={};return f.j(n)?(f.a(n,function(n,t){"$distinct_id"==t||"$token"==t||(r[t]=n)}),i=t):r[n]=t,u.$set_once=r,this.w(u,i)},c.prototype.tb=function(n,t,i){var u={},r={};return f.j(n)?(f.a(n,function(n,t){"$distinct_id"==t||"$token"==t||(isNaN(parseFloat(n))?l.error("Invalid increment value passed to mixpanel.people.increment - must be a number"):r[t]=n)}),i=t):(f.h(t)&&(t=1),r[n]=t),u.$add=r,this.w(u,i)},c.prototype.append=function(n,t,i){var u={},r={};return f.j(n)?(f.a(n,function(n,t){"$distinct_id"==t||"$token"==t||(r[t]=n)}),i=t):r[n]=t,u.$append=r,this.w(u,i)},c.prototype.Mc=function(n,t,i){if(!f.zc(n)&&(n=parseFloat(n),isNaN(n))){l.error("Invalid value passed to mixpanel.people.track_charge - must be a number");return}return this.append("$transactions",f.extend({$amount:n},t),i)},c.prototype.mc=function(n){return this.set("$transactions",[],n)},c.prototype.oc=function(){if(this.bb())return this.w({$delete:this.c.M()});l.error("mixpanel.people.delete_user() requires you to call identify() first")},c.prototype.toString=function(){return this.c.toString()+".people"},c.prototype.w=function(n,t){n.$token=this.fa("token");n.$distinct_id=this.c.M();var r=f.ob(n),u=f.truncate(r,255),r=f.ca(r),r=f.ib(r);return this.bb()?(l.log("MIXPANEL PEOPLE REQUEST:"),l.log(u),this.c.w(this.fa("api_host")+"/engage/",{data:r},this.c.Ga(t,u)),u):(this.Xb(n),f.h(t)||(this.fa("verbose")?t({status:-1,error:i}):t(-1)),u)},c.prototype.fa=function(n){return this.c.d(n)},c.prototype.bb=function(){return this.c.S.qb===n},c.prototype.Xb=function(n){"$set"in n?this.c.cookie.C("$set",n):"$set_once"in n?this.c.cookie.C("$set_once",n):"$add"in n?this.c.cookie.C("$add",n):"$append"in n?this.c.cookie.C("$append",n):l.error("Invalid call to _enqueue():",n)},c.prototype.Zb=function(n,t,i,r){var u=this,e=f.extend({},this.c.cookie.T("$set")),o=f.extend({},this.c.cookie.T("$set_once")),s=f.extend({},this.c.cookie.T("$add")),h=this.c.cookie.T("$append"),c,l;if(f.h(e)||!f.j(e)||f.W(e)||(u.c.cookie.ia("$set",e),this.set(e,function(t,i){0==t&&u.c.cookie.C("$set",e);f.h(n)||n(t,i)})),f.h(o)||!f.j(o)||f.W(o)||(u.c.cookie.ia("$set_once",o),this.Fb(o,function(n,t){0==n&&u.c.cookie.C("$set_once",o);f.h(r)||r(n,t)})),f.h(s)||!f.j(s)||f.W(s)||(u.c.cookie.ia("$add",s),this.tb(s,function(n,i){0==n&&u.c.cookie.C("$add",s);f.h(t)||t(n,i)})),!f.h(h)&&f.isArray(h)&&h.length){for(c=h.length-1;0<=c;c--)l=h.pop(),u.append(l,function(n,t){0==n&&u.c.cookie.C("$append",l);f.h(i)||i(n,t)});u.c.cookie.save()}},o.Ub=function(r,u){f.ic(this);this.Wa=u;this.cookie=this.Wa.cookie;this.D=f.p(r.id);this.xb=f.p(r.message_id);this.body=(f.p(r.body)||"").replace(/\n/g,"<br/>");this.nc=f.p(r.cta)||"Close";this.V=f.p(r.cta_url)||i;this.Sa=f.p(r.image_url)||i;this.X=f.p(r.type)||"takeover";this.style=f.p(r.style)||"light";this.H=f.p(r.thumb_image_url)||i;this.title=f.p(r.title)||"";this.va=f.p(r.video_url)||i;this.aa=e.Tb;this.Q=e.Sb;this.la=n;this.V||(this.V="#dismiss",this.la=t);this.q="mini"===this.X;this.q||(this.X="takeover");this.Bc=this.q?e.xa:e.R;this.fb();this.pa=this.$b();this.cc()},e=o.Ub,e.I=200,e.u="mixpanel-notification",e.ba=.6,e.B=25,e.da=200,e.R=388,e.xa=420,e.v=85,e.ya=5,e.F=60,e.za=Math.round(e.F/2),e.Tb=595,e.Sb=334,e.prototype.show=function(){var n=this;this.fb();this.l?(this.bc(),this.ac(),this.dc(this.Vb)):setTimeout(function(){n.show()},300)},e.prototype.Na=f.s(function(){var n=this.Jc?this.g("video"):this.L(),t,i,r;this.Mb?(this.ec("bg","visible"),this.J(n,"exiting"),setTimeout(this.eb,e.I)):(this.q?(t="right",i=20,r=-100):(t="top",i=e.B,r=e.da+e.B),this.ea([{m:this.g("bg"),k:"opacity",start:e.ba,i:0},{m:n,k:"opacity",start:1,i:0},{m:n,k:t,start:i,i:r}],e.I,this.eb))}),e.prototype.J=f.s(function(n,t){t=e.u+"-"+t;"string"==typeof n&&(n=this.g(n));n.className?~(" "+n.className+" ").indexOf(" "+t+" ")||(n.className+=" "+t):n.className=t}),e.prototype.ec=f.s(function(n,t){t=e.u+"-"+t;"string"==typeof n&&(n=this.g(n));n.className&&(n.className=(" "+n.className+" ").replace(" "+t+" ","").replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,""))}),e.prototype.ea=f.s(function(i,r,u,f){var l=this,h=t,o,e,c,f,s;for(o=1*new Date,f=f||o,c=o-f,o=0;o<i.length;o++)e=i[o],"undefined"==typeof e.A&&(e.A=e.start),e.A!==e.i&&(h=n,s=e.i>=e.start?1:-1,e.A=e.start+(e.i-e.start)*c/r,"opacity"!==e.k&&(e.A=Math.round(e.A)),(0<s&&e.A>=e.i||0>s&&e.A<=e.i)&&(e.A=e.i));if(h){for(o=0;o<i.length;o++)e=i[o],e.m&&(e.m.style[e.k]=""+e.A+("opacity"===e.k?"":"px"));setTimeout(function(){l.ea(i,r,u,f)},10)}else u&&u()}),e.prototype.Vb=f.s(function(){var t=this;this.Kc||this.ab()[this.D]||(this.Kc=n,this.l.appendChild(this.Y),setTimeout(function(){var n=t.L(),i,r,u;t.Mb?(t.q||t.J("bg","visible"),t.J(n,"visible"),t.cb()):(t.q?(i="right",r=-100,u=20):(i="top",r=e.da+e.B,u=e.B),t.ea([{m:t.g("bg"),k:"opacity",start:0,i:e.ba},{m:n,k:"opacity",start:0,i:1},{m:n,k:i,start:r,i:u}],e.I,t.cb))},100),f.N(t.g("cancel"),"click",function(n){n.preventDefault();t.Na()}),f.N(t.g("button")||t.g("mini-content"),"click",function(n){n.preventDefault();t.O?(t.Ja("$campaign_open",{$resource_type:"video"}),t.fc()):(t.Na(),t.la&&t.Ja("$campaign_open",{$resource_type:"link"},function(){window.location.href=t.V}))}))}),e.prototype.g=function(n){return s.getElementById(e.u+"-"+n)},e.prototype.L=function(){return this.g(this.X)},e.prototype.ab=function(){return this.cookie.props.__cmpns||(this.cookie.props.__cmpns={})},e.prototype.K=function(n,t){return this.z[n]&&this.z[n]<=t},e.prototype.$b=function(){var n=[];return this.q?(this.H=this.H||"//cdn.mxpnl.com/site_media/images/icons/notifications/mini-news-dark.png",n.push(this.H)):(this.Sa?(n.push(this.Sa),this.rb='<img id="img" src="'+this.Sa+'"/>'):this.rb="",this.H?(n.push(this.H),this.Hb='<div id="thumbborder-wrapper"><div id="thumbborder"><\/div><\/div><img id="thumbnail" src="'+this.H+'" width="'+e.F+'" height="'+e.F+'"/><div id="thumbspacer"><\/div>'):this.Hb=""),n},e.prototype.ac=function(){var t="",n="",i="",r;this.Y=s.createElement("div");this.Y.id=e.u+"-wrapper";this.q?t='<div id="mini"><div id="mainbox"><div id="cancel"><div id="cancel-icon"><\/div><\/div><div id="mini-content"><div id="mini-icon"><div id="mini-icon-img"><\/div><\/div><div id="body"><div id="body-text"><div>'+this.body+'<\/div><\/div><\/div><\/div><\/div><div id="mini-border"><\/div><\/div>':(t=this.la||this.O?"":'<div id="button-close"><\/div>',r=this.O?'<div id="button-play"><\/div>':"",this.K("ie",7)&&(r=t=""),t='<div id="takeover">'+this.Hb+'<div id="mainbox"><div id="cancel"><div id="cancel-icon"><\/div><\/div><div id="content">'+this.rb+'<div id="title">'+this.title+'<\/div><div id="body">'+this.body+'<\/div><div id="tagline"><a href="http://mixpanel.com?from=inapp" target="_blank">POWERED BY MIXPANEL<\/a><\/div><\/div><div id="button">'+t+'<a id="button-link" href="'+this.V+'">'+this.nc+"<\/a>"+r+"<\/div><\/div><\/div>");this.Ob?(n="//www.youtube.com/embed/"+this.Ob+"?wmode=transparent&showinfo=0&modestbranding=0&rel=0&autoplay=1&loop=0&vq=hd1080",this.Pb&&(n+="&enablejsapi=1&html5=1&controls=0",i='<div id="video-controls"><div id="video-progress" class="video-progress-el"><div id="video-progress-total" class="video-progress-el"><\/div><div id="video-elapsed" class="video-progress-el"><\/div><\/div><div id="video-time" class="video-progress-el"><\/div><\/div>')):this.Nb&&(n="//player.vimeo.com/video/"+this.Nb+"?autoplay=1&title=0&byline=0&portrait=0");this.O&&(this.Tc='<iframe id="'+e.u+'-video-frame" width="'+this.aa+'" height="'+this.Q+'"  src="'+n+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen="1" scrolling="no"><\/iframe>',i='<div id="video-'+(this.Qa?"":"no")+'flip"><div id="video"><div id="video-holder"><\/div>'+i+"<\/div><\/div>");n=i+t;this.Qa&&(n=(this.q?t:"")+'<div id="flipcontainer"><div id="flipper">'+(this.q?i:n)+"<\/div><\/div>");this.Y.innerHTML=('<div id="overlay" class="'+this.X+'"><div id="campaignid-'+this.D+'"><div id="bgwrapper"><div id="bg"><\/div>'+n+"<\/div><\/div><\/div>").replace(/class=\"/g,'class="'+e.u+"-").replace(/id=\"/g,'id="'+e.u+"-")},e.prototype.bc=function(){var c,r,u,o,l,h;this.e="dark"===this.style?{La:"#1d1f25",U:"#282b32",ja:"#3a4147",jb:"#4a5157",jc:"#32353c",lb:"0.4",Va:"#2a3137",ta:"#fff",Ya:"#9498a3",Gb:"#464851",sa:"#ddd"}:{La:"#fff",U:"#e7eaee",ja:"#eceff3",jb:"#f5f5f5",jc:"#e4ecf2",lb:"1.0",Va:"#fafafa",ta:"#5c6578",Ya:"#8b949b",Gb:"#ced9e6",sa:"#7c8598"};var t="0px 0px 35px 0px rgba(45, 49, 56, 0.7)",r=t,u=t,i=e.F+2*e.ya,n=e.I/1e3+"s";this.q&&(t="none");c={};c["@media only screen and (max-width: "+(e.xa+20-1)+"px)"]={"#overlay":{display:"none"}};t={".flipped":{transform:"rotateY(180deg)"},"#overlay":{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",overflow:"auto","text-align":"center","z-index":"10000","font-family":'"Helvetica", "Arial", sans-serif',"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale"},"#overlay.mini":{height:"0",overflow:"visible"},"#overlay a":{width:"initial",padding:"0","text-decoration":"none","text-transform":"none",color:"inherit"},"#bgwrapper":{position:"relative",width:"100%",height:"100%"},"#bg":{position:"fixed",top:"0",left:"0",width:"100%",height:"100%","min-width":4*this.rc+"px","min-height":4*this.qc+"px","background-color":"black",opacity:"0.0","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)",filter:"alpha(opacity=60)",transition:"opacity "+n},"#bg.visible":{opacity:e.ba},".mini #bg":{width:"0",height:"0","min-width":"0"},"#flipcontainer":{perspective:"1000px",position:"absolute",width:"100%"},"#flipper":{position:"relative","transform-style":"preserve-3d",transition:"0.3s"},"#takeover":{position:"absolute",left:"50%",width:e.R+"px","margin-left":Math.round(-e.R/2)+"px","backface-visibility":"hidden",transform:"rotateY(0deg)",opacity:"0.0",top:e.da+"px",transition:"opacity "+n+", top "+n},"#takeover.visible":{opacity:"1.0",top:e.B+"px"},"#takeover.exiting":{opacity:"0.0",top:e.da+"px"},"#thumbspacer":{height:e.za+"px"},"#thumbborder-wrapper":{position:"absolute",top:-e.ya+"px",left:e.R/2-e.za-e.ya+"px",width:i+"px",height:i/2+"px",overflow:"hidden"},"#thumbborder":{position:"absolute",width:i+"px",height:i+"px","border-radius":i+"px","background-color":this.e.U,opacity:"0.5"},"#thumbnail":{position:"absolute",top:"0px",left:e.R/2-e.za+"px",width:e.F+"px",height:e.F+"px",overflow:"hidden","z-index":"100","border-radius":e.F+"px"},"#mini":{position:"absolute",right:"20px",top:e.B+"px",width:this.Bc+"px",height:2*e.v+"px","margin-top":20-e.v+"px","backface-visibility":"hidden",opacity:"0.0",transform:"rotateX(90deg)",transition:"opacity 0.3s, transform 0.3s, right 0.3s"},"#mini.visible":{opacity:"1.0",transform:"rotateX(0deg)"},"#mini.exiting":{opacity:"0.0",right:"-150px"},"#mainbox":{"border-radius":"4px","box-shadow":t,"text-align":"center","background-color":this.e.La,"font-size":"14px",color:this.e.Ya},"#mini #mainbox":{height:e.v+"px","margin-top":e.v+"px","border-radius":"3px",transition:"background-color "+n},"#mini-border":{height:e.v+6+"px",width:e.xa+6+"px",position:"absolute",top:"-3px",left:"-3px","margin-top":e.v+"px","border-radius":"6px",opacity:"0.25","background-color":"#fff","z-index":"-1","box-shadow":u},"#mini-icon":{position:"relative",display:"inline-block",width:"75px",height:e.v+"px","border-radius":"3px 0 0 3px","background-color":this.e.U,background:"linear-gradient(135deg, "+this.e.jb+" 0%, "+this.e.U+" 100%)",transition:"background-color "+n},"#mini:hover #mini-icon":{"background-color":this.e.Va},"#mini:hover #mainbox":{"background-color":this.e.Va},"#mini-icon-img":{position:"absolute","background-image":"url("+this.H+")",width:"48px",height:"48px",top:"20px",left:"12px"},"#content":{padding:"30px 20px 0px 20px"},"#mini-content":{"text-align":"left",height:e.v+"px",cursor:"pointer"},"#img":{width:"328px","margin-top":"30px","border-radius":"5px"},"#title":{"max-height":"600px",overflow:"hidden","word-wrap":"break-word",padding:"25px 0px 20px 0px","font-size":"19px","font-weight":"bold",color:this.e.ta},"#body":{"max-height":"600px","margin-bottom":"25px",overflow:"hidden","word-wrap":"break-word","line-height":"21px","font-size":"15px","font-weight":"normal","text-align":"left"},"#mini #body":{display:"inline-block","max-width":"250px",margin:"0 0 0 30px",height:e.v+"px","font-size":"16px","letter-spacing":"0.8px",color:this.e.ta},"#mini #body-text":{display:"table",height:e.v+"px"},"#mini #body-text div":{display:"table-cell","vertical-align":"middle"},"#tagline":{"margin-bottom":"15px","font-size":"10px","font-weight":"600","letter-spacing":"0.8px",color:"#ccd7e0","text-align":"left"},"#tagline a":{color:this.e.Gb,transition:"color "+n},"#tagline a:hover":{color:this.e.sa},"#cancel":{position:"absolute",right:"0",width:"8px",height:"8px",padding:"10px","border-radius":"20px",margin:"12px 12px 0 0","box-sizing":"content-box",cursor:"pointer",transition:"background-color "+n},"#mini #cancel":{margin:"7px 7px 0 0"},"#cancel-icon":{width:"8px",height:"8px",overflow:"hidden","background-image":"url(//cdn.mxpnl.com/site_media/images/icons/notifications/cancel-x.png)",opacity:this.e.lb},"#cancel:hover":{"background-color":this.e.ja},"#button":{display:"block",height:"60px","line-height":"60px","text-align":"center","background-color":this.e.U,"border-radius":"0 0 4px 4px",overflow:"hidden",cursor:"pointer",transition:"background-color "+n},"#button-close":{display:"inline-block",width:"9px",height:"60px","margin-right":"8px","vertical-align":"top","background-image":"url(//cdn.mxpnl.com/site_media/images/icons/notifications/close-x-"+this.style+".png)","background-repeat":"no-repeat","background-position":"0px 25px"},"#button-play":{display:"inline-block",width:"30px",height:"60px","margin-left":"15px","background-image":"url(//cdn.mxpnl.com/site_media/images/icons/notifications/play-"+this.style+"-small.png)","background-repeat":"no-repeat","background-position":"0px 15px"},"a#button-link":{display:"inline-block","vertical-align":"top","text-align":"center","font-size":"17px","font-weight":"bold",overflow:"hidden","word-wrap":"break-word",color:this.e.ta,transition:"color "+n},"#button:hover":{"background-color":this.e.ja,color:this.e.sa},"#button:hover a":{color:this.e.sa},"#video-noflip":{position:"relative",top:2*-this.Q+"px"},"#video-flip":{"backface-visibility":"hidden",transform:"rotateY(180deg)"},"#video":{position:"absolute",width:this.aa-1+"px",height:this.Q+"px",top:e.B+"px","margin-top":"100px",left:"50%","margin-left":Math.round(-this.aa/2)+"px",overflow:"hidden","border-radius":"5px","box-shadow":r,transform:"translateZ(1px)",transition:"opacity "+n+", top "+n},"#video.exiting":{opacity:"0.0",top:this.Q+"px"},"#video-holder":{position:"absolute",width:this.aa-1+"px",height:this.Q+"px",overflow:"hidden","border-radius":"5px"},"#video-frame":{"margin-left":"-1px",width:this.aa+"px"},"#video-controls":{opacity:"0",transition:"opacity 0.5s"},"#video:hover #video-controls":{opacity:"1.0"},"#video .video-progress-el":{position:"absolute",bottom:"0",height:"25px","border-radius":"0 0 0 5px"},"#video-progress":{width:"90%"},"#video-progress-total":{width:"100%","background-color":this.e.La,opacity:"0.7"},"#video-elapsed":{width:"0","background-color":"#6cb6f5",opacity:"0.9"},"#video #video-time":{width:"10%",right:"0","font-size":"11px","line-height":"25px",color:this.e.Ya,"background-color":"#666","border-radius":"0 0 5px 0"}};this.K("ie",8)&&f.extend(t,{"* html #overlay":{position:"absolute"},"* html #bg":{position:"absolute"},"html, body":{height:"100%"}});this.K("ie",7)&&f.extend(t,{"#mini #body":{display:"inline",zoom:"1",border:"1px solid "+this.e.ja},"#mini #body-text":{padding:"20px"},"#mini #mini-icon":{display:"none"}});r="backface-visibility,border-radius,box-shadow,opacity,perspective,transform,transform-style,transition".split(",");u=["khtml","moz","ms","o","webkit"];for(o in t)for(i=0;i<r.length;i++)if(n=r[i],n in t[o])for(l=t[o][n],h=0;h<u.length;h++)t[o]["-"+u[h]+"-"+n]=l;(function(n,t){function r(n){var t="";for(var r in n){var i=r.replace(/#/g,"#"+e.u+"-").replace(/\./g,"."+e.u+"-"),t=t+("\n"+i+" {"),i=n[r];for(var u in i)t+=u+":"+i[u]+";";t+="}"}return t}var u=r(n)+function(n){var t="";for(var i in n)t+="\n"+i+" {"+r(n[i])+"\n}";return t}(t),f=s.head||s.getElementsByTagName("head")[0]||s.documentElement,i=s.createElement("style");f.appendChild(i);i.setAttribute("type","text/css");i.styleSheet?i.styleSheet.cssText=u:i.textContent=u})(t,c)},e.prototype.cc=f.s(function(){var i,r,u;this.va&&(i=this,i.Pb="postMessage"in window,s.createElement("div"),i.V=i.va,r=i.va.match(/(?:youtube(?:-nocookie)?\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i),u=i.va.match(/vimeo\.com\/.*?(\d+)/i),r?(i.O=n,i.Ob=r[1],i.Pb)&&(window.onYouTubeIframeAPIReady=function(){i.g("video-frame")&&i.hb()},r=s.createElement("script"),r.src="//www.youtube.com/iframe_api",u=s.getElementsByTagName("script")[0],u.parentNode.insertBefore(r,u)):u&&(i.O=n,i.Nb=u[1]),(i.K("ie",7)||i.K("firefox",3))&&(i.O=t,i.la=n))}),e.prototype.cb=f.s(function(){function t(n,t){var r={};return s.defaultView&&s.defaultView.getComputedStyle?r=s.defaultView.getComputedStyle(n,i):n.currentStyle&&(r=n.currentStyle),r[t]}var r=this,n;f.N(r.g("bg"),"click",function(){r.Na()});this.D&&(n=this.g("overlay"),n&&"hidden"!==t(n,"visibility")&&"none"!==t(n,"display")&&(this.ab()[this.D]=1*new Date,this.cookie.save(),this.Ja("$campaign_delivery"),this.Wa.people.append({$campaigns:this.D,$notifications:{campaign_id:this.D,message_id:this.xb,type:"web",time:new Date}})))}),e.prototype.dc=function(r){var h=this,f,o;if(0===this.pa.length)r();else{for(var s=0,e=[],u=0;u<this.pa.length;u++)f=new Image,o=function(){s++;s===h.pa.length&&r&&(r(),r=i)},f.onload=o,f.src=this.pa[u],f.complete&&o(),e.push(f);this.K("ie",7)&&setTimeout(function(){var f=n;for(u=0;u<e.length;u++)e[u].complete||(f=t);f&&r&&(r(),r=i)},500)}},e.prototype.eb=f.s(function(){window.clearInterval(this.gc);this.Y.style.visibility="hidden";this.l.removeChild(this.Y)}),e.prototype.fb=function(){function i(i){if(i in u)return n;if(!f)for(var i=i[0].toUpperCase()+i.slice(1),i=["O"+i,"Webkit"+i,"Moz"+i],r=0;r<i.length;r++)if(i[r]in u)return n;return t}function r(n){return(n=tt.userAgent.match(n))&&n[1]}this.z={};this.z.chrome=r(/Chrome\/(\d+)/);this.z.firefox=r(/Firefox\/(\d+)/);this.z.ie=r(/MSIE (\d+).+/);!this.z.ie&&!window.ActiveXObject&&"ActiveXObject"in window&&(this.z.ie=11);(this.l=s.body||s.getElementsByTagName("body")[0])&&(this.rc=Math.max(this.l.scrollWidth,s.documentElement.scrollWidth,this.l.offsetWidth,s.documentElement.offsetWidth,this.l.clientWidth,s.documentElement.clientWidth),this.qc=Math.max(this.l.scrollHeight,s.documentElement.scrollHeight,this.l.offsetHeight,s.documentElement.offsetHeight,this.l.clientHeight,s.documentElement.clientHeight));var f=this.z.ie,u=s.createElement("div").style;this.Mb=this.l&&i("transition")&&i("transform");this.Qa=(33<=this.z.chrome||15<=this.z.firefox)&&this.l&&i("backfaceVisibility")&&i("perspective")&&i("transform")},e.prototype.fc=f.s(function(){function r(){window.YT&&window.YT.loaded&&t.hb();t.Jc=n;t.L().style.visibility="hidden"}var t=this,u=[{m:t.L(),k:"opacity",start:1,i:0},{m:t.L(),k:"top",start:e.B,i:-500},{m:t.g("video-noflip"),k:"opacity",start:0,i:1},{m:t.g("video-noflip"),k:"top",start:2*-t.Q,i:0}],i,f;t.q&&(i=t.g("bg"),f=t.g("overlay"),i.style.width="100%",i.style.height="100%",f.style.width="100%",t.J(t.L(),"exiting"),t.J(i,"visible"),u.push({m:t.g("bg"),k:"opacity",start:0,i:e.ba}));t.g("video-holder").innerHTML=t.Tc;t.Qa?(t.J("flipper","flipped"),setTimeout(r,e.I)):t.ea(u,e.I,r)}),e.prototype.Ja=function(n,t,i){this.D?(t=t||{},t=f.extend(t,{campaign_id:this.D,message_id:this.xb,message_type:"web_inapp",message_subtype:this.X}),this.Wa.track(n,t,i)):i&&i.call()},e.prototype.hb=f.s(function(){var t=this;if(!t.Uc){t.Uc=n;var r=t.g("video-elapsed"),u=t.g("video-time"),i=t.g("video-progress");new window.YT.Player(e.u+"-video-frame",{events:{onReady:function(e){function h(n){var n=Math.round(s-n),t=Math.floor(n/60),i=Math.floor(t/60),n=n-60*t;u.innerHTML="-"+(i?i+":":"")+("00"+(t-60*i)).slice(-2)+":"+("00"+n).slice(-2)}var o=e.target,s=o.getDuration();h(0);t.gc=window.setInterval(function(){var n=o.getCurrentTime();r.style.width=100*(n/s)+"%";h(n)},250);f.N(i,"click",function(t){t=Math.max(0,t.pageX-i.getBoundingClientRect().left);o.seekTo(s*t/i.clientWidth,n)})}}})}}),f.toArray=f.$,f.isObject=f.j,f.JSONEncode=f.ca,f.JSONDecode=f.wa,f.isBlockedUA=f.vb,f.isEmptyObject=f.W,f.info=f.info,f.info.device=f.info.nb,f.info.browser=f.info.ka,o.prototype.init=o.prototype.Ta,o.prototype.disable=o.prototype.disable,o.prototype.track=o.prototype.P,o.prototype.track_links=o.prototype.Oc,o.prototype.track_forms=o.prototype.Nc,o.prototype.track_pageview=o.prototype.Jb,o.prototype.register=o.prototype.Z,o.prototype.register_once=o.prototype.G,o.prototype.unregister=o.prototype.ua,o.prototype.identify=o.prototype.Ra,o.prototype.alias=o.prototype.hc,o.prototype.name_tag=o.prototype.Ac,o.prototype.set_config=o.prototype.Eb,o.prototype.get_config=o.prototype.d,o.prototype.get_property=o.prototype.oa,o.prototype.get_distinct_id=o.prototype.M,o.prototype.toString=o.prototype.toString,o.prototype._check_and_handle_notifications=o.prototype.$a,o.prototype._show_notification=o.prototype.gb,h.prototype.properties=h.prototype.qa,h.prototype.update_search_keyword=h.prototype.Lb,h.prototype.update_referrer_info=h.prototype.Za,h.prototype.get_cross_subdomain=h.prototype.vc,h.prototype.clear=h.prototype.clear,c.prototype.set=c.prototype.set,c.prototype.set_once=c.prototype.Fb,c.prototype.increment=c.prototype.tb,c.prototype.append=c.prototype.append,c.prototype.track_charge=c.prototype.Mc,c.prototype.clear_charges=c.prototype.mc,c.prototype.delete_user=c.prototype.oc,c.prototype.toString=c.prototype.toString,f.Cb(h,["_expire_notification_campaigns"]),f.Cb(o,["identify","_check_and_handle_notifications","_show_notification"]),f.h(u))l.na("'mixpanel' object not initialized. Ensure you are using the latest version of the Mixpanel JS Library along with the snippet we provide.");else if(u.__loaded||u.config&&u.cookie)l.error("Mixpanel library has already been downloaded at least once.");else if(1.1>d)l.na("Version mismatch; please ensure you're using the latest version of the Mixpanel code snippet.");else{if(p={},f.a(u._i,function(n){var t;n&&f.isArray(n)&&(t=n[n.length-1],n=it.apply(this,n),p[t]=n)}),ct=function(){f.a(p,function(n,t){"mixpanel"!==t&&(u[t]=n)});u._=f},u.init=function(n,t,i){i?u[i]||(u[i]=p[i]=it(n,t,i),u[i].ha()):(i=u,p.mixpanel?i=p.mixpanel:n&&(i=it(n,t,"mixpanel"),i.ha()),window.mixpanel=u=i,ct())},u.init(),f.a(p,function(n){n.ha()}),s.addEventListener)"complete"==s.readyState?w():s.addEventListener("DOMContentLoaded",w,t);else if(s.attachEvent){s.attachEvent("onreadystatechange",w);d=t;try{d=window.frameElement==i}catch(yt){}s.documentElement.doScroll&&d&&(ot=function(){try{s.documentElement.doScroll("left")}catch(n){setTimeout(ot,1);return}w()},ot())}f.N(window,"load",w,n)}})(window.mixpanel)}();switch(config.app){case"light":ga("create","UA-55863666-1","auto");break;case"pro":ga("create","UA-55863666-2","auto");mixpanel.init("339e511cfff7fdcd146d3a4dd60f03a8");break;case"web":ga("create","UA-55863666-2","auto");break;case"app":ga("create","UA-55863666-8","auto");break;case"ambieye":ga("create","UA-55863666-6","auto")}ga("require","displayfeatures");ga("send","pageview");typeof mixpanel!="undefined"&&mixpanel.track_links!==undefined&&mixpanel.track_links("a","click",{referrer:document.referrer});config.app==="pro"&&function(n,t){var r;n._errs=[];var u=n.onerror,f=function(){var n=arguments;_errs.push(n);u&&u.apply(this,n)},i=t.createElement("script");i.type="text/javascript";i.async=!0;i.id="onscriptfail";i.src="https://script.fail/inform?sadakov@gmail.com";r=t.getElementsByTagName("script")[0];r.parentNode.insertBefore(i,r);n.onerror=f}(window,document);app.config==="web"?(UserVoice=window.UserVoice||[],function(){var n=document.createElement("script"),t;n.type="text/javascript";n.async=!0;n.src="https://widget.uservoice.com/6ZxdF0ZIHNl8VdvcVRSm2A.js";t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(n,t)}()):(window.UserVoice={events:window.UserVoice||[],push:function(n){window.UserVoice.events.push(n)},account:{campaign:"footer_poweredby",name:"API Starter",white_labeled:!1,subdomain_ssl_host:"apistarter.uservoice.com",subdomain_site_host:"apistarter.uservoice.com",subdomain_key:"apistarter",subdomain_id:235823,client_key:"6ZxdF0ZIHNl8VdvcVRSm2A",client_options:null,smartvote_autoprompt_enabled:!0,satisfaction_autoprompt_enabled:!0,messages:{Loading:"Loading"}},client_widgets:{},manifest:{"tab-left-dark":"/pkg/clients/widget2/tab-left-dark-e89fceb89af232658b40362993385936.png","tab-left-dark-no-bullhorn":"/pkg/clients/widget2/tab-left-dark-no-bullhorn-b0b7f5027c63700387f010da3385d278.png","tab-left-light":"/pkg/clients/widget2/tab-left-light-e79b3d5a5bcb9a8cb3aaba4e7c08853e.png","tab-left-light-no-bullhorn":"/pkg/clients/widget2/tab-left-light-no-bullhorn-978e55e46fb61a295c914e2b6f3d4bfe.png","tab-right-dark":"/pkg/clients/widget2/tab-right-dark-da2413549ce324fc421ae86a0e5881ee.png","tab-right-dark-no-bullhorn":"/pkg/clients/widget2/tab-right-dark-no-bullhorn-0132cc76ef9e62ce31bb84088e8c0eb0.png","tab-right-light":"/pkg/clients/widget2/tab-right-light-087cbff98d6cd97b87d4a73c4232a642.png","tab-right-light-no-bullhorn":"/pkg/clients/widget2/tab-right-light-no-bullhorn-f246ba6076ce0e74cbffa93c1328fdc4.png","tab-horizontal-dark":"/pkg/clients/widget2/tab-horizontal-dark-3efc2033e3bb06b1eefaa3431d3d47d8.png","tab-horizontal-dark-no-bullhorn":"/pkg/clients/widget2/tab-horizontal-dark-no-bullhorn-7cdf414f3f944a78dd7439dced926fd2.png","tab-horizontal-light":"/pkg/clients/widget2/tab-horizontal-light-75fca6f195066c2da966daf9e706b949.png","tab-horizontal-light-no-bullhorn":"/pkg/clients/widget2/tab-horizontal-light-no-bullhorn-e052ef0d62993c4d8f7179a5fbb4f088.png",close:"/pkg/clients/widget2/close-cd8571377d9499a984190ca453714b3b.png",pb:"/pkg/clients/widget2/powered_by-0684ee8d751bce50921b2807087eaf1c.png",screenshot:"/pkg/clients/omnibox/screenshot-e8965e1bf01616360e480f88faa08a1f.js"}},"undefined"!=typeof UserVoice&&UserVoice.showLightbox||!function(n,t,i){function pt(n){ti("Error: "+n+" See https://www.uservoice.com/o/javascript-sdk for more help.")}function wt(n){for(var i=[],t=0;t<n.length;t++)i.push(n[t]);return i}function it(n,t,i,r,u){var f=n-t/2;return i>f-u&&(f=i+u),f+t+u>r&&(f=r-t-u),f}function a(t){var e,o;if("getComputedStyle"in n){for(var s=["transitionDuration","MozTransitionDuration","WebkitTransitionDuration","OTransitionDuration","msTransitionDuration"],u=0,f=0,l=s.length;l>f;f++)if(e=s[f],o=r.getComputedStyle(t)[e]||t.style[e],o){u=1e3*parseFloat(o);break}if(0!==u){var h=r.data(t,"transition-timer"),a=r.data(t,"transition-timeout-at"),c=+new Date+u;r.addClass(t,"uv-is-transitioning");t.offsetWidth;(h===i||c>a)&&(clearTimeout(h),r.data(t,"transition-timer",setTimeout(function(){r.removeClass(t,"uv-is-transitioning");t.offsetWidth},u)),r.data(t,"transition-timeout-at",c))}}}function v(n){meta=t.createElement("meta");meta.setAttribute("name","viewport");meta.setAttribute("content",n);t.head.appendChild(meta)}function rt(){for(var r,i=t.getElementsByTagName("meta"),n=0;n<i.length;n++)if(/viewport/i.test(i[n].getAttribute("name"))){r=i[n];break}return r}function bt(){var n,i,t;k||(n=rt(),i=/user-scalable\s*=\s*(0|1|no|yes)/,n?(tt=n,t=n.getAttribute("content"),n.parentNode.removeChild(n),i.test(t)?v(t.replace(i,"user-scalable=0")):v(t+"; user-scalable=0")):v("user-scalable=0"),k=!0)}function kt(){if(k){var n=rt();n.parentNode.removeChild(n);tt?t.head.appendChild(tt):v("user-scalable=1");k=!1}}function y(n,t){return n.replace(/\#\{([^{}]*)\}/g,function(n,i){var r=t[i];return"string"==typeof r||"number"==typeof r?r:n})}function ut(n){var i=t.createElement("div");return i.innerHTML=n,t.body.insertBefore(i.firstChild,t.body.firstChild),t.body.firstChild}function dt(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ft(n,t){var r,i,u;t||(t=function(n){return n});r=[];for(i in n)n.hasOwnProperty(i)&&(u=t(i)+"="+t(n[i]),r.push(u));return r.join("&")}function et(n){for(var t,r=Array.prototype.slice.call(arguments,1),u=r.length,i=0;u>i;i++)for(t in r[i])r[i].hasOwnProperty(t)&&("object"==typeof n[t]&&"object"==typeof r[i][t]?et(n[t],r[i][t]):n[t]=r[i][t]);return n}function p(n,i){var r=t.createElement("style");r.type="text/css";r.media=i||"screen";r.styleSheet?r.styleSheet.cssText=n:r.appendChild(t.createTextNode(n));t.getElementsByTagName("head")[0].appendChild(r)}function w(){ct||(p("#uvTab,.uv-tray,.uv-icon,.uv-popover,.uv-bubble{display:none!important}","print"),ct=!0)}function gt(){lt||(p(".uv-icon:hover{opacity:1}"),lt=!0)}function ot(){return t.getElementsByTagName("html")[0]}function h(){var i=t.documentElement,r=i&&i.clientWidth||t.body.clientWidth,u=n.innerHeight||i&&i.clientHeight||t.body.clientHeight;return{width:r,height:u}}function l(n){return((new Date).getTime()-n)/864e5}function st(n){return n&&(n.tab_color!==i&&(n.trigger_background_color=n.tab_color),n.tab_position!==i&&(n.trigger_position=n.tab_position)),n||{}}function b(n,t){return t&&("support"===t.mode?t.post_suggestion_enabled=!1:"feedback"===t.mode&&(t.contact_enabled=!1),delete t.mode,t.default_mode!==i&&(t.classic_default_mode=t.default_mode),st(t)),o({mode:n},t||{})}function nt(){nt.fired||(nt.fired=!0,f.tracker.trackExternalView(),f.tracker.ready(),f.scan())}var e={},g;e.sanitizeValue=function(n,t){var i;switch(t){case"boolean":i="true"===n||n===!0?!0:!1;break;case"timestamp":"[object Date]"===Object.prototype.toString.call(n)?i=n.getTime():(i=parseInt(n,10),isNaN(i)&&(i=0),44308744825>i&&(i=1e3*i));break;case"int":i=parseInt(n,10);isNaN(i)&&(i=0);break;case"float":i=parseFloat(n);isNaN(i)&&(i=0);break;case"string":i=n.toString();break;default:i=n}return i};e.uTF8Encode=function(n){var i,r,t;for(n=n.replace(/\x0d\x0a/g,"\n"),i="",r=0;r<n.length;r++)t=n.charCodeAt(r),128>t?i+=String.fromCharCode(t):t>127&&2048>t?(i+=String.fromCharCode(192|t>>6),i+=String.fromCharCode(128|63&t)):(i+=String.fromCharCode(224|t>>12),i+=String.fromCharCode(128|63&t>>6),i+=String.fromCharCode(128|63&t));return i};e.base64Encode=function(n){var o,t,i,c,l,s,r,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h="",f=0;for(n=e.uTF8Encode(n);f<n.length;)o=n.charCodeAt(f++),t=n.charCodeAt(f++),i=n.charCodeAt(f++),c=o>>2,l=(3&o)<<4|t>>4,s=(15&t)<<2|i>>6,r=63&i,isNaN(t)?s=r=64:isNaN(i)&&(r=64),h=h+u.charAt(c)+u.charAt(l)+u.charAt(s)+u.charAt(r);return h};e.extend=function(n){for(var r,i=Array.prototype.slice.call(arguments,1),u=i.length,t=0;u>t;t++)for(r in i[t])i[t].hasOwnProperty(r)&&(n[r]=i[t][r]);return n};e.values=function(n){var t,i=[];if(null==n)return i;for(t in n)n.hasOwnProperty(t)&&i.push(n[t]);return i};e.setCookie=function(n,i,r){r=e.extend({path:"/",domain:"",expires:new Date},r||{});var u=[n,"=",encodeURIComponent(i),"; path=",r.path,"; domain=",r.domain];return r.expires&&(r.expires.setFullYear(r.expires.getFullYear()+1),u.push("; expires="),u.push(r.expires.toUTCString())),t.cookie=u.join(""),i};e.getCookie=function(n){for(var i,u=(t.cookie||"").split(";"),f=u.length,r=0;f>r;r++)if(i=e.trim(u[r]),i.substr(0,n.length+1)===n+"=")return decodeURIComponent(i.substr(n.length+1))};e.trim=function(n){var t=String.prototype.trim;return t?t.apply(n):n.replace(/^\s+|\s+$/g,"")};e.isSpider=function(){return/(google web preview|baiduspider|yandexbot)/i.test(n.navigator.userAgent)};e.log=function(){"undefined"!=typeof console&&"undefined"!=typeof console.log&&"undefined"!=typeof console.log.apply&&console.log.apply(console,arguments)},function(){function r(n){return 10>n?"0"+n:n}function e(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=s[n];return"string"==typeof t?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function u(n,r){var s,l,h,a,c,v=t,o=r[n];switch(o&&"object"==typeof o&&"function"==typeof o.toJSON&&(o=o.toJSON(n)),"function"==typeof i&&(o=i.call(r,n,o)),typeof o){case"string":return e(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(t+=f,c=[],"[object Array]"===Object.prototype.toString.apply(o)){for(a=o.length,s=0;a>s;s+=1)c[s]=u(s,o)||"null";return h=0===c.length?"[]":t?"[\n"+t+c.join(",\n"+t)+"\n"+v+"]":"["+c.join(",")+"]",t=v,h}if(i&&"object"==typeof i)for(a=i.length,s=0;a>s;s+=1)"string"==typeof i[s]&&(l=i[s],h=u(l,o),h&&c.push(e(l)+(t?": ":":")+h));else for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(h=u(l,o),h&&c.push(e(l)+(t?": ":":")+h));return h=0===c.length?"{}":t?"{\n"+t+c.join(",\n"+t)+"\n"+v+"}":"{"+c.join(",")+"}",t=v,h}}"object"!=typeof JSON&&(n.JSON={});"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+r(this.getUTCMonth()+1)+"-"+r(this.getUTCDate())+"T"+r(this.getUTCHours())+":"+r(this.getUTCMinutes())+":"+r(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var t,f,i,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};"function"!=typeof JSON.stringify&&(JSON.stringify=function(n,r,e){var o;if(t="",f="","number"==typeof e)for(o=0;e>o;o+=1)f+=" ";else"string"==typeof e&&(f=e);if(i=r,r&&"function"!=typeof r&&("object"!=typeof r||"number"!=typeof r.length))throw new Error("JSON.stringify");return u("",{"":n})})}();var ni=function(n,i){function r(t,i){var u=this;this.subdomain=t;this.config=e.extend({},r.default_config,i||{});this.babaId=c++;this.sessionCallbackName="__uvSessionData"+this.babaId;n[this.sessionCallbackName]=function(n){u.sync(n)};this.tracks=[];this.identity=null;this.session=null;this.uvts=null;this.isReady=!1;this.needsIdentityFlush=!1;this.needsSessionFlush=!1;this.firedUvts=!1;this.firedSession=!1;this.syncedSession=!0;this.cookieable=null;this.initFromCookie();n.__babas.push(this)}function o(n){this.props={};!n===Object(n)&&(n={});this.set(e.extend({},n,{o:(new Date).getTimezoneOffset()}))}function u(){this.store=new f;this.recurrent=this.store.get("r");this.store.set("r",!0)}function f(){var t="x";this.storage=null;try{this.storage="sessionStorage"in n&&n.sessionStorage;this.set(t,t);this.get(t)!==t?this.storage=null:this.remove(t)}catch(i){this.storage=null}}var c=0,s,h;return n.__babas=n.__babas||[],r.prototype.initFromCookie=function(){var n=e.getCookie(this.config.cookie_name);this.log("Babayaga#initFromCookie: %s",n);n&&this.setUvts(n)},r.prototype.identify=function(n){this.log("Babayaga#identify: %O",n);this.identity?this.identity.set(n):this.identity=new o(n);this.needsIdentityFlush=!0;this.flush()},r.prototype.getIdentity=function(){if(this.identity)return this.identity.toJSON()},r.prototype.syncSession=function(){this.syncedSession=!1;this.identify({})},r.prototype.updateSession=function(n){this.log("Babayaga#updateSession: %O",n);this.needsSessionFlush=e.extend({},this.needsSessionFlush||{},this.session.set(n));this.flush()},r.prototype.getSession=function(n){return this.session.get(n)},r.prototype.dumpSession=function(){return this.session.toJSON()},r.prototype.sync=function(n){this.log("Babayaga#sync: %O",n);n===Object(n)&&(this.session.set(n),n.uvts&&this.setUvts(n.uvts),this.syncCreatedAt(),this.fireSession())},r.prototype.syncCreatedAt=function(){var n=this.identity&&this.identity.get("created_at");n&&(this.log("Babayaga#syncCreatedAt: %O",n),this.session.set({created_at:n}))},r.prototype.fireSession=function(){this.session.isEnabled()&&(this.firedSession?this.syncedSession||("function"==typeof this.config.onSync&&this.config.onSync(),this.syncedSession=!0):("function"==typeof this.config.onSession&&this.config.onSession(),this.firedSession=!0))},r.prototype.setUvts=function(n){this.uvts=n;e.setCookie(this.config.cookie_name,n,{domain:this.cookieDomain()});this.firedUvts||("function"==typeof this.config.onUvts&&this.config.onUvts(n),this.firedUvts=!0)},r.prototype.setConfig=function(n){this.config=e.extend(this.config,n)},r.prototype.setChannel=function(n){this.setConfig({channel:n})},r.prototype.track=function(n,t,i){var r={evt:n,props:t};i&&(r.channel=i);this.tracks.push(r);this.flush()},r.prototype.trackExternalView=function(){this.log("Babayaga#trackExternalView: %s",this.config.channel);"external"===this.config.channel&&this.track("view_page",{u:t.location.toString(),r:t.referrer})},r.prototype.flush=function(){if(this.isReady&&this.config.enabled){var t=0,n=this.tracks.length;if(this.log("Babayaga#flush: %s",n),this.uvts||this.shouldTrack())for((0===n&&this.needsIdentityFlush||this.needsSessionFlush)&&this.sendTrack({evt:"identify"});n>t;t+=1)this.sendTrack(this.tracks.shift())}},r.prototype.sendTrack=function(n){var r=[this.config.domain,"/t/",this.subdomain,"/",s[n.channel||this.config.channel]||"_","/",h[n.evt]||"_"],i={},c=!this.syncedSession||!this.session.recurrent&&!this.firedSession,o,u,f;this.uvts&&(r.push("/"),r.push(this.uvts));r.push("/track.js?_="+(new Date).getTime());r.push("&s="+(c?"0":"1"));r=r.join("");this.needsIdentityFlush&&(i.u=this.identity.toJSON(),this.needsIdentityFlush=!1);this.needsSessionFlush===Object(this.needsSessionFlush)&&(i.u=e.extend({},i.u||{},this.needsSessionFlush),this.needsSessionFlush=!1);n.props&&e.values(n.props).length>0&&(i.e=n.props);this.log("Babayaga#sendTrack: %s, %O",r,i);i=e.values(i).length>0?encodeURIComponent(e.base64Encode(JSON.stringify(i))):null;f=["&c=",this.sessionCallbackName];i&&(f.push("&d="),f.push(i));o=t.getElementsByTagName("script")[0];u=t.createElement("script");u.type="application/javascript";u.async=!0;u.defer=!0;u.src=r+f.join("");o.parentNode.insertBefore(u,o)},r.prototype.ready=function(){this.log("Babayaga#ready: %s",this.isReady);this.isReady||(this.isReady=!0,this.session=new u,this.flush(),this.afterReady())},r.prototype.afterReady=function(){},r.prototype.shouldTrack=function(){return!e.isSpider()&&this.haveCookies()},r.prototype.haveCookies=function(){return null===this.cookieable&&(e.setCookie("__uvt","1",{domain:this.cookieDomain()}),this.cookieable=!!e.getCookie("__uvt"),e.setCookie("__uvt","",{domain:this.cookieDomain()})),this.log("Babayaga#haveCookies: %s",this.cookieable),this.cookieable},r.prototype.log=function(){this.config.logging_enabled&&e.log.apply(null,arguments)},r.prototype.cookieDomain=function(t){return t||n.location.hostname},o.prototype.set=function(n){var i,t;if(!n===Object(n)&&(n={}),n.account){i=n.account;delete n.account;for(t in i)i.hasOwnProperty(t)&&(n["account_"+t]=i[t])}for(t in n)o.keys.hasOwnProperty(t)&&(this.props[t]=e.sanitizeValue(n[t],o.keys[t]));return this.props},o.prototype.get=function(n){return this.props[n]},o.prototype.toJSON=function(){return this.props},o.keys={o:"int",name:"string",email:"string",id:"string",type:"string",created_at:"timestamp",account_name:"string",account_id:"string",account_monthly_rate:"float",account_ltv:"float",account_plan:"string",account_created_at:"timestamp"},u.prototype.set=function(n){var t,i={};for(t in n)u.keys.hasOwnProperty(t)&&(i[t]=e.sanitizeValue(n[t],u.keys[t]));for(t in i)i.hasOwnProperty(t)&&this.store.set(t,i[t]);return i},u.prototype.get=function(n){return this.store.get(n)},u.prototype.toJSON=function(){var n,r={};for(var t in u.keys)u.keys.hasOwnProperty(t)&&(n=this.get(t),n!==i&&(r[t]=n));return r},u.prototype.isEnabled=function(){return this.store.isEnabled()},u.keys={created_at:"timestamp",last_sat_at:"timestamp",last_smartvote_at:"timestamp",dismissed_smartvote_at:"timestamp",dismissed_sat_at:"timestamp",autoprompted_satisfaction_at:"timestamp",autoprompted_smartvote_at:"timestamp",active_days:"int",autoprompt_disabled:"boolean"},f.prototype.isEnabled=function(){return!!this.storage},f.prototype.get=function(n){if(this.storage){var t,i=this.storage.getItem(this.makeKey(n));try{t=JSON.parse(i)}catch(r){}return t}},f.prototype.set=function(n,t){this.storage&&this.storage.setItem(this.makeKey(n),JSON.stringify(t))},f.prototype.remove=function(n){this.storage&&this.storage.removeItem(this.makeKey(n))},f.prototype.makeKey=function(n){return f.namespace+n},f.namespace="__uv_",s={external:"x",classic_widget:"w",smartvote_widget:"e",instant_answers_widget:"o",satisfaction_widget:"t",site2:"s",admin:"a"},h={view_page:"p",view_forum:"m",view_topic:"c",view_kb:"k",view_channel:"o",view_idea:"i",view_article:"f",view_comparison:"a",authenticate:"u",search_ideas:"s",search_articles:"r",vote_idea:"v",vote_article:"z",submit_ticket:"t",submit_idea:"d",subscribe_idea:"b",rate_satisfaction:"e",identify:"y",comment_idea:"h",dismiss:"w",autoprompt:"x",pick_idea:"1",view_tweet_button:"2",clicked_tweet_button:"3",posted_tweet:"4"},r.default_config={cookie_name:"uvts",domain:"https://by.uservoice.com",channel:"external",enabled:!0,logging_enabled:!1},r}(this),ht=e.base64Encode,o=e.extend,ti=(e.values,e.setCookie,e.getCookie,e.lpad,e.trim,e.log),ii=".uv-icon{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:inline-block;cursor:pointer;position:relative;-webkit-transition:all 300ms;-moz-transition:all 300ms;-o-transition:all 300ms;transition:all 300ms;width:39px;height:39px;position:fixed;z-index:100002;opacity:0.8;-webkit-transition:opacity 100ms;-moz-transition:opacity 100ms;-o-transition:opacity 100ms;transition:opacity 100ms}.uv-icon.uv-bottom-right{bottom:10px;right:12px}.uv-icon.uv-top-right{top:10px;right:12px}.uv-icon.uv-bottom-left{bottom:10px;left:12px}.uv-icon.uv-top-left{top:10px;left:12px}.uv-icon.uv-is-selected{opacity:1}.uv-icon svg{width:39px;height:39px}.uv-popover{font-family:sans-serif;font-weight:100;font-size:13px;color:black;position:fixed;z-index:100001}.uv-popover-content{-webkit-border-radius:5px;-moz-border-radius:5px;-ms-border-radius:5px;-o-border-radius:5px;border-radius:5px;background:white;position:relative;width:325px;height:325px;-webkit-transition:background 200ms;-moz-transition:background 200ms;-o-transition:background 200ms;transition:background 200ms}.uv-bottom .uv-popover-content{-webkit-box-shadow:rgba(0,0,0,0.3) 0 -10px 60px,rgba(0,0,0,0.1) 0 0 20px;-moz-box-shadow:rgba(0,0,0,0.3) 0 -10px 60px,rgba(0,0,0,0.1) 0 0 20px;box-shadow:rgba(0,0,0,0.3) 0 -10px 60px,rgba(0,0,0,0.1) 0 0 20px}.uv-top .uv-popover-content{-webkit-box-shadow:rgba(0,0,0,0.3) 0 10px 60px,rgba(0,0,0,0.1) 0 0 20px;-moz-box-shadow:rgba(0,0,0,0.3) 0 10px 60px,rgba(0,0,0,0.1) 0 0 20px;box-shadow:rgba(0,0,0,0.3) 0 10px 60px,rgba(0,0,0,0.1) 0 0 20px}.uv-left .uv-popover-content{-webkit-box-shadow:rgba(0,0,0,0.3) 10px 0 60px,rgba(0,0,0,0.1) 0 0 20px;-moz-box-shadow:rgba(0,0,0,0.3) 10px 0 60px,rgba(0,0,0,0.1) 0 0 20px;box-shadow:rgba(0,0,0,0.3) 10px 0 60px,rgba(0,0,0,0.1) 0 0 20px}.uv-right .uv-popover-content{-webkit-box-shadow:rgba(0,0,0,0.3) -10px 0 60px,rgba(0,0,0,0.1) 0 0 20px;-moz-box-shadow:rgba(0,0,0,0.3) -10px 0 60px,rgba(0,0,0,0.1) 0 0 20px;box-shadow:rgba(0,0,0,0.3) -10px 0 60px,rgba(0,0,0,0.1) 0 0 20px}.uv-ie8 .uv-popover-content{position:relative}.uv-ie8 .uv-popover-content .uv-popover-content-shadow{display:block;background:black;content:'';position:absolute;left:-15px;top:-15px;width:100%;height:100%;filter:progid:DXImageTransform.Microsoft.Blur(PixelRadius=15,MakeShadow=true,ShadowOpacity=0.30);z-index:-1}.uv-popover-tail{border:9px solid transparent;width:0;z-index:10;position:absolute;-webkit-transition:border-top-color 200ms;-moz-transition:border-top-color 200ms;-o-transition:border-top-color 200ms;transition:border-top-color 200ms}.uv-top .uv-popover-tail{bottom:-20px;border-top:11px solid white}.uv-bottom .uv-popover-tail{top:-20px;border-bottom:11px solid white}.uv-left .uv-popover-tail{right:-20px;border-left:11px solid white}.uv-right .uv-popover-tail{left:-20px;border-right:11px solid white}.uv-popover-loading{background:white;-webkit-border-radius:5px;-moz-border-radius:5px;-ms-border-radius:5px;-o-border-radius:5px;border-radius:5px;position:absolute;width:100%;height:100%;left:0;top:0}.uv-popover-loading-text{position:absolute;top:50%;margin-top:-0.5em;width:100%;text-align:center}.uv-popover-iframe-container{height:100%}.uv-popover-iframe{-webkit-border-radius:5px;-moz-border-radius:5px;-ms-border-radius:5px;-o-border-radius:5px;border-radius:5px;overflow:hidden}.uv-is-hidden{display:none}.uv-is-invisible{display:block !important;visibility:hidden !important}.uv-is-transitioning{display:block !important}.uv-no-transition{-moz-transition:none !important;-webkit-transition:none !important;-o-transition:color 0 ease-in !important;transition:none !important}.uv-fade{opacity:1;-webkit-transition:opacity 200ms ease-out;-moz-transition:opacity 200ms ease-out;-o-transition:opacity 200ms ease-out;transition:opacity 200ms ease-out}.uv-fade.uv-is-hidden{opacity:0}.uv-scale-top,.uv-scale-top-left,.uv-scale-top-right,.uv-scale-bottom,.uv-scale-bottom-left,.uv-scale-bottom-right,.uv-scale-right,.uv-scale-right-top,.uv-scale-right-bottom,.uv-scale-left,.uv-scale-left-top,.uv-scale-left-bottom,.uv-slide-top,.uv-slide-bottom,.uv-slide-left,.uv-slide-right{opacity:1;-webkit-transition:all 80ms ease-out;-moz-transition:all 80ms ease-out;-o-transition:all 80ms ease-out;transition:all 80ms ease-out}.uv-scale-top.uv-is-hidden{opacity:0;-webkit-transform:scale(0.8) translateY(-15%);-moz-transform:scale(0.8) translateY(-15%);-ms-transform:scale(0.8) translateY(-15%);-o-transform:scale(0.8) translateY(-15%);transform:scale(0.8) translateY(-15%)}.uv-scale-top-left.uv-is-hidden{opacity:0;-webkit-transform:scale(0.8) translateY(-15%) translateX(-10%);-moz-transform:scale(0.8) translateY(-15%) translateX(-10%);-ms-transform:scale(0.8) translateY(-15%) translateX(-10%);-o-transform:scale(0.8) translateY(-15%) translateX(-10%);transform:scale(0.8) translateY(-15%) translateX(-10%)}.uv-scale-top-right.uv-is-hidden{opacity:0;-webkit-transform:scale(0.8) translateY(-15%) translateX(10%);-moz-transform:scale(0.8) translateY(-15%) translateX(10%);-ms-transform:scale(0.8) translateY(-15%) translateX(10%);-o-transform:scale(0.8) translateY(-15%) translateX(10%);transform:scale(0.8) translateY(-15%) translateX(10%)}.uv-scale-bottom.uv-is-hidden{opacity:0;-webkit-transform:scale(0.8) translateY(15%);-moz-transform:scale(0.8) translateY(15%);-ms-transform:scale(0.8) translateY(15%);-o-transform:scale(0.8) translateY(15%);transform:scale(0.8) translateY(15%)}.uv-scale-bottom-left.uv-is-hidden{opacity:0;-webkit-transform:scale(0.8) translateY(15%) translateX(-10%);-moz-transform:scale(0.8) translateY(15%) translateX(-10%);-ms-transform:scale(0.8) translateY(15%) translateX(-10%);-o-transform:scale(0.8) translateY(15%) translateX(-10%);transform:scale(0.8) translateY(15%) translateX(-10%)}.uv-scale-bottom-right.uv-is-hidden{opacity:0;-webkit-transform:scale(0.8) translateY(15%) translateX(10%);-moz-transform:scale(0.8) translateY(15%) translateX(10%);-ms-transform:scale(0.8) translateY(15%) translateX(10%);-o-transform:scale(0.8) translateY(15%) translateX(10%);transform:scale(0.8) translateY(15%) translateX(10%)}.uv-scale-right.uv-is-hidden{opacity:0;-webkit-transform:scale(0.8) translateX(15%);-moz-transform:scale(0.8) translateX(15%);-ms-transform:scale(0.8) translateX(15%);-o-transform:scale(0.8) translateX(15%);transform:scale(0.8) translateX(15%)}.uv-scale-right-top.uv-is-hidden{opacity:0;-webkit-transform:scale(0.8) translateX(15%) translateY(-10%);-moz-transform:scale(0.8) translateX(15%) translateY(-10%);-ms-transform:scale(0.8) translateX(15%) translateY(-10%);-o-transform:scale(0.8) translateX(15%) translateY(-10%);transform:scale(0.8) translateX(15%) translateY(-10%)}.uv-scale-right-bottom.uv-is-hidden{opacity:0;-webkit-transform:scale(0.8) translateX(15%) translateY(10%);-moz-transform:scale(0.8) translateX(15%) translateY(10%);-ms-transform:scale(0.8) translateX(15%) translateY(10%);-o-transform:scale(0.8) translateX(15%) translateY(10%);transform:scale(0.8) translateX(15%) translateY(10%)}.uv-scale-left.uv-is-hidden{opacity:0;-webkit-transform:scale(0.8) translateX(-15%);-moz-transform:scale(0.8) translateX(-15%);-ms-transform:scale(0.8) translateX(-15%);-o-transform:scale(0.8) translateX(-15%);transform:scale(0.8) translateX(-15%)}.uv-scale-left-top.uv-is-hidden{opacity:0;-webkit-transform:scale(0.8) translateX(-15%) translateY(-10%);-moz-transform:scale(0.8) translateX(-15%) translateY(-10%);-ms-transform:scale(0.8) translateX(-15%) translateY(-10%);-o-transform:scale(0.8) translateX(-15%) translateY(-10%);transform:scale(0.8) translateX(-15%) translateY(-10%)}.uv-scale-left-bottom.uv-is-hidden{opacity:0;-webkit-transform:scale(0.8) translateX(-15%) translateY(10%);-moz-transform:scale(0.8) translateX(-15%) translateY(10%);-ms-transform:scale(0.8) translateX(-15%) translateY(10%);-o-transform:scale(0.8) translateX(-15%) translateY(10%);transform:scale(0.8) translateX(-15%) translateY(10%)}.uv-slide-top.uv-is-hidden{-webkit-transform:translateY(-100%);-moz-transform:translateY(-100%);-ms-transform:translateY(-100%);-o-transform:translateY(-100%);transform:translateY(-100%)}.uv-slide-bottom.uv-is-hidden{-webkit-transform:translateY(100%);-moz-transform:translateY(100%);-ms-transform:translateY(100%);-o-transform:translateY(100%);transform:translateY(100%)}.uv-slide-left.uv-is-hidden{-webkit-transform:translateX(-100%);-moz-transform:translateX(-100%);-ms-transform:translateX(-100%);-o-transform:translateX(-100%);transform:translateX(-100%)}.uv-slide-right.uv-is-hidden{-webkit-transform:translateX(100%);-moz-transform:translateX(100%);-ms-transform:translateX(100%);-o-transform:translateX(100%);transform:translateX(100%)}\n",ri=function(){function t(n){this.events=n;this.timer=null;this.last_hash=null}return t.prototype.listen=function(){var t=this;return"postMessage"in n&&("addEventListener"in n?n.addEventListener("message",function(n){t.dispatchEvent.apply(t,[n])},!1):n.attachEvent("onmessage",function(n){t.dispatchEvent.apply(t,[n])})),this},t.prototype.dispatchEvent=function(n){var t=n.data,i;try{t=JSON.parse(t)}catch(r){}if(t===Object(t))for(i in t)t.hasOwnProperty(i)&&this.events.hasOwnProperty(i)&&this.events[i](t[i],n.source,n.origin);else this.events.hasOwnProperty(t)&&this.events[t]()},t.getHash=function(){var t=n.location.href.match(/#(.*)$/);return t?t[1]:""},t}(),u={};u.match=function(n){return n.test(navigator.userAgent)};u.match(/IEMobile/i)?u.ieMobile=!0:u.match(/msie (\d+\.\d+);/i)?(u.ie=!0,u.version=parseInt(RegExp.$1,10),u["ie"+u.version]=!0,u.ieCompatibility=7===u.version&&u.match(/Trident/i),u.ieQuirks=t.compatMode&&"BackCompat"===t.compatMode):u.match(/Trident.*rv:(\d+)/i)&&(u.ie=!0,u.version=parseInt(RegExp.$1,10),u["ie"+u.version]=!0);u.touch="ontouchstart"in n;u.mobile=u.match(/Android.*Mobile|iPhone|IEMobile/i);u.tablet=!u.mobile&&u.match(/Android|iOS/i);u.iOS="ontouchstart"in n&&u.match(/like Mac OS X/i);var tt,ui=function(n){return UserVoice.account.messages[n]},r=function(){var i=function(){var n,i,r;if(1===arguments.length?(n=t,i="div",r=arguments[0]):2===arguments.length?(n=arguments[0],i="div",r=arguments[1]):(n=arguments[0],i=arguments[1],r=arguments[2]),n.querySelector)return n.querySelector(i+"."+r);for(var f=n.getElementsByTagName(i),e=new RegExp("\b"+r+"\b","gmi"),u=0;u<f.length;u++)if(e.test(f[u].className))return f[u];return null},r=0;return i.uniqId=function(){return r+=1,"uv-"+r},i.identify=function(n){var t=n.getAttribute("id");return t?t:(t=i.uniqId(),n.setAttribute("id",t),t)},i.data=function(){function t(t,r,u){var f=i.identify(t);return n[f]=n[f]||{},arguments.length>2?n[f][r]=u:n[f][r]}var n={};return t}(),i.addClass=function(n,t){new RegExp("(^|\\s+)"+t+"(\\s+|$)").test(n.className)||(n.className+=(n.className?" ":"")+t)},i.removeClass=function(n,t){n.className=n.className.replace(new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)","g")," ")},i.hasClass=function(n,t){return n.className.indexOf(t)>-1},i.dimensions=function(n){var i=n.display,r,u;if("none"!==i&&null!==i)return{width:n.offsetWidth,height:n.offsetHeight};var t=n.style,f=t.visibility,e=t.position,o=t.display;return t.visibility="hidden",t.position="absolute",t.display="block",r=n.clientWidth,u=n.clientHeight,t.display=o,t.position=e,t.visibility=f,{width:r,height:u}},i.offset=function(n){for(var t=n,i={top:0,left:0};t;)i.top+=t.offsetTop,i.left+=t.offsetLeft,t=t.offsetParent;return i},i.on=function(t,i,r){"addEventListener"in t?t.addEventListener(i,r,!1):t.attachEvent("on"+i,function(){return r.call(t,n.event)})},i.off=function(n,t,i){"removeEventListener"in n?n.removeEventListener(t,i,!1):n.detachEvent(t,i)},i.one=function(n,t,r){var u=function(){r(arguments);i.off(n,t,u)};i.on(n,t,u)},i.ready=function(i){if(t.addEventListener)"complete"===t.readyState?i():(t.addEventListener("DOMContentLoaded",i,!1),n.addEventListener("load",i,!1));else if(t.attachEvent){t.attachEvent("onreadystatechange",i);n.attachEvent("onload",i);var r=!1;try{r=null===n.frameElement}catch(u){}t.documentElement.doScroll&&r}},i.element=function(n){return n.nodeName?n:t.getElementById(n.substr(1))},i.getComputedStyle=function(t){var i=n.getComputedStyle(t);return i?i:{}},i}(),k=!1,ct=!1,lt=!1,d=["https:"===t.location.protocol?"https://":"http://","widget.uservoice.com"].join(""),at={"tab-light-bottom-right":"background:red url(#{bgImage}) 0 50% no-repeat;border:1px solid red;border-bottom:none;-moz-border-radius:4px 4px 0 0;-webkit-border-radius:4px 4px 0 0;border-radius:4px 4px 0 0;-moz-box-shadow:inset rgba(255,255,255,.9) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;-webkit-box-shadow:inset rgba(255,255,255,.9) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;box-shadow:inset rgba(255,255,255,.9) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;font:normal normal bold 14px/1em Arial, sans-serif;position:fixed;right:10px;bottom:0;z-index:9999;background-color:##{color};border-color:##{color};","tab-dark-bottom-right":"background:red url(#{bgImage}) 0 50% no-repeat;border:1px solid #FFF;border-bottom:none;-moz-border-radius:4px 4px 0 0;-webkit-border-radius:4px 4px 0 0;border-radius:4px 4px 0 0;-moz-box-shadow:inset rgba(255,255,255,.25) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;-webkit-box-shadow:inset rgba(255,255,255,.25) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;box-shadow:inset rgba(255,255,255,.25) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;font:normal normal bold 14px/1em Arial, sans-serif;position:fixed;right:10px;bottom:0;z-index:9999;background-color:##{color};","tab-light-top-right":"background:red url(#{bgImage}) 0 50% no-repeat;border:1px solid red;border-top:none;-moz-border-radius:0 0 4px 4px;-webkit-border-radius:0 0 4px 4px;border-radius:0 0 4px 4px;-moz-box-shadow:inset rgba(255,255,255,.9) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;-webkit-box-shadow:inset rgba(255,255,255,.9) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;box-shadow:inset rgba(255,255,255,.9) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;font:normal normal bold 14px/1em Arial, sans-serif;position:fixed;right:10px;top:0;z-index:9999;background-color:##{color};border-color:##{color};","tab-dark-top-right":"background:red url(#{bgImage}) 0 50% no-repeat;border:1px solid #FFF;border-top:none;-moz-border-radius:0 0 4px 4px;-webkit-border-radius:0 0 4px 4px;border-radius:0 0 4px 4px;-moz-box-shadow:inset rgba(255,255,255,.25) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;-webkit-box-shadow:inset rgba(255,255,255,.25) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;box-shadow:inset rgba(255,255,255,.25) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;font:normal normal bold 14px/1em Arial, sans-serif;position:fixed;right:10px;top:0;z-index:9999;background-color:##{color};","tab-light-bottom-left":"background:red url(#{bgImage}) 0 50% no-repeat;border:1px solid red;border-bottom:none;-moz-border-radius:4px 4px 0 0;-webkit-border-radius:4px 4px 0 0;border-radius:4px 4px 0 0;-moz-box-shadow:inset rgba(255,255,255,.9) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;-webkit-box-shadow:inset rgba(255,255,255,.9) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;box-shadow:inset rgba(255,255,255,.9) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;font:normal normal bold 14px/1em Arial, sans-serif;position:fixed;left:10px;bottom:0;z-index:9999;background-color:##{color};border-color:##{color};","tab-dark-bottom-left":"background:red url(#{bgImage}) 0 50% no-repeat;border:1px solid #FFF;border-bottom:none;-moz-border-radius:4px 4px 0 0;-webkit-border-radius:4px 4px 0 0;border-radius:4px 4px 0 0;-moz-box-shadow:inset rgba(255,255,255,.25) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;-webkit-box-shadow:inset rgba(255,255,255,.25) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;box-shadow:inset rgba(255,255,255,.25) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;font:normal normal bold 14px/1em Arial, sans-serif;position:fixed;left:10px;bottom:0;z-index:9999;background-color:##{color};","tab-light-top-left":"background:red url(#{bgImage}) 0 50% no-repeat;border:1px solid red;border-top:none;-moz-border-radius:0 0 4px 4px;-webkit-border-radius:0 0 4px 4px;border-radius:0 0 4px 4px;-moz-box-shadow:inset rgba(255,255,255,.9) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;-webkit-box-shadow:inset rgba(255,255,255,.9) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;box-shadow:inset rgba(255,255,255,.9) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;font:normal normal bold 14px/1em Arial, sans-serif;position:fixed;left:10px;top:0;z-index:9999;background-color:##{color};border-color:##{color};","tab-dark-top-left":"background:red url(#{bgImage}) 0 50% no-repeat;border:1px solid #FFF;border-top:none;-moz-border-radius:0 0 4px 4px;-webkit-border-radius:0 0 4px 4px;border-radius:0 0 4px 4px;-moz-box-shadow:inset rgba(255,255,255,.25) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;-webkit-box-shadow:inset rgba(255,255,255,.25) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;box-shadow:inset rgba(255,255,255,.25) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;font:normal normal bold 14px/1em Arial, sans-serif;position:fixed;left:10px;top:0;z-index:9999;background-color:##{color};","tab-light-middle-left":"background:red url(#{bgImage}) 50% 0 no-repeat;border:1px solid red;border-left:none;-moz-border-radius:0 4px 4px 0;-webkit-border-radius:0 4px 4px 0;border-radius:0 4px 4px 0;-moz-box-shadow:inset rgba(255,255,255,.9) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;-webkit-box-shadow:inset rgba(255,255,255,.9) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;box-shadow:inset rgba(255,255,255,.9) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;font:normal normal bold 14px/1em Arial, sans-serif;position:fixed;left:0;top:50%;z-index:9999;background-color:##{color};border-color:##{color};","tab-dark-middle-left":"background:red url(#{bgImage}) 50% 0 no-repeat;border:1px solid #FFF;border-left:none;-moz-border-radius:0 4px 4px 0;-webkit-border-radius:0 4px 4px 0;border-radius:0 4px 4px 0;-moz-box-shadow:inset rgba(255,255,255,.25) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;-webkit-box-shadow:inset rgba(255,255,255,.25) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;box-shadow:inset rgba(255,255,255,.25) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;font:normal normal bold 14px/1em Arial, sans-serif;position:fixed;left:0;top:50%;z-index:9999;background-color:##{color};","tab-light-middle-right":"background:red url(#{bgImage}) 50% 0 no-repeat;border:1px solid red;border-right:none;-moz-border-radius:4px 0 0 4px;-webkit-border-radius:4px 0 0 4px;border-radius:4px 0 0 4px;-moz-box-shadow:inset rgba(255,255,255,.9) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;-webkit-box-shadow:inset rgba(255,255,255,.9) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;box-shadow:inset rgba(255,255,255,.9) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;font:normal normal bold 14px/1em Arial, sans-serif;position:fixed;right:0;top:50%;z-index:9999;background-color:##{color};border-color:##{color};","tab-dark-middle-right":"background:red url(#{bgImage}) 50% 0 no-repeat;border:1px solid #FFF;border-right:none;-moz-border-radius:4px 0 0 4px;-webkit-border-radius:4px 0 0 4px;border-radius:4px 0 0 4px;-moz-box-shadow:inset rgba(255,255,255,.25) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;-webkit-box-shadow:inset rgba(255,255,255,.25) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;box-shadow:inset rgba(255,255,255,.25) 1px 1px 1px, rgba(0,0,0,.5) 0 1px 2px;font:normal normal bold 14px/1em Arial, sans-serif;position:fixed;right:0;top:50%;z-index:9999;background-color:##{color};","link-vertical":"display:block;padding:39px 5px 10px 5px;text-decoration:none;","link-horizontal":"display:block;padding:6px 10px 2px 42px;text-decoration:none;","link-vertical-no-bullhorn":"display:block;padding:10px 5px 10px 5px;text-decoration:none;","link-horizontal-no-bullhorn":"display:block;padding:6px 10px 2px 10px;text-decoration:none;"},fi="    html.uvw-dialog-open object,    html.uvw-dialog-open iframe,    html.uvw-dialog-open embed {      visibility: hidden;    }    html.uvw-dialog-open iframe.uvw-dialog-iframe {      visibility: visible;    }    ",ei=function(){function n(n){this.template='<div id="uvTab" style="#{tabStyle}"><a id="uvTabLabel" style="background-color: transparent; #{linkStyle}" href="javascript:return false;"><img src="#{imgSrc}" alt="#{tab_label}" style="border:0; background-color: transparent; padding:0; margin:0;" /><\/a><\/div>';this.widgets=[];this.options=n;this.processOptions()}return n.prototype.push=function(n){this.widget=n;this.widgets.push(n)},n.prototype.pop=function(){1!==this.widgets.length&&(this.widgets.pop(),this.widget=this.widgets[this.widgets.length-1])},n.prototype.render=function(){this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el);var n=new Image,t=this;r.on(n,"load",function(){t.createElement();t.show();f.pendingAutoprompt&&(f.pendingAutoprompt=!1,f.autoprompt())});n.src=this.options.imgSrc;w()},n.prototype.createElement=function(){var n=this.el=ut(y(this.template,this.options)),i=n.getElementsByTagName("a")[0],t=this;r.addClass(n,"uv-tab uv-slide-"+this.edge);this.dimensions=r.dimensions(n);this.hide(!1);this.rotation&&(n.style.marginTop=["-",Math.round(this.dimensions.height/2),"px"].join(""));r.on(i,"click",function(n){return n.preventDefault&&n.preventDefault(),t.visibleWidget?t.visibleWidget.hide():t.widget.show(),!1})},n.prototype.remove=function(){this.el&&(this.widget.hide(),this.hide())},n.prototype.hide=function(n){n=n===i?!0:n;n&&a(this.el);r.addClass(this.el,"uv-is-hidden");this.el.offsetWidth},n.prototype.show=function(){a(this.el);r.removeClass(this.el,"uv-is-hidden");this.el.offsetWidth},n.prototype.processOptions=function(){var h={trigger_position:"right",trigger_background_color:"CC6D00",tab_label:"feedback",tab_inverted:!1},n=o({},h,this.options);n.trigger_position.match(/^((top|bottom|middle)-(left|right)|left|right)$/)||(n.trigger_position=h.trigger_position);n.trigger_position.match(/^(right|left)$/)&&(n.trigger_position="middle-"+n.trigger_position);"string"==typeof n.trigger_background_color&&n.trigger_background_color.match(/^#/)&&(n.trigger_background_color=n.trigger_background_color.substring(1));var f=/([^\-]+)-([^\-]+)/.exec(n.trigger_position),i=f[1],c=f[2],e="middle"===f[1]?90:0,l=UserVoice.account.white_labeled?"-no-bullhorn":"",t=["tab-",n.inverted?"light-":"dark-",n.trigger_position].join(""),s=[e?"link-vertical":"link-horizontal",l].join(""),a=[d,"/dcache","/widget/feedback-tab.png?t=",encodeURIComponent(n.tab_label),"&c=",n.tab_inverted?encodeURIComponent(n.trigger_background_color):"ffffff","&r=",encodeURIComponent(e),n.tab_inverted?"&i=yes":""].join(""),r=n.trigger_position.replace(/middle-/,"").replace(/(bottom|top)-(right|left)/,"horizontal");r=["tab-",r,n.tab_inverted?"-light":"-dark",l].join("");r=[d,UserVoice.manifest[r]].join("");n.bgImage=r;n.imgSrc=a;n.tab_label=dt(n.tab_label);t=at[t];s=at[s];(u.ie6||u.ieQuirks)&&(t+="position:absolute !important;","top"===i?t+="top: expression(((document.documentElement.scrollTop || document.body.scrollTop) + (!this.offsetHeight && 0)) + 'px');":"middle"===i?t+="top: expression(((document.documentElement.scrollTop || document.body.scrollTop) + ((((document.documentElement.clientHeight || document.body.clientHeight) + (!this.offsetHeight && 0)) / 2) >> 0)) + 'px');":"bottom"===i&&(t+="top: expression(((document.documentElement.scrollTop || document.body.scrollTop) + (document.documentElement.clientHeight || document.body.clientHeight) - this.offsetHeight) + 'px');"));n.tabStyle=y(t,{color:n.trigger_background_color,bgImage:n.bgImage});n.linkStyle=s;"top"===i?this.edge="top":"bottom"===i?this.edge="bottom":"left"===c?this.edge="left":"right"===c&&(this.edge="right");this.rotation=e;this.options=n},n}(),s=function(){function e(){}return e.template='      <div class="uv-popover-content">        <div class="uv-popover-iframe-container"><\/div>        <div class="uv-popover-loading"><div class="uv-popover-loading-text">'+ui("Loading")+'&#8230;<\/div><\/div>        <!-- shadow for ie8 -->        <div class="uv-popover-content-shadow"><\/div>      <\/div>    ',e.prototype.show=function(n){n=n===i?!0:n;f.hideActive();f.active=this;this.el||this.render();this.trigger&&(this.trigger.visibleWidget=this);this.trigger&&this.trigger.popoverWillShow&&this.trigger.popoverWillShow();n?this.animateIn():r.removeClass(this.el,"uv-is-hidden");this.iframe.poke({show:!0});this.iframe.poke({focus:null})},e.prototype.hide=function(n){if(n=n===i?!0:n,f.active=null,this.el||this.render(),this.trigger&&(this.trigger.visibleWidget=null),this.trigger&&this.trigger.popoverWillHide&&this.trigger.popoverWillHide(),n?this.animateOut():r.addClass(this.el,"uv-is-hidden"),this.temp){var t=this.el;setTimeout(function(){t.parentNode.removeChild(t)},500)}},e.prototype.toggle=function(n){this.el||this.render();this.visible()?this.hide(n):this.show(n)},e.prototype.animateIn=function(){this.position();a(this.el);r.removeClass(this.el,"uv-is-hidden");this.el.offsetWidth;this.createIframe()},e.prototype.preload=function(){this.el||this.render();this.createIframe(!0)},e.prototype.animateOut=function(){a(this.el);r.addClass(this.el,"uv-is-hidden")},e.prototype.visible=function(){return!r.hasClass(this.el,"uv-is-hidden")&&!this.preloading},e.prototype.paneOpened=function(n,t){t.needsReload&&(this.needsReload=!0)},e.prototype.position=function(){this.preloading&&(r.addClass(this.el,"uv-is-hidden"),this.el.style.left="",this.preloading=!1);var n=this.visible();r.addClass(this.el,"uv-no-transition");n||(r.addClass(this.el,"uv-is-invisible"),this.el.style.left="-1000px");r.removeClass(this.el,"uv-scale-\\S+");this.el.offsetWidth;this.calculatePosition();this.el.offsetWidth;n||r.removeClass(this.el,"uv-is-invisible");r.removeClass(this.el,"uv-no-transition");this.el.offsetWidth},e.prototype.createIframe=function(t){var e=r(this.el,"uv-popover-iframe-container"),i=r(this.el,"uv-popover-loading"),f=this;(!this.iframe||this.needsReload)&&(this.iframe&&(e.removeChild(this.iframe.el),this.needsReload=!1),t&&(r.removeClass(this.el,"uv-is-hidden"),this.el.style.left="-10000px",this.preloading=!0),this.iframe=new c("popover",this.options.widgetType,o({height:"100%"},UserVoice.globalOptions,this.options)),this.iframe.render(),r.addClass(this.iframe.el,"uv-popover-iframe"),e.appendChild(this.iframe.el),u.ie8&&r.addClass(this.el,"uv-ie8"),r.on(n,"resize",function(){f.visible()&&f.calculatePosition()}),i&&i.parentNode&&(this.iframe.loaded||u.ie&&u.version<10?i.parentNode.removeChild(i):r.one(this.iframe.el,"load",function(){f.preloading&&(r.addClass(f.el,"uv-is-hidden"),f.el.style.left="",f.preloading=!1);i.parentNode.removeChild(i)})))},e.prototype.createElement=function(n){var i=this.el=t.createElement("div");i.innerHTML=this.template;i.setAttribute("data-html2canvas-ignore",!0);this.options.width&&!u.mobile&&(r(i,"uv-popover-content").style.width=this.options.width);this.options.height&&!u.mobile&&(r(i,"uv-popover-content").style.height=this.options.height);r.addClass(this.el,"uv-popover uv-is-hidden");n.appendChild(i)},e}(),vt=function(){function i(n){this.template=s.template;this.options=n;w()}return i.prototype=o({},s.prototype),i.prototype.render=function(){this.createElement(t.body)},i.prototype.show=function(){var i,r,t;u.mobile&&bt();s.prototype.show.apply(this,arguments);u.match(/iPhone OS 7/)&&(i=this,t=function(){i.visible()&&(r!==h().height?(n.scrollBy(0),r=h().height,setTimeout(t,80)):setTimeout(t,800))},t())},i.prototype.hide=function(){s.prototype.hide.apply(this,arguments);u.mobile&&(kt(),this.needsReload=!0)},i.prototype.calculatePosition=function(){var e=this.options.position.match(/^(top|bottom)-(left|right)$/)?this.options.position:"bottom-right",f=/(\w+)-(\w+)/.exec(e),t;if(this.el.style.zIndex=100003,u.mobile){var o=r(this.el,"uv-popover-content"),s=n.innerWidth,t=10,h=s/(325+2*t),i=Math.round(h*t);o.style.width="100%";o.style.height="100%";this.el.style.position="fixed";this.el.style.top=i+"px";this.el.style.left=i+"px";this.el.style.bottom=i+"px";this.el.style.right=i+"px"}else t=20,this.el.style.left="",this.el.style[f[1]]=t+"px",this.el.style[f[2]]=t+"px";r.addClass(this.el,"uv-"+("bottom"===f[1]?"top":"bottom"));r.addClass(this.el,"uv-scale-"+e)},i}(),oi=function(){function n(n,t){this.template=s.template+'<div class="uv-popover-tail"><\/div>';this.options=n;this.trigger=t;w()}return n.prototype=o({},s.prototype),n.prototype.render=function(){this.target="self"===this.options.target?this.trigger.el:r.element(this.options.target);f.systemTrigger&&this.target===f.systemTrigger.el?(this.container=this.target,this.isContained=!0):this.container=t.body;this.createElement(this.container)},n.prototype.paneOpened=function(n,t){s.prototype.paneOpened.apply(this,arguments);this.setTailColor(t.backgroundColor)},n.prototype.defaultPosition=function(){var i=this.target,n=r.offset(i),f=r.dimensions(i),e=i.currentStyle?i.currentStyle.position:r.getComputedStyle(i,null).position,u=100;return"fixed"!==e&&(n.top-=t.body.scrollTop,n.left-=t.body.scrollLeft),n.top<u?"bottom":n.top+f.height+u>h().height?"top":n.left<u?"right":n.left+f.width+u>h().width?"left":n.top>n.top+f.height-h().height?"bottom":"top"},n.prototype.calculatePosition=function(){var s=r(this.el,"uv-popover-tail"),u=this.target,n="automatic"===this.options.position?this.defaultPosition():this.options.position,p="top"===n?"bottom":"right"===n?"left":"left"===n?"right":"top",t="top"===n||"bottom"===n?"left":"top",i="left"===t?"width":"height",e="left"===t?"top":"left",l="width"===i?"height":"width",o=r.dimensions(this.el),c=r.dimensions(u),f=r.offset(u),a=it(f[t]+c[i]/2,o[i],0,h()[i],10),v=it(f[t]-a+c[i]/2,r.dimensions(s)[i],0,o[i],15),y=1*(v-r.dimensions(s)[i]/2)/o[i],w=1/3>=y?"left"===t?"-left":"-top":2/3>=y?"":"left"===t?"-right":"-bottom",b=u.currentStyle?u.currentStyle.position:r.getComputedStyle(u,null).position;this.currentPosition=n;this.el.style.position="fixed"!==b||this.isContained?"absolute":"fixed";this.el.style[t]=a-(this.isContained?f[t]:0)+"px";s.style[t]=v+"px";r.removeClass(this.el,"uv-(bottom|top|left|right)");r.addClass(this.el,"uv-"+n);r.addClass(this.el,"uv-scale-"+p+w);"top"===n||"left"===n?this.el.style[e]=(this.isContained?0:f[e])-o[l]-14+"px":("bottom"===n||"right"===n)&&(this.el.style[e]=(this.isContained?0:f[e])+c[l]+14+"px")},n.prototype.setTailColor=function(n){"transparent"!==n&&("#ffffff"===n||"rgb(255, 255, 255)"===n||"white"===n||""===n?r.removeClass(this.el,"uv-reversed"):r.addClass(this.el,"uv-reversed"),r(this.el,"uv-popover-content").style.backgroundColor=n,r(this.el,"uv-popover-tail").style["border"+this.currentPosition[0].toUpperCase()+this.currentPosition.slice(1)+"Color"]=n)},n}(),si=function(){function n(n){var t={trigger_background_color:"rgba(46, 49, 51, 0.6)",trigger_position:"bottom-right"};this.options=o({},t,n);this.options.trigger_position.match(/^(bottom|top)-(left|right)$/)||(this.options.trigger_position=t.trigger_position);this.widgets=[];u.touch||gt();w()}return n.icon_images={contact:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t width="39px" height="39px" viewBox="0 0 39 39" enable-background="new 0 0 39 39" xml:space="preserve">\r\n<g>\r\n\t<path class="uv-bubble-background" fill="rgba(46, 49, 51, 0.6)" d="M31.425,34.514c-0.432-0.944-0.579-2.007-0.591-2.999c4.264-3.133,7.008-7.969,7.008-13.409\r\n\t\tC37.842,8.658,29.594,1,19.421,1S1,8.658,1,18.105c0,9.446,7.932,16.79,18.105,16.79c1.845,0,3.94,0.057,5.62-0.412\r\n\t\tc0.979,1.023,2.243,2.3,2.915,2.791c3.785,2.759,7.571,0,7.571,0S32.687,37.274,31.425,34.514z"/>\r\n\t<g>\r\n\t\t<g>\r\n\t\t\t<path class="uv-bubble-foreground" fill="#FFFFFF" d="M16.943,19.467c0-3.557,4.432-3.978,4.432-6.058c0-0.935-0.723-1.721-2.383-1.721\r\n\t\t\t\tc-1.508,0-2.773,0.725-3.709,1.87l-2.441-2.743c1.598-1.9,4.01-2.924,6.602-2.924c3.891,0,6.271,1.959,6.271,4.765\r\n\t\t\t\tc0,4.4-5.037,4.732-5.037,7.265c0,0.481,0.243,0.994,0.574,1.266l-3.316,0.965C17.303,21.459,16.943,20.522,16.943,19.467z\r\n\t\t\t\t M16.943,26.19c0-1.326,1.114-2.441,2.44-2.441c1.327,0,2.442,1.115,2.442,2.441c0,1.327-1.115,2.441-2.442,2.441\r\n\t\t\t\tC18.058,28.632,16.943,27.518,16.943,26.19z"/>\r\n\t\t<\/g>\r\n\t<\/g>\r\n<\/g>\r\n<\/svg>\r\n',feedback:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t width="39px" height="39px" viewBox="0 0 39 39" enable-background="new 0 0 39 39" xml:space="preserve">\n<g>\n\t<path class="uv-bubble-background" fill="rgba(46, 49, 51, 0.6)"  d="M31.425,34.514c-0.432-0.944-0.579-2.007-0.591-2.999c4.264-3.133,7.008-7.969,7.008-13.409\n\t\tC37.842,8.658,29.594,1,19.421,1S1,8.658,1,18.105c0,9.446,7.932,16.79,18.105,16.79c1.845,0,3.94,0.057,5.62-0.412\n\t\tc0.979,1.023,2.243,2.3,2.915,2.791c3.785,2.759,7.571,0,7.571,0S32.687,37.274,31.425,34.514z"/>\n<\/g>\n<g>\n\t<g>\n\t\t<path class="uv-bubble-foreground" fill="#FFFFFF" d="M24.951,9.07c-0.83-0.836-1.857-1.453-2.976-1.786C21.337,7.096,20.672,7,20,7\n\t\t\tc-1.87,0-3.628,0.736-4.952,2.07C13.728,10.403,13,11.864,13,13.751l0.03,0.648c0.086,0.972,0.368,1.896,0.834,2.752\n\t\t\tc0.776,1.399,2.367,2.849,2.637,4.993l0.163,0.972C16.809,23.703,17.105,24,17.549,24h5.054c0.445,0,0.742-0.297,0.884-0.884\n\t\t\tl0.014-0.972c0.268-2.144,1.802-3.593,2.657-4.993c0.443-0.855,0.725-1.779,0.811-2.752L27,13.751\n\t\t\tC26.999,11.864,26.271,10.405,24.951,9.07z M17.101,26.554h5.741v-1.66h-5.741V26.554z M18.392,28.668h3.216l0.414-0.83h-4.101\n\t\t\tL18.392,28.668z"/>\n\t<\/g>\n<\/g>\n<\/svg>\n',post_suggestion:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t width="39px" height="39px" viewBox="0 0 39 39" enable-background="new 0 0 39 39" xml:space="preserve">\n<g>\n\t<path class="uv-bubble-background" fill="rgba(46, 49, 51, 0.6)"  d="M31.425,34.514c-0.432-0.944-0.579-2.007-0.591-2.999c4.264-3.133,7.008-7.969,7.008-13.409\n\t\tC37.842,8.658,29.594,1,19.421,1S1,8.658,1,18.105c0,9.446,7.932,16.79,18.105,16.79c1.845,0,3.94,0.057,5.62-0.412\n\t\tc0.979,1.023,2.243,2.3,2.915,2.791c3.785,2.759,7.571,0,7.571,0S32.687,37.274,31.425,34.514z"/>\n<\/g>\n<g>\n\t<g>\n\t\t<path class="uv-bubble-foreground" fill="#FFFFFF" d="M24.951,9.07c-0.83-0.836-1.857-1.453-2.976-1.786C21.337,7.096,20.672,7,20,7\n\t\t\tc-1.87,0-3.628,0.736-4.952,2.07C13.728,10.403,13,11.864,13,13.751l0.03,0.648c0.086,0.972,0.368,1.896,0.834,2.752\n\t\t\tc0.776,1.399,2.367,2.849,2.637,4.993l0.163,0.972C16.809,23.703,17.105,24,17.549,24h5.054c0.445,0,0.742-0.297,0.884-0.884\n\t\t\tl0.014-0.972c0.268-2.144,1.802-3.593,2.657-4.993c0.443-0.855,0.725-1.779,0.811-2.752L27,13.751\n\t\t\tC26.999,11.864,26.271,10.405,24.951,9.07z M17.101,26.554h5.741v-1.66h-5.741V26.554z M18.392,28.668h3.216l0.414-0.83h-4.101\n\t\t\tL18.392,28.668z"/>\n\t<\/g>\n<\/g>\n<\/svg>\n',smartvote:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t width="39px" height="39px" viewBox="0 0 39 39" enable-background="new 0 0 39 39" xml:space="preserve">\n<g>\n\t<path class="uv-bubble-background" fill="rgba(46, 49, 51, 0.6)"  d="M31.425,34.514c-0.432-0.944-0.579-2.007-0.591-2.999c4.264-3.133,7.008-7.969,7.008-13.409\n\t\tC37.842,8.658,29.594,1,19.421,1S1,8.658,1,18.105c0,9.446,7.932,16.79,18.105,16.79c1.845,0,3.94,0.057,5.62-0.412\n\t\tc0.979,1.023,2.243,2.3,2.915,2.791c3.785,2.759,7.571,0,7.571,0S32.687,37.274,31.425,34.514z"/>\n<\/g>\n<g>\n\t<g>\n\t\t<path class="uv-bubble-foreground" fill="#FFFFFF" d="M24.951,9.07c-0.83-0.836-1.857-1.453-2.976-1.786C21.337,7.096,20.672,7,20,7\n\t\t\tc-1.87,0-3.628,0.736-4.952,2.07C13.728,10.403,13,11.864,13,13.751l0.03,0.648c0.086,0.972,0.368,1.896,0.834,2.752\n\t\t\tc0.776,1.399,2.367,2.849,2.637,4.993l0.163,0.972C16.809,23.703,17.105,24,17.549,24h5.054c0.445,0,0.742-0.297,0.884-0.884\n\t\t\tl0.014-0.972c0.268-2.144,1.802-3.593,2.657-4.993c0.443-0.855,0.725-1.779,0.811-2.752L27,13.751\n\t\t\tC26.999,11.864,26.271,10.405,24.951,9.07z M17.101,26.554h5.741v-1.66h-5.741V26.554z M18.392,28.668h3.216l0.414-0.83h-4.101\n\t\t\tL18.392,28.668z"/>\n\t<\/g>\n<\/g>\n<\/svg>\n',satisfaction:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t width="39px" height="39px" viewBox="0 0 39 39" enable-background="new 0 0 39 39" xml:space="preserve">\r\n<g>\r\n\t<path class="uv-bubble-background" fill="rgba(46, 49, 51, 0.6)" d="M31.425,34.514c-0.432-0.944-0.579-2.007-0.591-2.999c4.264-3.133,7.008-7.969,7.008-13.409\r\n\t\tC37.842,8.658,29.594,1,19.421,1S1,8.658,1,18.105c0,9.446,7.932,16.79,18.105,16.79c1.845,0,3.94,0.057,5.62-0.412\r\n\t\tc0.979,1.023,2.243,2.3,2.915,2.791c3.785,2.759,7.571,0,7.571,0S32.687,37.274,31.425,34.514z"/>\r\n<\/g>\r\n<g>\r\n\t<g>\r\n\t\t<path class="uv-bubble-foreground" fill="#FFFFFF" d="M13.501,19.25c0.308,0.3,0.501,0.891,0.427,1.314l-1.02,5.95c-0.073,0.423,0.18,0.604,0.56,0.404\r\n\t\t\tl5.338-2.806c0.381-0.2,1.004-0.2,1.385,0l5.338,2.806c0.38,0.201,0.633,0.018,0.561-0.404l-1.02-5.95\r\n\t\t\tC25,20.141,25.191,19.55,25.499,19.25l4.321-4.21c0.308-0.3,0.211-0.596-0.215-0.658l-5.968-0.868\r\n\t\t\tc-0.426-0.062-0.93-0.427-1.119-0.813l-2.673-5.412c-0.19-0.385-0.501-0.385-0.691,0l-2.671,5.412\r\n\t\t\tc-0.191,0.385-0.695,0.75-1.12,0.813l-5.967,0.868c-0.426,0.062-0.523,0.358-0.215,0.658L13.501,19.25z"/>\r\n\t<\/g>\r\n<\/g>\r\n<\/svg>\r\n'},n.icon_images_ie8={contact:"//widget.uservoice.com/omnibox/icons/question_mark_bubble_icon.png",feedback:"//widget.uservoice.com/omnibox/icons/lightbulb_bubble_icon.png",post_suggestion:"//widget.uservoice.com/omnibox/icons/lightbulb_bubble_icon.png",smartvote:"//widget.uservoice.com/omnibox/icons/lightbulb_bubble_icon.png",satisfaction:"//widget.uservoice.com/omnibox/icons/star_bubble_icon.png"},n.prototype.remove=function(){this.widget.hide();try{t.body.removeChild(this.el)}catch(n){}},n.prototype.push=function(n){this.widget=n;this.widgets.push(n)},n.prototype.pop=function(){1!==this.widgets.length&&(this.widgets.pop(),this.widget=this.widgets[this.widgets.length-1])},n.prototype.render=function(){var t=this,e="classic_widget"===this.widget.options.mode?"contact":this.widget.options.mode,f,i;this.el||this.createElement();f=n.icon_images[e];u.ie8&&(i=n.icon_images_ie8[e],i+="?trigger_color="+encodeURIComponent(this.options.trigger_color),i+="&trigger_background_color="+encodeURIComponent(this.options.trigger_background_color),i+="&icon_version=3",f="<img src='"+i+"'/>");this.el.innerHTML=f;u.ie8||(this.options.trigger_color&&(r(this.el,"path","uv-bubble-foreground").style.fill=this.options.trigger_color),this.options.trigger_background_color&&(r(this.el,"path","uv-bubble-background").style.fill=this.options.trigger_background_color));r.on(this.el,"click",function(){t.visibleWidget?t.visibleWidget.hide():t.widget.show()});u.touch||u.ie&&!(u.ie&&u.version>9)||r.one(t.el,"mousemove",function(){t.widget.preload()})},n.prototype.createElement=function(){var n=this.el=t.createElement("div");n.setAttribute("data-html2canvas-ignore",!0);r.addClass(this.el,"uv-icon uv-"+this.options.trigger_position);u.ie8&&r.addClass(this.el,"uv-ie8");t.body.appendChild(this.el)},n.prototype.popoverWillShow=function(){r.addClass(this.el,"uv-is-selected")},n.prototype.popoverWillHide=function(){r.removeClass(this.el,"uv-is-selected")},n}(),hi=function(){function n(n,t){this.el=n;this.options=t;r.data(this.el,"trigger",this)}return n.prototype.render=function(){var n=this;this.clickHandler=function(t){return n.options.trigger_prevent_default_enabled&&t.preventDefault&&t.preventDefault(),n.widget.toggle(),n.options.trigger_prevent_default_enabled?!1:void 0};r.on(this.el,"click",this.clickHandler);u.touch||u.ie&&!(u.ie&&u.version>9)||r.one(this.el,"mousemove",function(){n.removed||n.widget.preload()})},n.prototype.remove=function(){this.removed=!0;r.off(this.el,"click",this.clickHandler)},n}(),c=function(){function e(n,t,i){this.options=o({css:"display: block; background: transparent; padding: none; margin: none; border: none; width: #{width}; height: #{height}",cdn:"omnibox"===t,embed_type:n,type:t,width:"100%",height:"100%"},i);this.options.mode.match(/contact|instant/)?this.options.mode="contact":this.options.mode.match(/post_idea|post_suggestion/)?this.options.mode="feedback":"satisfaction"===this.options.mode&&(this.options.survey_lockout=!1);this.pokes=[];this.loaded=!1;this.setLocation();this.src=[this.location.baseUrl,this.queryString()].join("?");this.sendUserData();e.all.push(this)}return e.all=[],e.prototype.setLocation=function(){var n="https",t;this.options.cdn?(t="widget.uservoice.com",this.location={host:t,protocol:n,baseUrl:[n,"://",t,"/",this.options.type,"/",encodeURIComponent(this.options.locale||"0"),"/",encodeURIComponent(this.options.accent_color||"0"),"/",UserVoice.account.client_key].join("")}):this.location={host:UserVoice.account.subdomain_ssl_host,protocol:n,baseUrl:n+"://"+UserVoice.account.subdomain_ssl_host+"/clients/widgets/"+this.options.type};this.location.origin=[this.location.protocol,"://",this.location.host].join("")},e.prototype.doLoad=function(){this.loaded=!0;this.poke()},e.prototype.poke=function(t){if(t&&("object"==typeof t&&(t=JSON.stringify(t)),this.pokes.push(t)),this.loaded&&this.el&&this.el.contentWindow){for(var r=this.el.contentWindow,i=0,u=this.pokes.length;u>i;i++)if("postMessage"in n)r.postMessage(this.pokes[i],this.location.origin);else try{r.location.href=[this.src,(+new Date).toString()+"&"+this.pokes[i]].join("#")}catch(f){}this.pokes=[]}},e.prototype.render=function(){var i;this.loaded=!1;this.options.startIframeLoad=+new Date;var n=this.el=t.createElement("iframe"),f=this,o={height:this.options.height,width:this.options.width},e=y(this.options.css,o);return(n.attachEvent?n.attachEvent("onload",function(){f.doLoad()}):n.onload=function(){f.doLoad()},n.name="uvw-iframe-"+this.options.id,r.addClass(n,"uvw-dialog-iframe"),u.ie?n.style.setAttribute("cssText",e,0):n.setAttribute("style",e),n.setAttribute("allowtransparency","true"),n.setAttribute("frameBorder","0"),n.frameBorder=0,u.ie&&u.version<9)||(n.style.visibility="hidden",i=n.onload,n.onload=function(){"function"==typeof i&&i();n.style.visibility="visible"}),n.src=this.src,n},e.prototype.queryString=function(){for(var u,r,f,e,t={},s=["sso","sess","mode","locale","link_color","topic_id","forum_id","article_id","suggestion_id","feedback_tab_name","support_tab_name","contact_us","email","status_ids","smartvote_status_ids","states","category_ids","smartvote_category_ids","survey_lockout","primary_color","accent_color","trigger_color","trigger_background_color","header","border","custom_template_id","design_settings_id","mixpanel_channel","allow_tests","demo","startIframeLoad","org_name","post_idea_title","contact_title","smartvote_title","context","embed_type","trigger_method","menu","screenshot_enabled","mobile","twitter_demo","twitter_demo_username","twitter_demo_message","twitter_demo_satisfaction_thanks_mode","twitter_demo_satisfaction_thanks_message","permalinks_enabled","strings","instant_answers","smartvote","satisfaction","contact_enabled","feedback_enabled"],o=0;o<s.length;o++)u=s[o],r=this.options[u],r===i&&(r=this.options["__"+u]),r!==i&&("string"==typeof r&&u.match(/color/)&&r.match(/^#/)&&(r=r.substring(1)),"object"==typeof r&&(r=JSON.stringify(r)),t[u]=r);return this.options.post_idea_enabled!==i&&(this.options.post_suggestion_enabled=this.options.post_idea_enabled),f=this.options.ticket_custom_fields||this.options.custom_fields,f&&"object"==typeof f&&(t.custom_fields=ht(JSON.stringify(f))),e=this.options.strings||{},e&&"object"==typeof e&&(t.strings=ht(JSON.stringify(e))),t.smartvote_status_ids&&(t.status_ids=t.smartvote_status_ids,delete t.smartvote_status_ids),t.smartvote_category_ids&&(t.category_ids=t.smartvote_category_ids,delete t.smartvote_category_ids),this.options.menu_enabled!==i&&(t.menu=this.options.menu_enabled),this.options.smartvote_enabled!==i&&(t.smartvote=this.options.smartvote_enabled),this.options.satisfaction_enabled!==i&&(t.satisfaction=this.options.satisfaction_enabled),this.options.post_suggestion_enabled!==i&&(t.feedback_enabled=this.options.post_suggestion_enabled),"classic_widget"===this.options.type&&(this.options.classic_default_mode!==i&&(t.default_mode=this.options.classic_default_mode),t.mode=this.options.contact_enabled?this.options.post_suggestion_enabled?"full":"support":"feedback"),t.referrer=n.location.href,ft(t,function(n){try{n=decodeURIComponent(n)}catch(t){}return encodeURIComponent(n)})},e.prototype.sendUserData=function(){if(f.uvts&&this.poke({setUvts:f.uvts}),f.email&&this.poke({setEmail:f.email}),f.external_user_ids&&f.external_user_ids.length)for(var n=0;n<f.external_user_ids.length;n++)this.poke({addExternalUserId:f.external_user_ids[n]})},e.sendUserData=function(){for(var n=0;n<this.all.length;n++)this.all[n].sendUserData()},e}(),yt=function(){function n(n,t){var e=r.dimensions(n).height,s={trigger_method:"embed",height:10>e?"325px":"100%",contact_enabled:!0,post_suggestion_enabled:!0,smartvote_enabled:!0,feedback_enabled:!0},i=f.processModeOptions(o(s,UserVoice.globalOptions,t)),u=new c("inline",i.widgetType,i),h=n.currentStyle?n.currentStyle.position:r.getComputedStyle(n,null).position;for("static"===h&&(n.style.position="relative");n.firstChild;)n.removeChild(n.firstChild);n.appendChild(u.render());u.poke({show:!0})}return n}(),ci=function(){function i(n){this.iframe=new c("lightbox",n.widgetType,o({css:"display: block; border: none; -moz-border-radius: 3px; -webkit-border-radius: 3px; height: 100%; padding: none; position: absolute; top: 0; right: 0; bottom: 0; left: 0; width: 100%;-webkit-transform: translate3d(0,0,0);"},n));this.template='<div class="uvOverlay1" id="uvw-overlay-#{id}" style="position: relative; visibility:hidden; z-index: 100003;"><div id="uvw-overlay-background-#{id}" style="background: #000; -ms-filter: alpha(opacity=75); filter: alpha(opacity=75); opacity: .75; position: fixed; top: 0; right: 0; bottom: 0; left: 0;"><\/div><div class="uvOverlay2" style="height: 100%; overflow: auto; position: fixed; top: 0; right: 0; bottom: 0; left: 0;"><div class="uvOverlay3" style="height: 100%; min-height: 550px; min-width: 900px; position: relative; width: 100%;"><div id="#{dialog_id}" style="-webkit-box-shadow: rgba(0,0,0,.5) 0 5px 5px; height: 500px; margin: -250px 0 0 -444px; position: absolute; top: 50%; left: 50%; width: 888px;"><div id="#{dialog_close_id}" title="Close Dialog" style="z-index: 100004; background: transparent url('+d+UserVoice.manifest.close+') 0 0 no-repeat; height: 48px; margin: 0; padding: 0; position: absolute; top: -22px; right: -24px; width: 48px;"><button style="background: none; border: none; -moz-box-shadow: none; -webkit-box-shadow: none; box-shadow: none; cursor: pointer; height: 30px; margin: 6px 0 0 9px; padding: 0; width: 30px; text-indent: -9000px;">Close Dialog<\/button><\/div><div id="#{dialog_content_id}" style="position:static; width:100%; height:100%"><\/div>'+(UserVoice.account.campaign?'<a id="uvw-dialog-powered-by-#{id}" href="http://www.uservoice.com/powered-by?uv_experience=classic&amp;uv_company_name='+UserVoice.account.name+"&amp;uv_contact_url="+UserVoice.account.subdomain_site_host+"&amp;utm_campaign="+UserVoice.account.campaign+"&amp;utm_medium=widget2&amp;utm_source="+UserVoice.account.subdomain_ssl_host+'" target="_blank" style="background: url('+d+UserVoice.manifest.pb+') 0 0 no-repeat; font-size: 11px; height: 20px; position: absolute; bottom: -25px; right: 10px; text-indent: -9000px; width: 150px;">Powered by UserVoice<\/a>':"")+"<\/div><\/div><\/div><\/div>";this.id=r.uniqId();this.dialog_id="uvw-dialog-"+this.id;this.dialog_close_id="uvw-dialog-close-"+this.id;this.dialog_content_id="uvw-dialog-content-"+this.id;this.options=n}return i.prototype.toggle=function(){this.show()},i.prototype.show=function(){u.ie6||u.touch||u.ieMobile||u.iOS||u.ieQuirks?n.open(this.iframe.src,"uservoice_widget","height=500,width=888,resizable=yes,scrollbars=1"):(this.initPopup(),this.overlay.style.visibility="visible",this.overlay.style.display="block",this.dialog.focus(),r.addClass(ot(),"uvw-dialog-open"))},i.prototype.preload=function(){},i.prototype.hide=function(){this.iframe.poke("reset");this.overlay&&(this.overlay.style.display="none");r.removeClass(ot(),"uvw-dialog-open")},i.prototype.initPopup=function(){if(this.overlay||(p(fi),this.overlay=ut(y(this.template,this))),this.iframe.poke("opened"),!this.dialog||this.dialog.getAttribute("data-widget-key")!==this.id){for(this.iframe.render(),this.dialogContent=t.getElementById(this.dialog_content_id);this.dialogContent.firstChild;)this.dialogContent.removeChild(this.dialogContent.firstChild);this.dialogContent.appendChild(this.iframe.el);this.dialog=t.getElementById(this.dialog_id);this.dialog.setAttribute("data-widget-key",this.id);var n=this;r.on(t.getElementById(this.dialog_close_id),"click",function(){return n.hide()})}},i}(),f=function(){var r={session:!1,syncedSession:!1};return r.setUvts=function(n){r.uvts=n;c.sendUserData()},r.setEmail=function(n){r.email=n;c.sendUserData()},r.addExternalUserId=function(n){r.external_user_ids||(r.external_user_ids=[]);r.external_user_ids.push(n);c.sendUserData()},r.setSession=function(){r.session=!0;r.pendingAutoprompt&&(r.pendingAutoprompt=!1,r.autoprompt())},r.syncSession=function(){r.syncedSession=!0;r.pendingAutoprompt&&(r.pendingAutoprompt=!1,r.autoprompt())},r.tracker=new ni(UserVoice.account.subdomain_id,{channel:t.location.host===UserVoice.account.subdomain_site_host?"site2":"external",onUvts:r.setUvts,onSession:r.setSession,onSync:r.syncSession}),r.autoprompt=function(){if(u.mobile)return this.pendingAutoprompt=!1,void 0;if(this.session===!1||this.systemTrigger&&this.systemTrigger.el===i)return this.pendingAutoprompt=!0,void 0;var n=this.tracker.dumpSession(),t=this.shouldShowSatisfactionPrompt(n),f=this.shouldShowSmartVotePrompt(n);if(t||f){if(this.syncedSession===!1)return this.pendingAutoprompt=!0,this.tracker.syncSession(),void 0;t&&(r.recordAutoprompt("satisfaction"),this.tracker.updateSession({dismissed_sat_at:(new Date).getTime()}),r.pushSystemWidget({mode:"satisfaction"}),r.showAutoprompt({mode:"satisfaction"}),this.tracker.track("autoprompt",{},"satisfaction_widget"));f&&(r.recordAutoprompt("smartvote"),this.tracker.updateSession({dismissed_smartvote_at:(new Date).getTime()}),r.showAutoprompt({mode:"smartvote"}),this.tracker.track("autoprompt",{},"smartvote_widget"))}},r.shouldShowSatisfactionPrompt=function(n){if(!UserVoice.account.satisfaction_autoprompt_enabled||n.autoprompt_disabled)return!1;var t=((new Date).getTime(),Math.max(n.created_at||0,this.lastSatisfactionPrompt(n))),i=this.lastSmartvotePrompt(n);return 0!==t?l(t)>=60&&(0===i||l(i)>=21):!1},r.shouldShowSmartVotePrompt=function(n){if(!UserVoice.account.smartvote_autoprompt_enabled||n.autoprompt_disabled)return!1;var i=((new Date).getTime(),this.lastSmartvotePrompt(n)),t=this.lastSatisfactionPrompt(n);return 0!==i?l(i)>=42&&(0===t||l(t)>=21):7===n.active_days&&(0===t||l(t)>=21)},r.lastSatisfactionPrompt=function(n){return Math.max(n.last_sat_at||0,n.dismissed_sat_at||0,n.autoprompted_satisfaction_at||0)},r.lastSmartvotePrompt=function(n){return Math.max(n.last_smartvote_at||0,n.dismissed_smartvote_at||0,n.autoprompted_smartvote_at||0)},r.scan=function(){for(var f=wt(t.getElementsByTagName("*")),i,n=function(n,t,i){var u=n.getAttribute(t);n.hasAttribute&&n.hasAttribute(t)&&!n.getAttribute("data-uv-scanned")&&(n.setAttribute("data-uv-scanned","true"),i(n,u,r.extractOptions(n)))},u=0;u<f.length;u++)i=f[u],n(i,"data-uv-inline",this.renderInline),n(i,"data-uv-embed",this.renderInline),n(i,"data-uv-lightbox",this.linkToLightbox),n(i,"data-uv-show",this.linkToPopover),n(i,"data-uv-trigger",this.linkToPopover)},r.renderInline=function(n,t,i){"classic_widget"===t?new yt(n,b(t,i)):new yt(n,o({mode:t,contact_enabled:!0,post_suggestion_enabled:!0,smartvote_enabled:!0,feedback_enabled:!0},i))},r.linkToLightbox=function(n,t,i){r.createCustomTrigger(n,o({target:"lightbox"},b(t,i)))},r.linkToPopover=function(n,t,i){r.createCustomTrigger(n,o({mode:t},i))},r.extractOptions=function(n){for(var t,i,u={},r=0;r<n.attributes.length;r++)t=n.attributes[r],i=t.value,t.specified&&t.name.match(/^data-uv-/)&&(i.match(/^(true|false)$/)&&(i="true"===i),u[t.name.replace(/^data-uv-/,"").replace(/-/g,"_")]=i);return u},r.processModeOptions=function(n){return n.mode=n.mode||(n.contact_enabled?"contact":n.smartvote_enabled?"smartvote":"post_suggestion"),n.mode.match(/instant/)&&(n.mode="contact"),"post_idea"===n.mode&&(n.mode="post_suggestion"),n.widgetType="classic_widget"===n.mode?n.mode:"omnibox",n},r.active=null,r.hideActive=function(){r.active&&r.active.hide()},r.createCustomTrigger=function(n,t){var i=new hi(n,o({trigger_prevent_default_enabled:!0},UserVoice.globalOptions,t)),u=r.createWidget(o({trigger_method:"custom_trigger"},t),i);return t&&t.autoprompt&&(r.autopromptOptions=o({target:n},Widget.autopromptOptions||{})),i.widget=u,i.render(),i},r.createSystemTrigger=function(n){var i=o({trigger_color:"white"},UserVoice.globalOptions,n||{}),f=i.trigger_style||"icon",t="icon"===f?new si(i):new ei(i),e=r.createWidget(o({trigger_method:"pin"},n),t);if(!(u.ie&&u.version<8&&"icon"===f))return t.push(e),t.render(),t},r.createWidget=function(n,t){var i=r.processModeOptions(o({target:"self",contact_enabled:!0,post_suggestion_enabled:!0,smartvote_enabled:!0,feedback_enabled:!0},UserVoice.globalOptions,n));return u.mobile&&(i.mobile=!0),"lightbox"===i.target||"classic_widget"===i.mode?new ci(i,t):i.target===!1||"self"===i.target&&!t?(i.position=i.position||"bottom-right",new vt(i,t)):(i.position&&i.position.match(/^(automatic|top|bottom|left|right)$/)||(i.position="automatic"),u.mobile?new vt(i,t):new oi(i,t))},r.showWidget=function(n){r.createWidget(o({temp:!0},n),r.systemTrigger).show()},r.showAutoprompt=function(n){r.showWidget(o({trigger_method:"autoprompt"},r.autopromptOptions||{},n))},r.pushSystemWidget=function(n){r.systemTrigger&&r.systemTrigger.push(r.createWidget(n,r.systemTrigger))},r.recordAutoprompt=function(n){var u=r.tracker.getIdentity()||{},e={"audit[prompt_type]":n,"audit[uvts]":r.uvts,"audit[session_data]":JSON.stringify(r.tracker.dumpSession()),"audit[external_user_id]":u.id,"audit[email]":u.email},f=t.getElementsByTagName("script")[0],i=t.createElement("script");i.type="application/javascript";i.async=!0;i.defer=!0;i.src="http://"+UserVoice.account.subdomain_ssl_host+"/clients/widgets/omnibox/autoprompts/create.json?"+ft(e);f.parentNode.insertBefore(i,f)},r.includeCss=function(){p(ii)},new ri({openPane:function(n){r.active&&r.active.paneOpened(n[0],n[1])},close:function(){r.active&&r.active.hide()},dismiss:function(){r.active&&r.active.hide()},voteSubmitted:function(){r.tracker.updateSession({last_smartvote_at:(new Date).getTime()})},ratingSubmitted:function(){r.systemTrigger&&r.systemTrigger.pop();r.tracker.updateSession({last_sat_at:(new Date).getTime()})},captureScreenshot:function(i,r,u){("http://widget.uservoice.com"===u||"https://widget.uservoice.com"===u)&&(n.html2canvas_onload_options={onrendered:function(n){var t=n.toDataURL("image/png"),f;t&&(f=t.split(",",2)[1],r.postMessage(JSON.stringify({identifier:i,content_type:"image/png",base64data:f,width:n.width,height:n.height}),u))}},function(){var n=t.createElement("script"),r;n.type="text/javascript";n.async=!0;n.src="//assets.uvcdn.com"+UserVoice.manifest.screenshot+"?"+i;r=t.getElementsByTagName("head")[0];r.appendChild(n)}())}}).listen(),r}();for(UserVoice.globalOptions={},UserVoice.push=function(n){var t=n[0],i=n.slice(1);"function"==typeof UserVoice[t]&&UserVoice[t].apply(null,i)},UserVoice.set=function(n,t){if("object"==typeof n)UserVoice.globalOptions=et(UserVoice.globalOptions,n);else{var i={};i[n]=t;UserVoice.set(i)}},UserVoice.embed=function(){var n=arguments[0],t=arguments[1],u=arguments[2];return("string"!=typeof n||"#"===n[0])&&(t=arguments[0],u=arguments[1],n=null),t===i?pt("please specify where to embed it."):(f.renderInline(r.element(t),n,u),void 0)},UserVoice.addTrigger=function(n,t){if(n&&n.nodeName||"string"==typeof n){if(u.ie&&u.version<8)return;f.createCustomTrigger(r.element(n),t)}else t=n||{},f.systemTrigger&&f.systemTrigger.remove(),f.systemTrigger=f.createSystemTrigger(st(t))},UserVoice.show=function(n){"string"==typeof arguments[0]&&(n=o({mode:arguments[0]},arguments[1]||{}));f.showWidget(o({trigger_method:"show"},n||{}))},UserVoice.hide=function(){f.hideActive()},UserVoice.removeTrigger=function(n){n?r.data(r.element(n),"trigger").remove():(f.systemTrigger.remove(),f.systemTrigger=null)},UserVoice.autoprompt=function(n){f.autopromptOptions=n;f.autoprompt()},UserVoice.identify=function(n){f.tracker.identify(n);n&&n.email&&f.setEmail(n.email)},UserVoice.track=function(n,t){f.tracker.track(n,t)},UserVoice.footprint=function(n){f.tracker.setConfig({enabled:n})},UserVoice.scan=function(){f.scan()},UserVoice.addExternalUserId=function(n){f.addExternalUserId(n)},UserVoice.setOption=UserVoice.setOptions=UserVoice.set,UserVoice.setSSO=function(n){UserVoice.set("sso",n)},UserVoice.setCustomFields=function(n){UserVoice.set("ticket_custom_fields",n)},UserVoice.setLocale=function(n){UserVoice.set("locale",n)},UserVoice.showPrompt=UserVoice.showPopover=UserVoice.show,UserVoice.showLightbox=function(n,t){f.showWidget(o({target:"lightbox"},b(n,t)))},UserVoice.hideLightbox=function(){},UserVoice.showIcon=UserVoice.pin=function(n,t){t&&(t.trigger_position=t.position,t.position="automatic");UserVoice.addTrigger(o({mode:n,trigger_style:"icon"},t||{}))},UserVoice.showTab=function(n,t){UserVoice.addTrigger(o({trigger_style:"tab"},b(n,t)))},f.includeCss(),g=0;g<UserVoice.events.length;g++)UserVoice.push(UserVoice.events[g]);f.scan();r.ready(nt)}(window,document));colors=function(){var n=function(n,t){this.x=n;this.y=t},t=new n(.675,.322),i=new n(.4091,.518),r=new n(.167,.04),s=function(n){return parseInt(n.substring(0,2),16)},h=function(n){return parseInt(n.substring(2,4),16)},c=function(n){return parseInt(n.substring(4,6),16)},l=function(n){return[s(n),h(n),c(n)]},a=function(n,t){return Math.floor(Math.random()*(t-n+1)+n)},f=function(){return a(0,255)},u=function(n,t){return n.x*t.y-n.y*t.x},v=function(f){var e=new n(i.x-t.x,i.y-t.y),o=new n(r.x-t.x,r.y-t.y),s=new n(f.x-t.x,f.y-t.y),h=u(s,o)/u(e,o),c=u(e,s)/u(e,o);return h>=0&&c>=0&&h+c<=1},e=function(t,i,r){var e=new n(r.x-t.x,r.y-t.y),u=new n(i.x-t.x,i.y-t.y),o=u.x*u.x+u.y*u.y,s=e.x*u.x+e.y*u.y,f=s/o;return f<0?f=0:f>1&&(f=1),new n(t.x+u.x*f,t.y+u.y*f)},o=function(n,t){var i=n.x-t.x,r=n.y-t.y;return Math.sqrt(i*i+r*r)},y=function(u,f,s){var p=u>.04045?Math.pow((u+.055)/(1+.055),2.4):u/12.92,w=f>.04045?Math.pow((f+.055)/(1+.055),2.4):f/12.92,b=s>.04045?Math.pow((s+.055)/(1+.055),2.4):s/12.92,k=p*.4360747+w*.3850649+b*.0930804,d=p*.2225045+w*.7168786+b*.0406169,g=p*.0139322+w*.0971045+b*.7141733,c=k/(k+d+g),l=d/(k+d+g),h,nt;if(c=isNaN(c)?0:c,l=isNaN(l)?0:l,h=new n(c,l),nt=v(h),!nt){var tt=e(t,i,h),it=e(r,t,h),rt=e(i,r,h),et=o(h,tt),ut=o(h,it),ft=o(h,rt),a=et,y=tt;ut<a&&(a=ut,y=it);ft<a&&(a=ft,y=rt);c=y.x;l=y.y}return new n(c,l)};return{hexToCIE1931:function(n){var t=l(n);return this.rgbToCIE1931(t[0],t[1],t[2])},rgbToCIE1931:function(n,t,i){var r=y(n,t,i);return[r.x,r.y]},getCIEColor:function(n){var i=n||null,t=[];if(null!==i)t=this.hexToCIE1931(i);else{var r=f(),u=f(),e=f();t=this.rgbToCIE1931(r,u,e)}return t},hexFullRed:"FF0000",hexFullGreen:"00FF00",hexFullBlue:"0000FF",hexFullWhite:"FFFFFF"}};typeof define!="undefined"&&typeof define.amd!="undefined"?define(colors):window.colors=colors();Palettes={Empty:[],"Kelvin degrees":[{name:"Candle",color:"#FF9329"},{name:"40W Tungsten",color:"#FFC58F"},{name:"100W Tungsten",color:"#FFD6AA"},{name:"Halogen",color:"#FFF1E0"},{name:"Carbon Arc",color:"#FFFAF4"},{name:"High Noon Sun",color:"#FFFFFB"},{name:"Direct Sunlight",color:"#FFFFFF"},{name:"Overcast Sky",color:"#C9E2FF"},{name:"Clear Blue Sky",color:"#409CFF"}],Fluorescents:[{name:"Warm Fluorescent",color:"#FFF4E5"},{name:"Standard Fluorescent",color:"#F4FFFA"},{name:"Cool White Fluorescent",color:"#D4EBFF"},{name:"Full Spectrum Fluorescent",color:"#FFF4F2"},{name:"Grow Light Fluorescent",color:"#FFEFF7"},{name:"Pink Fluorescent",color:"#ffc0cb"}],Rainbow:["#3400E5","#7200E2","#AD00DF","#DD00D2","#DA0094","#D80058","#D5001C","#D31C00","#D05500","#CE8C00","#CBC200","#9BC900","#63C600","#2DC400","#00C108","#00BF3C"],RomanticRed:["#ff0000","#ff1919","#ff3232","#ff4c4c","#ff6666","#ff7f7f","#ff9999","#ffb2b2"],Sunrise:["#FF8E74","#FFB376","#FFDF80","#FFFA90","#CBF2FF"],Thanksgiving:["#FFC300","#FF6200","#FF0000","#CD0500","#690F00",],TurkeyFeast:["#DE7600","#BF7117","#965811","#9E4A0E","#663715",],TurkeyDinner:[{name:"Salad",color:"#456905"},{name:"Tabasco",color:"#B2A509"},{name:"Turkey Girll",color:"#E0E610"},{name:"Salmon",color:"#FE6823"},{name:"Grow Light Fluorescent",color:"#FFEFF7"},{name:"Catch a turkey",color:"#AA5B00"}],Police:["#0000FF","#FF0000","#0000FF","#0000FF","#FF0000"],Christmas:["#FF3333","#FFFFFF","#FFFE99","#33FF33"],NewYears:["#5B1D99","#0074B4","#00B34C","#FFD41F","#FC6E3D",],Broadway:["#FFFFFF","#FFFE99","#FFFFFF","#FFFE99","#FFFFFF","#FFFE99","#FFFFFF","#FFFE99",]};Sequence={All:function(){return!0},Sequence:function(){},Random:function(){}};Ambient=function(){function e(n){var f,e,o;n!==undefined&&(chrome.runtime.lastError?(console.log(chrome.runtime.lastError.message),chrome.runtime.lastError=null):(f=new Image,f.src=n,e=new ColorThief,o=e.getPalette(f,8),u=new Date,t=[],o.forEach(function(n){t.push(colorUtil().rgbToHex(n[0],n[1],n[2]))}),i.forEach(function(i){i(t,n)})),setTimeout(r,200))}function r(){if(n.on||n.updateImage)try{f()}catch(t){setTimeout(r,1e3);console.log(t)}}function f(){if(chrome.runtime.lastError){console.log(chrome.runtime.lastError.message);return}return typeof chrome!="undefined"&&chrome.tabs!==undefined&&chrome.tabs.captureVisibleTab!==undefined?(chrome.tabs.captureVisibleTab({quality:30},e),!0):!1}var t=[],i=[],n={},u=null;return n.on=!1,n.updateImage=!1,n.run=function(){return f()},n.onUpdate=function(n){i=[];i.push(n)},n.getDominantColors=function(){return new Date-u>2e3&&r(),t},n}();scenes={RelaxedRandom:{interval:2e3,Palette:Palettes.RomanticRed,update:function(n){return scenes.randomPallete(n,this.Palette)}},"Romantic Red":{interval:2e3,Palette:Palettes.RomanticRed,update:function(n){return scenes.randomPallete(n,this.Palette)}},Christmas:{interval:5e3,Palette:Palettes.Christmas,update:function(n){return scenes.randomPallete(n,this.Palette,50)},index:0},NewYears:{interval:500,Palette:Palettes.NewYears,update:function(n){var t=[];return $.each(n,function(n,i){var r,u;Math.random()>.6?(r=Palettes.NewYears[Math.round(Math.random()*(Palettes.NewYears.length-1))],t.push({lamp:i,color:r,bri:255,transitionTime:0})):(u=Math.floor(Math.random()*10+6),t.push({lamp:i,bri:-255,transitionTime:u}))}),t},index:0},Broadway:{interval:500,Palette:Palettes.Broadway,update:function(n){scenes.Broadway.index++;scenes.Broadway.index>=n.length&&(scenes.Broadway.index=0);return scenes.one(n,this.Palette,scenes.Broadway.index,0)},index:0},Police:{interval:200,Palette:Palettes.Police,update:function(n){return scenes.Police.index++,scenes.Police.index>=this.Palette.length&&(scenes.Police.index=0),scenes.cycle(n,this.Palette,scenes.Police.index,0)},index:0},Sunrise:{interval:5e3,Palette:Palettes.Sunrise,update:function(n){return scenes.Sunrise.index++,scenes.Sunrise.index>=this.Palette.length&&(scenes.Sunrise.index=0),scenes.cycle(n,this.Palette,scenes.Sunrise.index,50)},index:0},Disco:{interval:200,Palette:Palettes.Rainbow,update:function(n){return scenes.randomPallete(n,this.Palette)}},Thanksgiving:{interval:2e3,Palette:Palettes.Thanksgiving,update:function(n){return scenes.randomPallete(n,this.Palette)}},TurkeyFeast:{interval:5e3,Palette:Palettes.TurkeyFeast,update:function(n){return scenes.randomPallete(n,this.Palette)}},TurkeyDinner:{interval:1e3,Palette:Palettes.TurkeyDinner,update:function(n){return scenes.randomPallete(n,this.Palette)}},Ambient:{interval:1e3,Palette:Palettes.Empty,update:function(n){var t=[],i=Ambient.getDominantColors();return $.each(n,function(n,r){var u=i[n];t.push({lamp:r,color:u,transitionTime:10})}),t}},makeArray:function(n){return $.isArray(n)||(n=[n]),n},one:function(n,t,i,r){n=scenes.makeArray(n);var u=[];return $.each(n,function(n,f){n===i?u.push({lamp:f,color:t[1],transitionTime:r}):u.push({lamp:f,color:t[0],transitionTime:r})}),u},chain:function(n,t,i,r){n=scenes.makeArray(n);var u=[];return $.each(n,function(n,f){var e=t[n+i];u.push({lamp:f,color:e,transitionTime:r})}),u},cycle:function(n,t,i,r){n=scenes.makeArray(n);var u=[],f=t[i];return $.each(n,function(n,t){u.push({lamp:t,color:f,transitionTime:r})}),u},randomPallete:function(n,t,i){n=scenes.makeArray(n);var r=[];return $.each(n,function(n,u){var f=t[Math.round(Math.random()*(t.length-1))];r.push({lamp:u,color:f,transitionTime:i})}),r}};sceneCommander=function(n,t){var r=null,i=null,u=null,s=function(n,r){if(o(),e("Starting scene "+n),i=scenes[n],i===undefined){var s=t.getState();s.scenes[n]!==undefined&&t.startScene(n)}else i.interval===0?setTimeout(f,10):(u=setInterval(function(){f(r)},i.interval),f(r))},o=function(){e("Stop scenes");clearInterval(u);i=null},f=function(r){if(e("Updating scenes"),i===null)clearInterval(u);else{var f=i.update(r);n(f).each(function(n,i){var r=i.transitionTime,u;i.color!==undefined?(u=i.color.color!==undefined?i.color.color:i.color,t.setColor(i.lamp,u.substring(1),r,i.bri)):i.bri!==undefined&&t.brighten(i.lamp,i.bri,r)})}},e=function(n){r!==null&&r(n)};return{executing:function(){return i},sceneExists:function(n){return scenes[n]!==undefined},start:function(n,t){s(n,t)},stop:function(){o()},setLogger:function(n){r=n}}};hue=function(n,t){var o="",a="lightswitch-v4",r={status:"init",text:"Initializing..."},b=null,v="http://"+o+"/api",e=v+"/"+a,it=null,f=3,rt={on:!1},ut={on:!0},ft={alert:"select"},et={alert:"lselect"},y=null,ot=function(){v="http://"+o+"/api";e=v+"/"+a},s=function(n){it=n;i(JSON.stringify(it))},k=function(t,i,r,u){var f={type:"PUT",url:t,success:i,error:r,dataType:"json",contentType:"application/json",data:JSON.stringify(u)};return n.ajax(f),u},at=function(t,i,r,u){var f={type:"POST",url:t,success:i,error:r,dataType:"json",contentType:"application/json",data:JSON.stringify(u)};return n.ajax(f),u},vt=function(t,i,r){var u={type:"DELETE",url:t,success:i,error:r};n.ajax(u)},yt=function(t,i,r){var u=i||null;u=null===u?s:i;n.ajax({dataType:"json",url:t,success:function(n){i(n)},error:r,timeout:2e3})},st=function(n){return e+"/lights/"+n+"/state"},pt=function(n){return e+"/groups/"+n+"/action"},ht=function(n){return n!==undefined?e+"/groups/"+n:e+"/groups"},u=function(n,t,i,r){var u=i||null;return u=null===u?s:i,k(st(n),u,r,t)},h=function(n,t){var r=s,u=i;return k(pt(n),r,u,t)},wt=function(n,t){var r=s,u=i,f={name:n,lights:t};return at(ht(),r,u,f)},bt=function(n){var t=s,r=i;return vt(ht(n),t,r)},ct=function(n,t,i){for(var u=t||null,u=null===u?s:t,r=0;r<f;++r)k(st(r+1),u,i,n);return n},kt=function(n){return e+"/lights/"+n},d=function(n,t,i){var r={xy:n};return typeof t=="number"&&(r.bri=t),g(r,i),r},g=function(n,t){typeof y=="number"&&(n.transitiontime=y);typeof t=="number"&&(n.transitiontime=t)},dt=function(n,t){var i={scene:n};return g(i,t),i},gt=function(n,t){yt(kt(n),function(n){t(n.state.bri)},function(n){n=null})},l=function(n,t){var i={bri:Number(n)};return g(i,t),i},nt=function(n,t,i){t=Number(t);gt(n,function(n){var r=n+t,u=r<255?r:254;u=r>0?r:0;i(Math.round(u))})},p=function(){n.ajax({dataType:"json",url:e,success:ni,error:ii,timeout:5e3})},ni=function(t){var r=t;n.isArray(r)&&(r=t[0]);r.hasOwnProperty("error")&&r.error.description==="unauthorized user"?(i("Not authorized with bridge, registering..."),lt()):r.hasOwnProperty("lights")&&ti(r)},ti=function(n){b=n;f=Object.keys(n.lights).length;var t="No  lights found";t=f===0?"No lights found.":f===1?"One light found.":""+f+" lights found.";i("Updating Status - ok...");c("OK",t)},ii=function(n){n.statusText==="timeout"?p():(i("error on auth: "+n.statusText),c("BridgeNotFound","Philip Hue bridge not found."))},lt=function(){i("adding user...");var t=JSON.stringify({devicetype:a,username:a});i(t);n.ajax({url:v,type:"POST",data:t,success:function(n){i(n);n[0].hasOwnProperty("error")?n[0].error.description==="link button not pressed"?(c("Authenticating","Bridge found. Press link button."),setTimeout(lt,2e3)):i("Error: "+n[0].error.description):n[0].hasOwnProperty("success")&&(i("Authorization successful"),p())}})},c=function(n,t,i){var u={status:n,text:t,data:i};JSON.stringify(r)!==JSON.stringify(u)&&(console.log("hue: sending status change, "+u.status+", text: "+u.text+", data: "+u.data),r=u,ri())},i=function(n){console.log("hue: "+n);tt!==null&&tt(n)},w=null,tt=null,ri=function(){w!==null&&(console.log("hue: sending status change, "+r.status+", text: "+r.text+", data: "+r.data),w(r))};return{flash:function(n){return u(n,ft)},flashAll:function(){return ct(ft)},longFlash:function(n){return u(n,et)},longFlashAll:function(){return ct(et)},setColor:function(n,i,r,f){var e=t.getCIEColor(i),o,s;typeof f=="number"?(o=colorUtil().getBrightness(i),nt(n,o,function(t){var i=d(e,t,r);u(n,i)})):(s=d(e,null,r),u(n,s))},setAllColors:function(n){var i=t.getCIEColor(n);colorUtil().getBrightness(n,function(n){var t=d(i,n);h(0,t)})},createGroup:function(n,t){return wt(n,t)},removeGroup:function(n){return bt(n)},startScene:function(n){var t=dt(n);return h(0,t)},turnOff:function(n){return u(n,rt)},turnOn:function(n){return u(n,ut)},turnOffAll:function(){return r.status==="OK"&&(r.data=!1),h(0,rt)},turnOnAll:function(){return r.status==="OK"&&(r.data=!0),h(0,ut)},setBrightness:function(n,t,i){var r=l(t,i);return u(n,r)},setAllBrightness:function(n){var t=l(n);return h(0,t)},setGroupBrightness:function(n,t){var i=l(t);return h(n,i)},dim:function(n,t,i){t=t||-10;nt(t,function(t){return u(n,l(t,i))})},dimAll:function(n){for(var i=[],t=0;t<f;++t)i[t]=this.dim(t+1,n);return i},brighten:function(n,t,i){t=t||10;nt(n,t,function(t){return u(n,l(t,i))})},brightenAll:function(n){for(var i=[],t=0;t<f;++t)i[t]=this.brighten(t+1,n);return i},getTransitionTime:function(){return y},setTransitionTime:function(n){y=n},setIp:function(n){o=n;ot()},findBridge:function(t){i("Requesting meethue.com/api/nupnp.");n.ajax({url:"https://www.meethue.com/api/nupnp",dataType:"json",timeout:2e3,success:function(n){n!==null&&n.length>0?(o=n[0].internalipaddress,o!=="0.0.0.0"?(i("Found bridge at "+o),ot(),p()):(i("Bridge not found"),c("BridgeNotFound","Philip Hue lights not found."))):(i("meethue portal did not return"),c("BridgeNotFound","Philip Hue lights not found."))},error:function(n){i(n);c("BridgeNotFound","Philip Hue lights not found.");typeof t!="undefined"&&t(n)}})},setNumberOfLamps:function(n){typeof n=="number"&&(f=n)},onStatusChange:function(n){console.log("new subscriber to status change registered; internal status"+r);w=n;w(r)},setLogger:function(n){console.log("new subscriber to log change registered;");tt=n},getState:function(){return b},heartbeat:function(){p()},getLampIds:function(n){if(n===null)return[];if(n.substring(0,6)==="group-"){var t=n.substring(6);return b.groups[t].lights}return[n]}}};typeof String.prototype.endsWith!="function"&&(String.prototype.endsWith=function(n){return this.indexOf(n,this.length-n.length)!==-1});typeof String.prototype.startsWith!="function"&&(String.prototype.startsWith=function(n){return this.indexOf(n)!==-1});colorUtil=function(){function t(n){var t={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lemon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",minty:"#98FF98",coldwhite:"#FFF4E5",warmwhite:"#D4EBFF"};return typeof t[n.toLowerCase()]!="undefined"?t[n.toLowerCase()]:!1}function i(n){var t=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n);return t?!0:!1}function n(n){var t=n.toString(16);return t.length===1?"0"+t:t}function r(n){var t;return n=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,t,i,r){return t+t+i+i+r+r}),t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}return{getColor:function(n){var r=t(n),u;return r!==!1?r:(u=i(n),u)?n:!1},getBrightness:function(n){var t=r(n);return Math.round(.2126*t.r+.7152*t.g+.0722*t.b)},rgbToHex:function(t,i,r){return"#"+n(t)+n(i)+n(r)}}};hueCommander=function(n,t,i,r){var e=null,u=null,s=function(n){var e,s,c,l;if(o("executing command: "+n+" on actors: "+u),trackEvent("huecommander","command",n),n==="#brighten"&&t.brightenAll(Math.floor(85)),n==="#darken"&&t.brightenAll(Math.floor(-85)),n==="on"){f(function(n){t.turnOn(n)});return}if(n==="off"){f(function(n){t.turnOff(n)});return}if(e=h(n),e!==null){f(function(n){t.setBrightness(n,e)});return}if(s=i.getColor(n),s!==!1){f(function(n){t.setColor(n,s.substring(1))});return}if(n==="scene:stop"&&r.stop(),n.lastIndexOf("scene:",0)===0){c=n.substring(6);l=t.getLampIds(u);r.start(c,l);return}},f=function(i){r.stop();var f=t.getLampIds(u);n.isArray(f)||(f=[f]);n.each(f,function(n,t){i(t)})},h=function(n){return n.startsWith("bri:")?n.substring(4):null},o=function(n){e!==null&&e(n)};return{setActor:function(n){u=n},getActor:function(){return u},getActorStates:function(){var f=t.getLampIds(u),i=window.hue.getState(),r=[];return i.lights!==null&&n.each(i.lights,function(n,t){f.indexOf(n)!==-1&&(o("Lights: "+n+", name: "+t.name+", reachable: "+t.state.reachable+", on: "+t.state.on),r.push(t))}),r},command:function(n){s(n)},setLogger:function(n){e=n}}};$(document).ready(function(){});
//# sourceMappingURL=hue.min.js.map
